var Hl=Object.defineProperty;var Io=s=>{throw TypeError(s)};var Gl=(s,i,o)=>i in s?Hl(s,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[i]=o;var Sr=(s,i,o)=>Gl(s,typeof i!="symbol"?i+"":i,o),Xs=(s,i,o)=>i.has(s)||Io("Cannot "+o);var vt=(s,i,o)=>(Xs(s,i,"read from private field"),o?o.call(s):i.get(s)),Cn=(s,i,o)=>i.has(s)?Io("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(s):i.set(s,o),wn=(s,i,o,a)=>(Xs(s,i,"write to private field"),a?a.call(s,o):i.set(s,o),o),En=(s,i,o)=>(Xs(s,i,"access private method"),o);var Wr=(s,i,o,a)=>({set _(c){wn(s,i,c,o)},get _(){return vt(s,i,a)}});function _mergeNamespaces(s,i){for(var o=0;o<i.length;o++){const a=i[o];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in s)){const h=Object.getOwnPropertyDescriptor(a,c);h&&Object.defineProperty(s,c,h.get?h:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function o(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=o(c);fetch(c.href,h)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var i=s.default;if(typeof i=="function"){var o=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};o.prototype=i.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var c=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(o,a,c.get?c:{enumerable:!0,get:function(){return s[a]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(s){return s===null||typeof s!="object"?null:(s=z$1&&s[z$1]||s["@@iterator"],typeof s=="function"?s:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$2(s,i,o){this.props=s,this.context=i,this.refs=D$2,this.updater=o||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(s,i){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,i,"setState")};E$2.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(s,i,o){this.props=s,this.context=i,this.refs=D$2,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$1(s,i,o){var a,c={},h=null,g=null;if(i!=null)for(a in i.ref!==void 0&&(g=i.ref),i.key!==void 0&&(h=""+i.key),i)J.call(i,a)&&!L$2.hasOwnProperty(a)&&(c[a]=i[a]);var b=arguments.length-2;if(b===1)c.children=o;else if(1<b){for(var _=Array(b),$=0;$<b;$++)_[$]=arguments[$+2];c.children=_}if(s&&s.defaultProps)for(a in b=s.defaultProps,b)c[a]===void 0&&(c[a]=b[a]);return{$$typeof:l$1,type:s,key:h,ref:g,props:c,_owner:K$1.current}}function N$1(s,i){return{$$typeof:l$1,type:s.type,key:i,ref:s.ref,props:s.props,_owner:s._owner}}function O$1(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$1}function escape$1(s){var i={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(o){return i[o]})}var P$2=/\/+/g;function Q$1(s,i){return typeof s=="object"&&s!==null&&s.key!=null?escape$1(""+s.key):i.toString(36)}function R$1(s,i,o,a,c){var h=typeof s;(h==="undefined"||h==="boolean")&&(s=null);var g=!1;if(s===null)g=!0;else switch(h){case"string":case"number":g=!0;break;case"object":switch(s.$$typeof){case l$1:case n$1:g=!0}}if(g)return g=s,c=c(g),s=a===""?"."+Q$1(g,0):a,I$1(c)?(o="",s!=null&&(o=s.replace(P$2,"$&/")+"/"),R$1(c,i,o,"",function($){return $})):c!=null&&(O$1(c)&&(c=N$1(c,o+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(P$2,"$&/")+"/")+s)),i.push(c)),1;if(g=0,a=a===""?".":a+":",I$1(s))for(var b=0;b<s.length;b++){h=s[b];var _=a+Q$1(h,b);g+=R$1(h,i,o,_,c)}else if(_=A$1(s),typeof _=="function")for(s=_.call(s),b=0;!(h=s.next()).done;)h=h.value,_=a+Q$1(h,b++),g+=R$1(h,i,o,_,c);else if(h==="object")throw i=String(s),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return g}function S$1(s,i,o){if(s==null)return s;var a=[],c=0;return R$1(s,a,"","",function(h){return i.call(o,h,c++)}),a}function T$1(s){if(s._status===-1){var i=s._result;i=i(),i.then(function(o){(s._status===0||s._status===-1)&&(s._status=1,s._result=o)},function(o){(s._status===0||s._status===-1)&&(s._status=2,s._result=o)}),s._status===-1&&(s._status=0,s._result=i)}if(s._status===1)return s._result.default;throw s._result}var U$2={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(s,i,o){S$1(s,function(){i.apply(this,arguments)},o)},count:function(s){var i=0;return S$1(s,function(){i++}),i},toArray:function(s){return S$1(s,function(i){return i})||[]},only:function(s){if(!O$1(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$2;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(s,i,o){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var a=C$1({},s.props),c=s.key,h=s.ref,g=s._owner;if(i!=null){if(i.ref!==void 0&&(h=i.ref,g=K$1.current),i.key!==void 0&&(c=""+i.key),s.type&&s.type.defaultProps)var b=s.type.defaultProps;for(_ in i)J.call(i,_)&&!L$2.hasOwnProperty(_)&&(a[_]=i[_]===void 0&&b!==void 0?b[_]:i[_])}var _=arguments.length-2;if(_===1)a.children=o;else if(1<_){b=Array(_);for(var $=0;$<_;$++)b[$]=arguments[$+2];a.children=b}return{$$typeof:l$1,type:s.type,key:c,ref:h,props:a,_owner:g}};react_production_min.createContext=function(s){return s={$$typeof:u,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t,_context:s},s.Consumer=s};react_production_min.createElement=M$1;react_production_min.createFactory=function(s){var i=M$1.bind(null,s);return i.type=s,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$2,render:s}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(s){return{$$typeof:y,_payload:{_status:-1,_result:s},_init:T$1}};react_production_min.memo=function(s,i){return{$$typeof:x,type:s,compare:i===void 0?null:i}};react_production_min.startTransition=function(s){var i=V$1.transition;V$1.transition={};try{s()}finally{V$1.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(s,i){return U$2.current.useCallback(s,i)};react_production_min.useContext=function(s){return U$2.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$2.current.useDeferredValue(s)};react_production_min.useEffect=function(s,i){return U$2.current.useEffect(s,i)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(s,i,o){return U$2.current.useImperativeHandle(s,i,o)};react_production_min.useInsertionEffect=function(s,i){return U$2.current.useInsertionEffect(s,i)};react_production_min.useLayoutEffect=function(s,i){return U$2.current.useLayoutEffect(s,i)};react_production_min.useMemo=function(s,i){return U$2.current.useMemo(s,i)};react_production_min.useReducer=function(s,i,o){return U$2.current.useReducer(s,i,o)};react_production_min.useRef=function(s){return U$2.current.useRef(s)};react_production_min.useState=function(s){return U$2.current.useState(s)};react_production_min.useSyncExternalStore=function(s,i,o){return U$2.current.useSyncExternalStore(s,i,o)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const e=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:e},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(s,i,o){var a,c={},h=null,g=null;o!==void 0&&(h=""+o),i.key!==void 0&&(h=""+i.key),i.ref!==void 0&&(g=i.ref);for(a in i)m$1.call(i,a)&&!p$1.hasOwnProperty(a)&&(c[a]=i[a]);if(s&&s.defaultProps)for(a in i=s.defaultProps,i)c[a]===void 0&&(c[a]=i[a]);return{$$typeof:k,type:s,key:h,ref:g,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function i(Jt,Rt){var zt=Jt.length;Jt.push(Rt);e:for(;0<zt;){var nn=zt-1>>>1,Nt=Jt[nn];if(0<c(Nt,Rt))Jt[nn]=Rt,Jt[zt]=Nt,zt=nn;else break e}}function o(Jt){return Jt.length===0?null:Jt[0]}function a(Jt){if(Jt.length===0)return null;var Rt=Jt[0],zt=Jt.pop();if(zt!==Rt){Jt[0]=zt;e:for(var nn=0,Nt=Jt.length,Et=Nt>>>1;nn<Et;){var St=2*(nn+1)-1,jt=Jt[St],en=St+1,sn=Jt[en];if(0>c(jt,zt))en<Nt&&0>c(sn,jt)?(Jt[nn]=sn,Jt[en]=zt,nn=en):(Jt[nn]=jt,Jt[St]=zt,nn=St);else if(en<Nt&&0>c(sn,zt))Jt[nn]=sn,Jt[en]=zt,nn=en;else break e}}return Rt}function c(Jt,Rt){var zt=Jt.sortIndex-Rt.sortIndex;return zt!==0?zt:Jt.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var g=Date,b=g.now();s.unstable_now=function(){return g.now()-b}}var _=[],$=[],_e=1,et=null,rt=3,st=!1,lt=!1,dt=!1,nt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function at(Jt){for(var Rt=o($);Rt!==null;){if(Rt.callback===null)a($);else if(Rt.startTime<=Jt)a($),Rt.sortIndex=Rt.expirationTime,i(_,Rt);else break;Rt=o($)}}function mt(Jt){if(dt=!1,at(Jt),!lt)if(o(_)!==null)lt=!0,dn(ot);else{var Rt=o($);Rt!==null&&on(mt,Rt.startTime-Jt)}}function ot(Jt,Rt){lt=!1,dt&&(dt=!1,tt(gt),gt=-1),st=!0;var zt=rt;try{for(at(Rt),et=o(_);et!==null&&(!(et.expirationTime>Rt)||Jt&&!wt());){var nn=et.callback;if(typeof nn=="function"){et.callback=null,rt=et.priorityLevel;var Nt=nn(et.expirationTime<=Rt);Rt=s.unstable_now(),typeof Nt=="function"?et.callback=Nt:et===o(_)&&a(_),at(Rt)}else a(_);et=o(_)}if(et!==null)var Et=!0;else{var St=o($);St!==null&&on(mt,St.startTime-Rt),Et=!1}return Et}finally{et=null,rt=zt,st=!1}}var pt=!1,ht=null,gt=-1,xt=5,Tt=-1;function wt(){return!(s.unstable_now()-Tt<xt)}function kt(){if(ht!==null){var Jt=s.unstable_now();Tt=Jt;var Rt=!0;try{Rt=ht(!0,Jt)}finally{Rt?Yt():(pt=!1,ht=null)}}else pt=!1}var Yt;if(typeof it=="function")Yt=function(){it(kt)};else if(typeof MessageChannel<"u"){var fn=new MessageChannel,an=fn.port2;fn.port1.onmessage=kt,Yt=function(){an.postMessage(null)}}else Yt=function(){nt(kt,0)};function dn(Jt){ht=Jt,pt||(pt=!0,Yt())}function on(Jt,Rt){gt=nt(function(){Jt(s.unstable_now())},Rt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Jt){Jt.callback=null},s.unstable_continueExecution=function(){lt||st||(lt=!0,dn(ot))},s.unstable_forceFrameRate=function(Jt){0>Jt||125<Jt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<Jt?Math.floor(1e3/Jt):5},s.unstable_getCurrentPriorityLevel=function(){return rt},s.unstable_getFirstCallbackNode=function(){return o(_)},s.unstable_next=function(Jt){switch(rt){case 1:case 2:case 3:var Rt=3;break;default:Rt=rt}var zt=rt;rt=Rt;try{return Jt()}finally{rt=zt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Jt,Rt){switch(Jt){case 1:case 2:case 3:case 4:case 5:break;default:Jt=3}var zt=rt;rt=Jt;try{return Rt()}finally{rt=zt}},s.unstable_scheduleCallback=function(Jt,Rt,zt){var nn=s.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?nn+zt:nn):zt=nn,Jt){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=zt+Nt,Jt={id:_e++,callback:Rt,priorityLevel:Jt,startTime:zt,expirationTime:Nt,sortIndex:-1},zt>nn?(Jt.sortIndex=zt,i($,Jt),o(_)===null&&Jt===o($)&&(dt?(tt(gt),gt=-1):dt=!0,on(mt,zt-nn))):(Jt.sortIndex=Nt,i(_,Jt),lt||st||(lt=!0,dn(ot))),Jt},s.unstable_shouldYield=wt,s.unstable_wrapCallback=function(Jt){var Rt=rt;return function(){var zt=rt;rt=Rt;try{return Jt.apply(this,arguments)}finally{rt=zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,i){ha(s,i),ha(s+"Capture",i)}function ha(s,i){for(ea[s]=i,s=0;s<i.length;s++)da.add(i[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,i,o,a){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,i,o,a){if(i===null||typeof i>"u"||pa(s,i,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$1(s,i,o,a,c,h,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=s,this.type=i,this.sanitizeURL=h,this.removeEmptyString=g}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z[s]=new v$1(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];z[i]=new v$1(i,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z[s]=new v$1(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z[s]=new v$1(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z[s]=new v$1(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z[s]=new v$1(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z[s]=new v$1(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z[s]=new v$1(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z[s]=new v$1(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(ra,sa);z[i]=new v$1(i,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(ra,sa);z[i]=new v$1(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(ra,sa);z[i]=new v$1(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z[s]=new v$1(s,1,!1,s.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z[s]=new v$1(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,i,o,a){var c=z.hasOwnProperty(i)?z[i]:null;(c!==null?c.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,o,c,a)&&(o=null),a||c===null?oa(i)&&(o===null?s.removeAttribute(i):s.setAttribute(i,""+o)):c.mustUseProperty?s[c.propertyName]=o===null?c.type===3?!1:"":o:(i=c.attributeName,a=c.attributeNamespace,o===null?s.removeAttribute(i):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?s.setAttributeNS(a,i,o):s.setAttribute(i,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+s}var Na=!1;function Oa(s,i){if(!s||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var a=$}Reflect.construct(s,[],i)}else{try{i.call()}catch($){a=$}s.call(i.prototype)}else{try{throw Error()}catch($){a=$}s()}}catch($){if($&&a&&typeof $.stack=="string"){for(var c=$.stack.split(`
`),h=a.stack.split(`
`),g=c.length-1,b=h.length-1;1<=g&&0<=b&&c[g]!==h[b];)b--;for(;1<=g&&0<=b;g--,b--)if(c[g]!==h[b]){if(g!==1||b!==1)do if(g--,b--,0>b||c[g]!==h[b]){var _=`
`+c[g].replace(" at new "," at ");return s.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",s.displayName)),_}while(1<=g&&0<=b);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return i=s.displayName||null,i!==null?i:Qa(s.type)||"Memo";case Ha:i=s._payload,s=s._init;try{return Qa(s(i))}catch{}}return null}function Ra(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(s){var i=Ta(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),a=""+s[i];if(!s.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,h=o.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(s,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),a="";return s&&(a=Ta(s)?s.checked?"true":"false":s.value),s=a,s!==o?(i.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,i){var o=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??s._wrapperState.initialChecked})}function Za(s,i){var o=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;o=Sa(i.value!=null?i.value:o),s._wrapperState={initialChecked:a,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(s,i){i=i.checked,i!=null&&ta(s,"checked",i,!1)}function bb(s,i){ab(s,i);var o=Sa(i.value),a=i.type;if(o!=null)a==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+o):s.value!==""+o&&(s.value=""+o);else if(a==="submit"||a==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?cb(s,i.type,o):i.hasOwnProperty("defaultValue")&&cb(s,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function db(s,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,o||i===s.value||(s.value=i),s.defaultValue=i}o=s.name,o!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,o!==""&&(s.name=o)}function cb(s,i,o){(i!=="number"||Xa(s.ownerDocument)!==s)&&(o==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+o&&(s.defaultValue=""+o))}var eb=Array.isArray;function fb(s,i,o,a){if(s=s.options,i){i={};for(var c=0;c<o.length;c++)i["$"+o[c]]=!0;for(o=0;o<s.length;o++)c=i.hasOwnProperty("$"+s[o].value),s[o].selected!==c&&(s[o].selected=c),c&&a&&(s[o].defaultSelected=!0)}else{for(o=""+Sa(o),i=null,c=0;c<s.length;c++){if(s[c].value===o){s[c].selected=!0,a&&(s[c].defaultSelected=!0);return}i!==null||s[c].disabled||(i=s[c])}i!==null&&(i.selected=!0)}}function gb(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}i=o}i==null&&(i=""),o=i}s._wrapperState={initialValue:Sa(o)}}function ib(s,i){var o=Sa(i.value),a=Sa(i.defaultValue);o!=null&&(o=""+o,o!==s.value&&(s.value=o),i.defaultValue==null&&s.defaultValue!==o&&(s.defaultValue=o)),a!=null&&(s.defaultValue=""+a)}function jb(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,a,c){MSApp.execUnsafeLocalFunction(function(){return s(i,o,a,c)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ob(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),pb[i]=pb[s]})});function rb(s,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||pb.hasOwnProperty(s)&&pb[s]?(""+i).trim():i+"px"}function sb(s,i){s=s.style;for(var o in i)if(i.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=rb(o,i[o],a);o==="float"&&(o="cssFloat"),a?s.setProperty(o,c):s[o]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,i){if(i){if(tb[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p(280));var i=s.stateNode;i&&(i=Db(i),yb(s.stateNode,s.type,i))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,i=Ab;if(Ab=zb=null,Bb(s),i)for(s=0;s<i.length;s++)Bb(i[s])}}function Gb(s,i){return s(i)}function Hb(){}var Ib=!1;function Jb(s,i,o){if(Ib)return s(i,o);Ib=!0;try{return Gb(s,i,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,i){var o=s.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(s=s.type,a=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!a;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(p(231,i,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,i,o,a,c,h,g,b,_){var $=Array.prototype.slice.call(arguments,3);try{i.apply(o,$)}catch(_e){this.onError(_e)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,i,o,a,c,h,g,b,_){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,i,o,a,c,h,g,b,_){if(Tb.apply(this,arguments),Ob){if(Ob){var $=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=$)}}function Vb(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function Wb(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p(188))}function Yb(s){var i=s.alternate;if(!i){if(i=Vb(s),i===null)throw Error(p(188));return i!==s?null:s}for(var o=s,a=i;;){var c=o.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===o)return Xb(c),s;if(h===a)return Xb(c),i;h=h.sibling}throw Error(p(188))}if(o.return!==a.return)o=c,a=h;else{for(var g=!1,b=c.child;b;){if(b===o){g=!0,o=c,a=h;break}if(b===a){g=!0,a=c,o=h;break}b=b.sibling}if(!g){for(b=h.child;b;){if(b===o){g=!0,o=h,a=c;break}if(b===a){g=!0,a=h,o=c;break}b=b.sibling}if(!g)throw Error(p(189))}}if(o.alternate!==a)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?s:i}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=$b(s);if(i!==null)return i;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,i){var o=s.pendingLanes;if(o===0)return 0;var a=0,c=s.suspendedLanes,h=s.pingedLanes,g=o&268435455;if(g!==0){var b=g&~c;b!==0?a=tc(b):(h&=g,h!==0&&(a=tc(h)))}else g=o&~c,g!==0?a=tc(g):h!==0&&(a=tc(h));if(a===0)return 0;if(i!==0&&i!==a&&!(i&c)&&(c=a&-a,h=i&-i,c>=h||c===16&&(h&4194240)!==0))return i;if(a&4&&(a|=o&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=a;0<i;)o=31-oc(i),c=1<<o,a|=s[o],i&=~c;return a}function vc(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,i){for(var o=s.suspendedLanes,a=s.pingedLanes,c=s.expirationTimes,h=s.pendingLanes;0<h;){var g=31-oc(h),b=1<<g,_=c[g];_===-1?(!(b&o)||b&a)&&(c[g]=vc(b,i)):_<=i&&(s.expiredLanes|=b),h&=~b}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function Ac(s,i,o){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-oc(i),s[i]=o}function Bc(s,i){var o=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var a=s.eventTimes;for(s=s.expirationTimes;0<o;){var c=31-oc(o),h=1<<c;i[c]=0,a[c]=-1,s[c]=-1,o&=~h}}function Cc(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var a=31-oc(o),c=1<<a;c&i|s[a]&i&&(s[a]|=i),o&=~c}}var C=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,i){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(s,i,o,a,c,h){return s===null||s.nativeEvent!==h?(s={blockedOn:i,domEventName:o,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),s):(s.eventSystemFlags|=a,i=s.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),s)}function Uc(s,i,o,a,c){switch(i){case"focusin":return Lc=Tc(Lc,s,i,o,a,c),!0;case"dragenter":return Mc=Tc(Mc,s,i,o,a,c),!0;case"mouseover":return Nc=Tc(Nc,s,i,o,a,c),!0;case"pointerover":var h=c.pointerId;return Oc.set(h,Tc(Oc.get(h)||null,s,i,o,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Pc.set(h,Tc(Pc.get(h)||null,s,i,o,a,c)),!0}return!1}function Vc(s){var i=Wc(s.target);if(i!==null){var o=Vb(i);if(o!==null){if(i=o.tag,i===13){if(i=Wb(o),i!==null){s.blockedOn=i,Ic(s.priority,function(){Gc(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=Yc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(o===null){o=s.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return i=Cb(o),i!==null&&Fc(i),s.blockedOn=o,!1;i.shift()}return!0}function Zc(s,i,o){Xc(s)&&o.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,i){s.blockedOn===i&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function i(c){return ad(c,s)}if(0<Kc.length){ad(Kc[0],s);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===s&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(i),Pc.forEach(i),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===s&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,i,o,a){var c=C,h=cd.transition;cd.transition=null;try{C=1,fd(s,i,o,a)}finally{C=c,cd.transition=h}}function gd(s,i,o,a){var c=C,h=cd.transition;cd.transition=null;try{C=4,fd(s,i,o,a)}finally{C=c,cd.transition=h}}function fd(s,i,o,a){if(dd){var c=Yc(s,i,o,a);if(c===null)hd(s,i,a,id,o),Sc(s,a);else if(Uc(c,s,i,o,a))a.stopPropagation();else if(Sc(s,a),i&4&&-1<Rc.indexOf(s)){for(;c!==null;){var h=Cb(c);if(h!==null&&Ec(h),h=Yc(s,i,o,a),h===null&&hd(s,i,a,id,o),h===c)break;c=h}c!==null&&a.stopPropagation()}else hd(s,i,a,null,o)}}var id=null;function Yc(s,i,o,a){if(id=null,s=xb(a),s=Wc(s),s!==null)if(i=Vb(s),i===null)s=null;else if(o=i.tag,o===13){if(s=Wb(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,i=ld,o=i.length,a,c="value"in kd?kd.value:kd.textContent,h=c.length;for(s=0;s<o&&i[s]===c[s];s++);var g=o-s;for(a=1;a<=g&&i[o-a]===c[h-a];a++);return md=c.slice(s,1<a?1-a:void 0)}function od(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function i(o,a,c,h,g){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var b in s)s.hasOwnProperty(b)&&(o=s[b],this[b]=o?o(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Od[s])?!!i[s]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(s){if(s.key){var i=Md[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae$1||be&&8<be&&11>=be),ee$1=" ",fe=!1;function ge(s,i){switch(s){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie=!1;function je(s,i){switch(s){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee$1);case"textInput":return s=i.data,s===ee$1&&fe?null:s;default:return null}}function ke(s,i){if(ie)return s==="compositionend"||!ae$1&&ge(s,i)?(s=nd(),md=ld=kd=null,ie=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!le[s.type]:i==="textarea"}function ne$1(s,i,o,a){Eb(a),i=oe$1(i,"onChange"),0<i.length&&(o=new td("onChange","change",null,o,a),s.push({event:o,listeners:i}))}var pe=null,qe=null;function re(s){se$1(s,0)}function te$1(s){var i=ue(s);if(Wa(i))return s}function ve(s,i){if(s==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(s){if(s.propertyName==="value"&&te$1(qe)){var i=[];ne$1(i,qe,s,xb(s)),Jb(re,i)}}function Ce(s,i,o){s==="focusin"?(Ae(),pe=i,qe=o,pe.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae()}function De(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te$1(qe)}function Ee(s,i){if(s==="click")return te$1(i)}function Fe(s,i){if(s==="input"||s==="change")return te$1(i)}function Ge(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(s,i){if(He(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),a=Object.keys(i);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!ja.call(i,c)||!He(s[c],i[c]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke(s,i){var o=Je(s);s=0;for(var a;o;){if(o.nodeType===3){if(a=s+o.textContent.length,s<=i&&a>=i)return{node:o,offset:i-s};s=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Le(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var s=window,i=Xa();i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Xa(s.document)}return i}function Ne(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function Oe(s){var i=Me(),o=s.focusedElem,a=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(i=a.start,s=a.end,s===void 0&&(s=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(s,o.value.length);else if(s=(i=o.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var c=o.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!s.extend&&h>a&&(c=a,a=h,h=c),c=Ke(o,h);var g=Ke(o,a);c&&g&&(s.rangeCount!==1||s.anchorNode!==c.node||s.anchorOffset!==c.offset||s.focusNode!==g.node||s.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),s.removeAllRanges(),h>a?(s.addRange(i),s.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),s.addRange(i)))}}for(i=[],s=o;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)s=i[o],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(s,i,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te$1||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe$1(Re,"onSelect"),0<a.length&&(i=new td("onSelect","select",null,i,o),s.push({event:i,listeners:a}),i.target=Qe)))}function Ve(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(s){if(Xe[s])return Xe[s];if(!We[s])return s;var i=We[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ye)return Xe[s]=i[o];return s}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,i){df.set(s,i),fa(i,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,i,o){var a=s.type||"unknown-event";s.currentTarget=o,Ub(a,i,void 0,s),s.currentTarget=null}function se$1(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var a=s[o],c=a.event;a=a.listeners;e:{var h=void 0;if(i)for(var g=a.length-1;0<=g;g--){var b=a[g],_=b.instance,$=b.currentTarget;if(b=b.listener,_!==h&&c.isPropagationStopped())break e;nf(c,b,$),h=_}else for(g=0;g<a.length;g++){if(b=a[g],_=b.instance,$=b.currentTarget,b=b.listener,_!==h&&c.isPropagationStopped())break e;nf(c,b,$),h=_}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D$1(s,i){var o=i[of];o===void 0&&(o=i[of]=new Set);var a=s+"__bubble";o.has(a)||(pf(i,s,2,!1),o.add(a))}function qf(s,i,o){var a=0;i&&(a|=4),pf(o,s,a,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,s),qf(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(s,i,o,a){switch(jd(i)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}o=c.bind(null,i,o,s),c=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),a?c!==void 0?s.addEventListener(i,o,{capture:!0,passive:c}):s.addEventListener(i,o,!0):c!==void 0?s.addEventListener(i,o,{passive:c}):s.addEventListener(i,o,!1)}function hd(s,i,o,a,c){var h=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var b=a.stateNode.containerInfo;if(b===c||b.nodeType===8&&b.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;g=g.return}for(;b!==null;){if(g=Wc(b),g===null)return;if(_=g.tag,_===5||_===6){a=h=g;continue e}b=b.parentNode}}a=a.return}Jb(function(){var $=h,_e=xb(o),et=[];e:{var rt=df.get(s);if(rt!==void 0){var st=td,lt=s;switch(s){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":st=Rd;break;case"focusin":lt="focus",st=Fd;break;case"focusout":lt="blur",st=Fd;break;case"beforeblur":case"afterblur":st=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Vd;break;case $e:case af:case bf:st=Hd;break;case cf:st=Xd;break;case"scroll":st=vd;break;case"wheel":st=Zd;break;case"copy":case"cut":case"paste":st=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Td}var dt=(i&4)!==0,nt=!dt&&s==="scroll",tt=dt?rt!==null?rt+"Capture":null:rt;dt=[];for(var it=$,at;it!==null;){at=it;var mt=at.stateNode;if(at.tag===5&&mt!==null&&(at=mt,tt!==null&&(mt=Kb(it,tt),mt!=null&&dt.push(tf(it,mt,at)))),nt)break;it=it.return}0<dt.length&&(rt=new st(rt,lt,null,o,_e),et.push({event:rt,listeners:dt}))}}if(!(i&7)){e:{if(rt=s==="mouseover"||s==="pointerover",st=s==="mouseout"||s==="pointerout",rt&&o!==wb&&(lt=o.relatedTarget||o.fromElement)&&(Wc(lt)||lt[uf]))break e;if((st||rt)&&(rt=_e.window===_e?_e:(rt=_e.ownerDocument)?rt.defaultView||rt.parentWindow:window,st?(lt=o.relatedTarget||o.toElement,st=$,lt=lt?Wc(lt):null,lt!==null&&(nt=Vb(lt),lt!==nt||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(st=null,lt=$),st!==lt)){if(dt=Bd,mt="onMouseLeave",tt="onMouseEnter",it="mouse",(s==="pointerout"||s==="pointerover")&&(dt=Td,mt="onPointerLeave",tt="onPointerEnter",it="pointer"),nt=st==null?rt:ue(st),at=lt==null?rt:ue(lt),rt=new dt(mt,it+"leave",st,o,_e),rt.target=nt,rt.relatedTarget=at,mt=null,Wc(_e)===$&&(dt=new dt(tt,it+"enter",lt,o,_e),dt.target=at,dt.relatedTarget=nt,mt=dt),nt=mt,st&&lt)t:{for(dt=st,tt=lt,it=0,at=dt;at;at=vf(at))it++;for(at=0,mt=tt;mt;mt=vf(mt))at++;for(;0<it-at;)dt=vf(dt),it--;for(;0<at-it;)tt=vf(tt),at--;for(;it--;){if(dt===tt||tt!==null&&dt===tt.alternate)break t;dt=vf(dt),tt=vf(tt)}dt=null}else dt=null;st!==null&&wf(et,rt,st,dt,!1),lt!==null&&nt!==null&&wf(et,nt,lt,dt,!0)}}e:{if(rt=$?ue($):window,st=rt.nodeName&&rt.nodeName.toLowerCase(),st==="select"||st==="input"&&rt.type==="file")var ot=ve;else if(me(rt))if(we)ot=Fe;else{ot=De;var pt=Ce}else(st=rt.nodeName)&&st.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(ot=Ee);if(ot&&(ot=ot(s,$))){ne$1(et,ot,o,_e);break e}pt&&pt(s,rt,$),s==="focusout"&&(pt=rt._wrapperState)&&pt.controlled&&rt.type==="number"&&cb(rt,"number",rt.value)}switch(pt=$?ue($):window,s){case"focusin":(me(pt)||pt.contentEditable==="true")&&(Qe=pt,Re=$,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(et,o,_e);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(et,o,_e)}var ht;if(ae$1)e:{switch(s){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ie?ge(s,o)&&(gt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(gt="onCompositionStart");gt&&(de&&o.locale!=="ko"&&(ie||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ie&&(ht=nd()):(kd=_e,ld="value"in kd?kd.value:kd.textContent,ie=!0)),pt=oe$1($,gt),0<pt.length&&(gt=new Ld(gt,s,null,o,_e),et.push({event:gt,listeners:pt}),ht?gt.data=ht:(ht=he(o),ht!==null&&(gt.data=ht)))),(ht=ce?je(s,o):ke(s,o))&&($=oe$1($,"onBeforeInput"),0<$.length&&(_e=new Ld("onBeforeInput","beforeinput",null,o,_e),et.push({event:_e,listeners:$}),_e.data=ht))}se$1(et,i)})}function tf(s,i,o){return{instance:s,listener:i,currentTarget:o}}function oe$1(s,i){for(var o=i+"Capture",a=[];s!==null;){var c=s,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Kb(s,o),h!=null&&a.unshift(tf(s,h,c)),h=Kb(s,i),h!=null&&a.push(tf(s,h,c))),s=s.return}return a}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,i,o,a,c){for(var h=i._reactName,g=[];o!==null&&o!==a;){var b=o,_=b.alternate,$=b.stateNode;if(_!==null&&_===a)break;b.tag===5&&$!==null&&(b=$,c?(_=Kb(o,h),_!=null&&g.unshift(tf(o,_,b))):c||(_=Kb(o,h),_!=null&&g.push(tf(o,_,b)))),o=o.return}g.length!==0&&s.push({event:i,listeners:g})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,i,o){if(i=zf(i),zf(s)!==i&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,i){var o=i,a=0;do{var c=o.nextSibling;if(s.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){s.removeChild(c),bd(i);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);bd(i)}function Lf(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return s;i--}else o==="/$"&&i++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var i=s[Of];if(i)return i;for(var o=s.parentNode;o;){if(i=o[uf]||o[Of]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=Mf(s);s!==null;){if(o=s[Of])return o;s=Mf(s)}return i}s=o,o=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E$1(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(s,i){Tf++,Sf[Tf]=s.current,s.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,i){var o=s.type.contextTypes;if(!o)return Vf;var a=s.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in o)c[h]=i[h];return a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E$1(Wf),E$1(H)}function ag(s,i,o){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,o)}function bg(s,i,o){var a=s.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in i))throw Error(p(108,Ra(s)||"Unknown",c));return A({},o,a)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,s),G(Wf,Wf.current),!0}function dg(s,i,o){var a=s.stateNode;if(!a)throw Error(p(169));o?(s=bg(s,i,Xf),a.__reactInternalMemoizedMergedChildContext=s,E$1(Wf),E$1(H),G(H,s)):E$1(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,i=C;try{var o=eg;for(C=1;s<o.length;s++){var a=o[s];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),c}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,i){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=i}function ug(s,i,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var a=rg;s=sg;var c=32-oc(a)-1;a&=~(1<<c),o+=1;var h=32-oc(i)+c;if(30<h){var g=c-c%5;h=(a&(1<<g)-1).toString(32),a>>=g,c-=g,rg=1<<32-oc(i)+c|o<<c|a,sg=h+s}else rg=1<<h|o<<c|a,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(s,i){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=s,i=s.deletions,i===null?(s.deletions=[o],s.flags|=16):i.push(o)}function Cg(s,i){switch(s.tag){case 5:var o=s.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,xg=s,yg=Lf(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,xg=s,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=i,o.return=s,s.child=o,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I){var i=yg;if(i){var o=i;if(!Cg(s,i)){if(Dg(s))throw Error(p(418));i=Lf(o.nextSibling);var a=xg;i&&Cg(s,i)?Ag(a,o):(s.flags=s.flags&-4097|2,I=!1,xg=s)}}else{if(Dg(s))throw Error(p(418));s.flags=s.flags&-4097|2,I=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I)return Fg(s),I=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ef(s.type,s.memoizedProps)),i&&(i=yg)){if(Dg(s))throw Hg(),Error(p(418));for(;i;)Ag(s,i),i=Lf(i.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"){if(i===0){yg=Lf(s.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,i,o){if(s=o.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var a=o.stateNode}if(!a)throw Error(p(147,s));var c=a,h=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===h?i.ref:(i=function(g){var b=c.refs;g===null?delete b[h]:b[h]=g},i._stringRef=h,i)}if(typeof s!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,s))}return s}function Mg(s,i){throw s=Object.prototype.toString.call(i),Error(p(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Ng(s){var i=s._init;return i(s._payload)}function Og(s){function i(tt,it){if(s){var at=tt.deletions;at===null?(tt.deletions=[it],tt.flags|=16):at.push(it)}}function o(tt,it){if(!s)return null;for(;it!==null;)i(tt,it),it=it.sibling;return null}function a(tt,it){for(tt=new Map;it!==null;)it.key!==null?tt.set(it.key,it):tt.set(it.index,it),it=it.sibling;return tt}function c(tt,it){return tt=Pg(tt,it),tt.index=0,tt.sibling=null,tt}function h(tt,it,at){return tt.index=at,s?(at=tt.alternate,at!==null?(at=at.index,at<it?(tt.flags|=2,it):at):(tt.flags|=2,it)):(tt.flags|=1048576,it)}function g(tt){return s&&tt.alternate===null&&(tt.flags|=2),tt}function b(tt,it,at,mt){return it===null||it.tag!==6?(it=Qg(at,tt.mode,mt),it.return=tt,it):(it=c(it,at),it.return=tt,it)}function _(tt,it,at,mt){var ot=at.type;return ot===ya?_e(tt,it,at.props.children,mt,at.key):it!==null&&(it.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===it.type)?(mt=c(it,at.props),mt.ref=Lg(tt,it,at),mt.return=tt,mt):(mt=Rg(at.type,at.key,at.props,null,tt.mode,mt),mt.ref=Lg(tt,it,at),mt.return=tt,mt)}function $(tt,it,at,mt){return it===null||it.tag!==4||it.stateNode.containerInfo!==at.containerInfo||it.stateNode.implementation!==at.implementation?(it=Sg(at,tt.mode,mt),it.return=tt,it):(it=c(it,at.children||[]),it.return=tt,it)}function _e(tt,it,at,mt,ot){return it===null||it.tag!==7?(it=Tg(at,tt.mode,mt,ot),it.return=tt,it):(it=c(it,at),it.return=tt,it)}function et(tt,it,at){if(typeof it=="string"&&it!==""||typeof it=="number")return it=Qg(""+it,tt.mode,at),it.return=tt,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return at=Rg(it.type,it.key,it.props,null,tt.mode,at),at.ref=Lg(tt,null,it),at.return=tt,at;case wa:return it=Sg(it,tt.mode,at),it.return=tt,it;case Ha:var mt=it._init;return et(tt,mt(it._payload),at)}if(eb(it)||Ka(it))return it=Tg(it,tt.mode,at,null),it.return=tt,it;Mg(tt,it)}return null}function rt(tt,it,at,mt){var ot=it!==null?it.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return ot!==null?null:b(tt,it,""+at,mt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return at.key===ot?_(tt,it,at,mt):null;case wa:return at.key===ot?$(tt,it,at,mt):null;case Ha:return ot=at._init,rt(tt,it,ot(at._payload),mt)}if(eb(at)||Ka(at))return ot!==null?null:_e(tt,it,at,mt,null);Mg(tt,at)}return null}function st(tt,it,at,mt,ot){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return tt=tt.get(at)||null,b(it,tt,""+mt,ot);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return tt=tt.get(mt.key===null?at:mt.key)||null,_(it,tt,mt,ot);case wa:return tt=tt.get(mt.key===null?at:mt.key)||null,$(it,tt,mt,ot);case Ha:var pt=mt._init;return st(tt,it,at,pt(mt._payload),ot)}if(eb(mt)||Ka(mt))return tt=tt.get(at)||null,_e(it,tt,mt,ot,null);Mg(it,mt)}return null}function lt(tt,it,at,mt){for(var ot=null,pt=null,ht=it,gt=it=0,xt=null;ht!==null&&gt<at.length;gt++){ht.index>gt?(xt=ht,ht=null):xt=ht.sibling;var Tt=rt(tt,ht,at[gt],mt);if(Tt===null){ht===null&&(ht=xt);break}s&&ht&&Tt.alternate===null&&i(tt,ht),it=h(Tt,it,gt),pt===null?ot=Tt:pt.sibling=Tt,pt=Tt,ht=xt}if(gt===at.length)return o(tt,ht),I&&tg(tt,gt),ot;if(ht===null){for(;gt<at.length;gt++)ht=et(tt,at[gt],mt),ht!==null&&(it=h(ht,it,gt),pt===null?ot=ht:pt.sibling=ht,pt=ht);return I&&tg(tt,gt),ot}for(ht=a(tt,ht);gt<at.length;gt++)xt=st(ht,tt,gt,at[gt],mt),xt!==null&&(s&&xt.alternate!==null&&ht.delete(xt.key===null?gt:xt.key),it=h(xt,it,gt),pt===null?ot=xt:pt.sibling=xt,pt=xt);return s&&ht.forEach(function(wt){return i(tt,wt)}),I&&tg(tt,gt),ot}function dt(tt,it,at,mt){var ot=Ka(at);if(typeof ot!="function")throw Error(p(150));if(at=ot.call(at),at==null)throw Error(p(151));for(var pt=ot=null,ht=it,gt=it=0,xt=null,Tt=at.next();ht!==null&&!Tt.done;gt++,Tt=at.next()){ht.index>gt?(xt=ht,ht=null):xt=ht.sibling;var wt=rt(tt,ht,Tt.value,mt);if(wt===null){ht===null&&(ht=xt);break}s&&ht&&wt.alternate===null&&i(tt,ht),it=h(wt,it,gt),pt===null?ot=wt:pt.sibling=wt,pt=wt,ht=xt}if(Tt.done)return o(tt,ht),I&&tg(tt,gt),ot;if(ht===null){for(;!Tt.done;gt++,Tt=at.next())Tt=et(tt,Tt.value,mt),Tt!==null&&(it=h(Tt,it,gt),pt===null?ot=Tt:pt.sibling=Tt,pt=Tt);return I&&tg(tt,gt),ot}for(ht=a(tt,ht);!Tt.done;gt++,Tt=at.next())Tt=st(ht,tt,gt,Tt.value,mt),Tt!==null&&(s&&Tt.alternate!==null&&ht.delete(Tt.key===null?gt:Tt.key),it=h(Tt,it,gt),pt===null?ot=Tt:pt.sibling=Tt,pt=Tt);return s&&ht.forEach(function(kt){return i(tt,kt)}),I&&tg(tt,gt),ot}function nt(tt,it,at,mt){if(typeof at=="object"&&at!==null&&at.type===ya&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case va:e:{for(var ot=at.key,pt=it;pt!==null;){if(pt.key===ot){if(ot=at.type,ot===ya){if(pt.tag===7){o(tt,pt.sibling),it=c(pt,at.props.children),it.return=tt,tt=it;break e}}else if(pt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===Ha&&Ng(ot)===pt.type){o(tt,pt.sibling),it=c(pt,at.props),it.ref=Lg(tt,pt,at),it.return=tt,tt=it;break e}o(tt,pt);break}else i(tt,pt);pt=pt.sibling}at.type===ya?(it=Tg(at.props.children,tt.mode,mt,at.key),it.return=tt,tt=it):(mt=Rg(at.type,at.key,at.props,null,tt.mode,mt),mt.ref=Lg(tt,it,at),mt.return=tt,tt=mt)}return g(tt);case wa:e:{for(pt=at.key;it!==null;){if(it.key===pt)if(it.tag===4&&it.stateNode.containerInfo===at.containerInfo&&it.stateNode.implementation===at.implementation){o(tt,it.sibling),it=c(it,at.children||[]),it.return=tt,tt=it;break e}else{o(tt,it);break}else i(tt,it);it=it.sibling}it=Sg(at,tt.mode,mt),it.return=tt,tt=it}return g(tt);case Ha:return pt=at._init,nt(tt,it,pt(at._payload),mt)}if(eb(at))return lt(tt,it,at,mt);if(Ka(at))return dt(tt,it,at,mt);Mg(tt,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,it!==null&&it.tag===6?(o(tt,it.sibling),it=c(it,at),it.return=tt,tt=it):(o(tt,it),it=Qg(at,tt.mode,mt),it.return=tt,tt=it),g(tt)):o(tt,it)}return nt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(s){var i=Wg.current;E$1(Wg),s._currentValue=i}function bh(s,i,o){for(;s!==null;){var a=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),s===o)break;s=s.return}}function ch(s,i){Xg=s,Zg=Yg=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(dh=!0),s.firstContext=null)}function eh(s){var i=s._currentValue;if(Zg!==s)if(s={context:s,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=s,Xg.dependencies={lanes:0,firstContext:s}}else Yg=Yg.next=s;return i}var fh=null;function gh(s){fh===null?fh=[s]:fh.push(s)}function hh(s,i,o,a){var c=i.interleaved;return c===null?(o.next=o,gh(i)):(o.next=c.next,c.next=o),i.interleaved=o,ih(s,a)}function ih(s,i){s.lanes|=i;var o=s.alternate;for(o!==null&&(o.lanes|=i),o=s,s=s.return;s!==null;)s.childLanes|=i,o=s.alternate,o!==null&&(o.childLanes|=i),o=s,s=s.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mh(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(s,i,o){var a=s.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i,ih(s,o)}return c=a.interleaved,c===null?(i.next=i,gh(a)):(i.next=c.next,c.next=i),a.interleaved=i,ih(s,o)}function oh(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var a=i.lanes;a&=s.pendingLanes,o|=a,i.lanes=o,Cc(s,o)}}function ph(s,i){var o=s.updateQueue,a=s.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?c=h=g:h=h.next=g,o=o.next}while(o!==null);h===null?c=h=i:h=h.next=i}else c=h=i;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}function qh(s,i,o,a){var c=s.updateQueue;jh=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var _=b,$=_.next;_.next=null,g===null?h=$:g.next=$,g=_;var _e=s.alternate;_e!==null&&(_e=_e.updateQueue,b=_e.lastBaseUpdate,b!==g&&(b===null?_e.firstBaseUpdate=$:b.next=$,_e.lastBaseUpdate=_))}if(h!==null){var et=c.baseState;g=0,_e=$=_=null,b=h;do{var rt=b.lane,st=b.eventTime;if((a&rt)===rt){_e!==null&&(_e=_e.next={eventTime:st,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var lt=s,dt=b;switch(rt=i,st=o,dt.tag){case 1:if(lt=dt.payload,typeof lt=="function"){et=lt.call(st,et,rt);break e}et=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=dt.payload,rt=typeof lt=="function"?lt.call(st,et,rt):lt,rt==null)break e;et=A({},et,rt);break e;case 2:jh=!0}}b.callback!==null&&b.lane!==0&&(s.flags|=64,rt=c.effects,rt===null?c.effects=[b]:rt.push(b))}else st={eventTime:st,lane:rt,tag:b.tag,payload:b.payload,callback:b.callback,next:null},_e===null?($=_e=st,_=et):_e=_e.next=st,g|=rt;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;rt=b,b=rt.next,rt.next=null,c.lastBaseUpdate=rt,c.shared.pending=null}}while(!0);if(_e===null&&(_=et),c.baseState=_,c.firstBaseUpdate=$,c.lastBaseUpdate=_e,i=c.shared.interleaved,i!==null){c=i;do g|=c.lane,c=c.next;while(c!==i)}else h===null&&(c.shared.lanes=0);rh|=g,s.lanes=g,s.memoizedState=et}}function sh(s,i,o){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var a=s[i],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(p(191,c));c.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(s){if(s===th)throw Error(p(174));return s}function yh(s,i){switch(G(wh,i),G(vh,s),G(uh,th),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=lb(i,s)}E$1(uh),G(uh,i)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(s){xh(wh.current);var i=xh(uh.current),o=lb(i,s.type);i!==o&&(G(vh,s),G(uh,o))}function Bh(s){vh.current===s&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p(321))}function Mh(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!He(s[o],i[o]))return!1;return!0}function Nh(s,i,o,a,c,h){if(Hh=h,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=s===null||s.memoizedState===null?Oh:Ph,s=o(a,c),Jh){h=0;do{if(Jh=!1,Kh=0,25<=h)throw Error(p(301));h+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,s=o(a,c)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p(300));return s}function Sh(){var s=Kh!==0;return Kh=0,s}function Th(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=s:O=O.next=s,O}function Uh(){if(N===null){var s=M.alternate;s=s!==null?s.memoizedState:null}else s=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=s;else{if(s===null)throw Error(p(310));N=s,s={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=s:O=O.next=s}return O}function Vh(s,i){return typeof i=="function"?i(s):i}function Wh(s){var i=Uh(),o=i.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=s;var a=N,c=a.baseQueue,h=o.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}a.baseQueue=c=h,o.pending=null}if(c!==null){h=c.next,a=a.baseState;var b=g=null,_=null,$=h;do{var _e=$.lane;if((Hh&_e)===_e)_!==null&&(_=_.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),a=$.hasEagerState?$.eagerState:s(a,$.action);else{var et={lane:_e,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};_===null?(b=_=et,g=a):_=_.next=et,M.lanes|=_e,rh|=_e}$=$.next}while($!==null&&$!==h);_===null?g=a:_.next=b,He(a,i.memoizedState)||(dh=!0),i.memoizedState=a,i.baseState=g,i.baseQueue=_,o.lastRenderedState=a}if(s=o.interleaved,s!==null){c=s;do h=c.lane,M.lanes|=h,rh|=h,c=c.next;while(c!==s)}else c===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function Xh(s){var i=Uh(),o=i.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=s;var a=o.dispatch,c=o.pending,h=i.memoizedState;if(c!==null){o.pending=null;var g=c=c.next;do h=s(h,g.action),g=g.next;while(g!==c);He(h,i.memoizedState)||(dh=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),o.lastRenderedState=h}return[h,a]}function Yh(){}function Zh(s,i){var o=M,a=Uh(),c=i(),h=!He(a.memoizedState,c);if(h&&(a.memoizedState=c,dh=!0),a=a.queue,$h(ai.bind(null,o,a,s),[s]),a.getSnapshot!==i||h||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,c,i),void 0,null),Q===null)throw Error(p(349));Hh&30||di(o,i,c)}return c}function di(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function ci(s,i,o,a){i.value=o,i.getSnapshot=a,ei(i)&&fi(s)}function ai(s,i,o){return o(function(){ei(i)&&fi(s)})}function ei(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!He(s,o)}catch{return!0}}function fi(s){var i=ih(s,1);i!==null&&gi(i,s,1,-1)}function hi(s){var i=Th();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:s},i.queue=s,s=s.dispatch=ii.bind(null,M,s),[i.memoizedState,s]}function bi(s,i,o,a){return s={tag:s,create:i,destroy:o,deps:a,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=s.next=s):(o=i.lastEffect,o===null?i.lastEffect=s.next=s:(a=o.next,o.next=s,s.next=a,i.lastEffect=s)),s}function ji(){return Uh().memoizedState}function ki(s,i,o,a){var c=Th();M.flags|=s,c.memoizedState=bi(1|i,o,void 0,a===void 0?null:a)}function li(s,i,o,a){var c=Uh();a=a===void 0?null:a;var h=void 0;if(N!==null){var g=N.memoizedState;if(h=g.destroy,a!==null&&Mh(a,g.deps)){c.memoizedState=bi(i,o,h,a);return}}M.flags|=s,c.memoizedState=bi(1|i,o,h,a)}function mi(s,i){return ki(8390656,8,s,i)}function $h(s,i){return li(2048,8,s,i)}function ni(s,i){return li(4,2,s,i)}function oi(s,i){return li(4,4,s,i)}function pi(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function qi(s,i,o){return o=o!=null?o.concat([s]):null,li(4,4,pi.bind(null,i,s),o)}function ri(){}function si(s,i){var o=Uh();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(o.memoizedState=[s,i],s)}function ti(s,i){var o=Uh();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(s=s(),o.memoizedState=[s,i],s)}function ui(s,i,o){return Hh&21?(He(o,i)||(o=yc(),M.lanes|=o,rh|=o,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,dh=!0),s.memoizedState=o)}function vi(s,i){var o=C;C=o!==0&&4>o?o:4,s(!0);var a=Gh.transition;Gh.transition={};try{s(!1),i()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(s,i,o){var a=yi(s);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(s))Ai(i,o);else if(o=hh(s,i,o,a),o!==null){var c=R();gi(o,s,a,c),Bi(o,i,a)}}function ii(s,i,o){var a=yi(s),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(s))Ai(i,c);else{var h=s.alternate;if(s.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var g=i.lastRenderedState,b=h(g,o);if(c.hasEagerState=!0,c.eagerState=b,He(b,g)){var _=i.interleaved;_===null?(c.next=c,gh(i)):(c.next=_.next,_.next=c),i.interleaved=c;return}}catch{}finally{}o=hh(s,i,c,a),o!==null&&(c=R(),gi(o,s,a,c),Bi(o,i,a))}}function zi(s){var i=s.alternate;return s===M||i!==null&&i===M}function Ai(s,i){Jh=Ih=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function Bi(s,i,o){if(o&4194240){var a=i.lanes;a&=s.pendingLanes,o|=a,i.lanes=o,Cc(s,o)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(s,i){return Th().memoizedState=[s,i===void 0?null:i],s},useContext:eh,useEffect:mi,useImperativeHandle:function(s,i,o){return o=o!=null?o.concat([s]):null,ki(4194308,4,pi.bind(null,i,s),o)},useLayoutEffect:function(s,i){return ki(4194308,4,s,i)},useInsertionEffect:function(s,i){return ki(4,2,s,i)},useMemo:function(s,i){var o=Th();return i=i===void 0?null:i,s=s(),o.memoizedState=[s,i],s},useReducer:function(s,i,o){var a=Th();return i=o!==void 0?o(i):i,a.memoizedState=a.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},a.queue=s,s=s.dispatch=xi.bind(null,M,s),[a.memoizedState,s]},useRef:function(s){var i=Th();return s={current:s},i.memoizedState=s},useState:hi,useDebugValue:ri,useDeferredValue:function(s){return Th().memoizedState=s},useTransition:function(){var s=hi(!1),i=s[0];return s=vi.bind(null,s[1]),Th().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,o){var a=M,c=Th();if(I){if(o===void 0)throw Error(p(407));o=o()}else{if(o=i(),Q===null)throw Error(p(349));Hh&30||di(a,i,o)}c.memoizedState=o;var h={value:o,getSnapshot:i};return c.queue=h,mi(ai.bind(null,a,h,s),[s]),a.flags|=2048,bi(9,ci.bind(null,a,h,o,i),void 0,null),o},useId:function(){var s=Th(),i=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,i=":"+i+"R"+o,o=Kh++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Lh++,i=":"+i+"r"+o.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var i=Uh();return ui(i,N.memoizedState,s)},useTransition:function(){var s=Wh(Vh)[0],i=Uh().memoizedState;return[s,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var i=Uh();return N===null?i.memoizedState=s:ui(i,N.memoizedState,s)},useTransition:function(){var s=Xh(Vh)[0],i=Uh().memoizedState;return[s,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(s,i){if(s&&s.defaultProps){i=A({},i),s=s.defaultProps;for(var o in s)i[o]===void 0&&(i[o]=s[o]);return i}return i}function Di(s,i,o,a){i=s.memoizedState,o=o(a,i),o=o==null?i:A({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Ei={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,i,o){s=s._reactInternals;var a=R(),c=yi(s),h=mh(a,c);h.payload=i,o!=null&&(h.callback=o),i=nh(s,h,c),i!==null&&(gi(i,s,c,a),oh(i,s,c))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var a=R(),c=yi(s),h=mh(a,c);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=nh(s,h,c),i!==null&&(gi(i,s,c,a),oh(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=R(),a=yi(s),c=mh(o,a);c.tag=2,i!=null&&(c.callback=i),i=nh(s,c,a),i!==null&&(gi(i,s,a,o),oh(i,s,a))}};function Fi(s,i,o,a,c,h,g){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(a,h,g):i.prototype&&i.prototype.isPureReactComponent?!Ie(o,a)||!Ie(c,h):!0}function Gi(s,i,o){var a=!1,c=Vf,h=i.contextType;return typeof h=="object"&&h!==null?h=eh(h):(c=Zf(i)?Xf:H.current,a=i.contextTypes,h=(a=a!=null)?Yf(s,c):Vf),i=new i(o,h),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,s.stateNode=i,i._reactInternals=s,a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=h),i}function Hi(s,i,o,a){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,a),i.state!==s&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(s,i,o,a){var c=s.stateNode;c.props=o,c.state=s.memoizedState,c.refs={},kh(s);var h=i.contextType;typeof h=="object"&&h!==null?c.context=eh(h):(h=Zf(i)?Xf:H.current,c.context=Yf(s,h)),c.state=s.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(Di(s,i,h,o),c.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(s,o,c,a),c.state=s.memoizedState),typeof c.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,i){try{var o="",a=i;do o+=Pa(a),a=a.return;while(a);var c=o}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:s,source:i,stack:c,digest:null}}function Ki(s,i,o){return{value:s,source:null,stack:o??null,digest:i??null}}function Li(s,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(s,i,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=i.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(s,i)},o}function Qi(s,i,o){o=mh(-1,o),o.tag=3;var a=s.type.getDerivedStateFromError;if(typeof a=="function"){var c=i.value;o.payload=function(){return a(c)},o.callback=function(){Li(s,i)}}var h=s.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){Li(s,i),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),o}function Si(s,i,o){var a=s.pingCache;if(a===null){a=s.pingCache=new Mi;var c=new Set;a.set(i,c)}else c=a.get(i),c===void 0&&(c=new Set,a.set(i,c));c.has(o)||(c.add(o),s=Ti.bind(null,s,i,o),i.then(s,s))}function Ui(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Vi(s,i,o,a,c){return s.mode&1?(s.flags|=65536,s.lanes=c,s):(s===i?s.flags|=65536:(s.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=mh(-1,1),i.tag=2,nh(o,i,1))),o.lanes|=1),s)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(s,i,o,a){i.child=s===null?Vg(i,null,o,a):Ug(i,s.child,o,a)}function Yi(s,i,o,a,c){o=o.render;var h=i.ref;return ch(i,c),a=Nh(s,i,o,a,h,c),o=Sh(),s!==null&&!dh?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~c,Zi(s,i,c)):(I&&o&&vg(i),i.flags|=1,Xi(s,i,a,c),i.child)}function $i(s,i,o,a,c){if(s===null){var h=o.type;return typeof h=="function"&&!aj(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=h,bj(s,i,h,a,c)):(s=Rg(o.type,null,a,i,i.mode,c),s.ref=i.ref,s.return=i,i.child=s)}if(h=s.child,!(s.lanes&c)){var g=h.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(g,a)&&s.ref===i.ref)return Zi(s,i,c)}return i.flags|=1,s=Pg(h,a),s.ref=i.ref,s.return=i,i.child=s}function bj(s,i,o,a,c){if(s!==null){var h=s.memoizedProps;if(Ie(h,a)&&s.ref===i.ref)if(dh=!1,i.pendingProps=a=h,(s.lanes&c)!==0)s.flags&131072&&(dh=!0);else return i.lanes=s.lanes,Zi(s,i,c)}return cj(s,i,o,a,c)}function dj(s,i,o){var a=i.pendingProps,c=a.children,h=s!==null?s.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return s=h!==null?h.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:o,G(ej,fj),fj|=a}else h!==null?(a=h.baseLanes|o,i.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(s,i,c,o),i.child}function gj(s,i){var o=i.ref;(s===null&&o!==null||s!==null&&s.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function cj(s,i,o,a,c){var h=Zf(o)?Xf:H.current;return h=Yf(i,h),ch(i,c),o=Nh(s,i,o,a,h,c),a=Sh(),s!==null&&!dh?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~c,Zi(s,i,c)):(I&&a&&vg(i),i.flags|=1,Xi(s,i,o,c),i.child)}function hj(s,i,o,a,c){if(Zf(o)){var h=!0;cg(i)}else h=!1;if(ch(i,c),i.stateNode===null)ij(s,i),Gi(i,o,a),Ii(i,o,a,c),a=!0;else if(s===null){var g=i.stateNode,b=i.memoizedProps;g.props=b;var _=g.context,$=o.contextType;typeof $=="object"&&$!==null?$=eh($):($=Zf(o)?Xf:H.current,$=Yf(i,$));var _e=o.getDerivedStateFromProps,et=typeof _e=="function"||typeof g.getSnapshotBeforeUpdate=="function";et||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==a||_!==$)&&Hi(i,g,a,$),jh=!1;var rt=i.memoizedState;g.state=rt,qh(i,a,g,c),_=i.memoizedState,b!==a||rt!==_||Wf.current||jh?(typeof _e=="function"&&(Di(i,o,_e,a),_=i.memoizedState),(b=jh||Fi(i,o,b,a,rt,_,$))?(et||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=_),g.props=a,g.state=_,g.context=$,a=b):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,lh(s,i),b=i.memoizedProps,$=i.type===i.elementType?b:Ci(i.type,b),g.props=$,et=i.pendingProps,rt=g.context,_=o.contextType,typeof _=="object"&&_!==null?_=eh(_):(_=Zf(o)?Xf:H.current,_=Yf(i,_));var st=o.getDerivedStateFromProps;(_e=typeof st=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==et||rt!==_)&&Hi(i,g,a,_),jh=!1,rt=i.memoizedState,g.state=rt,qh(i,a,g,c);var lt=i.memoizedState;b!==et||rt!==lt||Wf.current||jh?(typeof st=="function"&&(Di(i,o,st,a),lt=i.memoizedState),($=jh||Fi(i,o,$,a,rt,lt,_)||!1)?(_e||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,lt,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,lt,_)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&rt===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&rt===s.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=lt),g.props=a,g.state=lt,g.context=_,a=$):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&rt===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&rt===s.memoizedState||(i.flags|=1024),a=!1)}return jj(s,i,o,a,h,c)}function jj(s,i,o,a,c,h){gj(s,i);var g=(i.flags&128)!==0;if(!a&&!g)return c&&dg(i,o,!1),Zi(s,i,h);a=i.stateNode,Wi.current=i;var b=g&&typeof o.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,s!==null&&g?(i.child=Ug(i,s.child,null,h),i.child=Ug(i,null,b,h)):Xi(s,i,b,h),i.memoizedState=a.state,c&&dg(i,o,!0),i.child}function kj(s){var i=s.stateNode;i.pendingContext?ag(s,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(s,i.context,!1),yh(s,i.containerInfo)}function lj(s,i,o,a,c){return Ig(),Jg(c),i.flags|=256,Xi(s,i,o,a),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(s){return{baseLanes:s,cachePool:null,transitions:null}}function oj(s,i,o){var a=i.pendingProps,c=L$1.current,h=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=s!==null&&s.memoizedState===null?!1:(c&2)!==0),b?(h=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(c|=1),G(L$1,c&1),s===null)return Eg(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=a.children,s=a.fallback,h?(a=i.mode,h=i.child,g={mode:"hidden",children:g},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=g):h=pj(g,a,0,null),s=Tg(s,a,o,null),h.return=i,s.return=i,h.sibling=s,i.child=h,i.child.memoizedState=nj(o),i.memoizedState=mj,s):qj(i,g));if(c=s.memoizedState,c!==null&&(b=c.dehydrated,b!==null))return rj(s,i,g,a,b,c,o);if(h){h=a.fallback,g=i.mode,c=s.child,b=c.sibling;var _={mode:"hidden",children:a.children};return!(g&1)&&i.child!==c?(a=i.child,a.childLanes=0,a.pendingProps=_,i.deletions=null):(a=Pg(c,_),a.subtreeFlags=c.subtreeFlags&14680064),b!==null?h=Pg(b,h):(h=Tg(h,g,o,null),h.flags|=2),h.return=i,a.return=i,a.sibling=h,i.child=a,a=h,h=i.child,g=s.child.memoizedState,g=g===null?nj(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=s.childLanes&~o,i.memoizedState=mj,a}return h=s.child,s=h.sibling,a=Pg(h,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=o),a.return=i,a.sibling=null,s!==null&&(o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)),i.child=a,i.memoizedState=null,a}function qj(s,i){return i=pj({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function sj(s,i,o,a){return a!==null&&Jg(a),Ug(i,s.child,null,o),s=qj(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function rj(s,i,o,a,c,h,g){if(o)return i.flags&256?(i.flags&=-257,a=Ki(Error(p(422))),sj(s,i,g,a)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(h=a.fallback,c=i.mode,a=pj({mode:"visible",children:a.children},c,0,null),h=Tg(h,c,g,null),h.flags|=2,a.return=i,h.return=i,a.sibling=h,i.child=a,i.mode&1&&Ug(i,s.child,null,g),i.child.memoizedState=nj(g),i.memoizedState=mj,h);if(!(i.mode&1))return sj(s,i,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var b=a.dgst;return a=b,h=Error(p(419)),a=Ki(h,a,void 0),sj(s,i,g,a)}if(b=(g&s.childLanes)!==0,dh||b){if(a=Q,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,ih(s,c),gi(a,s,c,-1))}return tj(),a=Ki(Error(p(421))),sj(s,i,g,a)}return c.data==="$?"?(i.flags|=128,i.child=s.child,i=uj.bind(null,s),c._reactRetry=i,null):(s=h.treeContext,yg=Lf(c.nextSibling),xg=i,I=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=i),i=qj(i,a.children),i.flags|=4096,i)}function vj(s,i,o){s.lanes|=i;var a=s.alternate;a!==null&&(a.lanes|=i),bh(s.return,i,o)}function wj(s,i,o,a,c){var h=s.memoizedState;h===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=o,h.tailMode=c)}function xj(s,i,o){var a=i.pendingProps,c=a.revealOrder,h=a.tail;if(Xi(s,i,a.children,o),a=L$1.current,a&2)a=a&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj(s,o,i);else if(s.tag===19)vj(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a&=1}if(G(L$1,a),!(i.mode&1))i.memoizedState=null;else switch(c){case"forwards":for(o=i.child,c=null;o!==null;)s=o.alternate,s!==null&&Ch(s)===null&&(c=o),o=o.sibling;o=c,o===null?(c=i.child,i.child=null):(c=o.sibling,o.sibling=null),wj(i,!1,c,o,h);break;case"backwards":for(o=null,c=i.child,i.child=null;c!==null;){if(s=c.alternate,s!==null&&Ch(s)===null){i.child=c;break}s=c.sibling,c.sibling=o,o=c,c=s}wj(i,!0,o,null,h);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Zi(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),rh|=i.lanes,!(o&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(p(153));if(i.child!==null){for(s=i.child,o=Pg(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Pg(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function yj(s,i,o){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,c=i.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=c;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(G(L$1,L$1.current&1),i.flags|=128,null):o&i.child.childLanes?oj(s,i,o):(G(L$1,L$1.current&1),s=Zi(s,i,o),s!==null?s.sibling:null);G(L$1,L$1.current&1);break;case 19:if(a=(o&i.childLanes)!==0,s.flags&128){if(a)return xj(s,i,o);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L$1,L$1.current),a)break;return null;case 22:case 23:return i.lanes=0,dj(s,i,o)}return Zi(s,i,o)}var zj,Aj,Bj,Cj;zj=function(s,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(s,i,o,a){var c=s.memoizedProps;if(c!==a){s=i.stateNode,xh(uh.current);var h=null;switch(o){case"input":c=Ya(s,c),a=Ya(s,a),h=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),h=[];break;case"textarea":c=gb(s,c),a=gb(s,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(s.onclick=Bf)}ub(o,a);var g;o=null;for($ in c)if(!a.hasOwnProperty($)&&c.hasOwnProperty($)&&c[$]!=null)if($==="style"){var b=c[$];for(g in b)b.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?h||(h=[]):(h=h||[]).push($,null));for($ in a){var _=a[$];if(b=c!=null?c[$]:void 0,a.hasOwnProperty($)&&_!==b&&(_!=null||b!=null))if($==="style")if(b){for(g in b)!b.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in _)_.hasOwnProperty(g)&&b[g]!==_[g]&&(o||(o={}),o[g]=_[g])}else o||(h||(h=[]),h.push($,o)),o=_;else $==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,b=b?b.__html:void 0,_!=null&&b!==_&&(h=h||[]).push($,_)):$==="children"?typeof _!="string"&&typeof _!="number"||(h=h||[]).push($,""+_):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(ea.hasOwnProperty($)?(_!=null&&$==="onScroll"&&D$1("scroll",s),h||b===_||(h=[])):(h=h||[]).push($,_))}o&&(h=h||[]).push("style",o);var $=h;(i.updateQueue=$)&&(i.flags|=4)}};Cj=function(s,i,o,a){o!==a&&(i.flags|=4)};function Dj(s,i){if(!I)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:a.sibling=null}}function S(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,a=0;if(i)for(var c=s.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=s,c=c.sibling;else for(c=s.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=s,c=c.sibling;return s.subtreeFlags|=a,s.childLanes=o,i}function Ej(s,i,o){var a=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return a=i.stateNode,zh(),E$1(Wf),E$1(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Gg(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(s,i),S(i),null;case 5:Bh(i);var c=xh(wh.current);if(o=i.type,s!==null&&i.stateNode!=null)Bj(s,i,o,a,c),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(s=xh(uh.current),Gg(i)){a=i.stateNode,o=i.type;var h=i.memoizedProps;switch(a[Of]=i,a[Pf]=h,s=(i.mode&1)!==0,o){case"dialog":D$1("cancel",a),D$1("close",a);break;case"iframe":case"object":case"embed":D$1("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D$1(lf[c],a);break;case"source":D$1("error",a);break;case"img":case"image":case"link":D$1("error",a),D$1("load",a);break;case"details":D$1("toggle",a);break;case"input":Za(a,h),D$1("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},D$1("invalid",a);break;case"textarea":hb(a,h),D$1("invalid",a)}ub(o,h),c=null;for(var g in h)if(h.hasOwnProperty(g)){var b=h[g];g==="children"?typeof b=="string"?a.textContent!==b&&(h.suppressHydrationWarning!==!0&&Af(a.textContent,b,s),c=["children",b]):typeof b=="number"&&a.textContent!==""+b&&(h.suppressHydrationWarning!==!0&&Af(a.textContent,b,s),c=["children",""+b]):ea.hasOwnProperty(g)&&b!=null&&g==="onScroll"&&D$1("scroll",a)}switch(o){case"input":Va(a),db(a,h,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Bf)}a=c,i.updateQueue=a,a!==null&&(i.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(o)),s==="http://www.w3.org/1999/xhtml"?o==="script"?(s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof a.is=="string"?s=g.createElement(o,{is:a.is}):(s=g.createElement(o),o==="select"&&(g=s,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):s=g.createElementNS(s,o),s[Of]=i,s[Pf]=a,zj(s,i,!1,!1),i.stateNode=s;e:{switch(g=vb(o,a),o){case"dialog":D$1("cancel",s),D$1("close",s),c=a;break;case"iframe":case"object":case"embed":D$1("load",s),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D$1(lf[c],s);c=a;break;case"source":D$1("error",s),c=a;break;case"img":case"image":case"link":D$1("error",s),D$1("load",s),c=a;break;case"details":D$1("toggle",s),c=a;break;case"input":Za(s,a),c=Ya(s,a),D$1("invalid",s);break;case"option":c=a;break;case"select":s._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D$1("invalid",s);break;case"textarea":hb(s,a),c=gb(s,a),D$1("invalid",s);break;default:c=a}ub(o,c),b=c;for(h in b)if(b.hasOwnProperty(h)){var _=b[h];h==="style"?sb(s,_):h==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&nb(s,_)):h==="children"?typeof _=="string"?(o!=="textarea"||_!=="")&&ob(s,_):typeof _=="number"&&ob(s,""+_):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ea.hasOwnProperty(h)?_!=null&&h==="onScroll"&&D$1("scroll",s):_!=null&&ta(s,h,_,g))}switch(o){case"input":Va(s),db(s,a,!1);break;case"textarea":Va(s),jb(s);break;case"option":a.value!=null&&s.setAttribute("value",""+Sa(a.value));break;case"select":s.multiple=!!a.multiple,h=a.value,h!=null?fb(s,!!a.multiple,h,!1):a.defaultValue!=null&&fb(s,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(s.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(s&&i.stateNode!=null)Cj(s,i,s.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(p(166));if(o=xh(wh.current),xh(uh.current),Gg(i)){if(a=i.stateNode,o=i.memoizedProps,a[Of]=i,(h=a.nodeValue!==o)&&(s=xg,s!==null))switch(s.tag){case 3:Af(a.nodeValue,o,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(s.mode&1)!==0)}h&&(i.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=i,i.stateNode=a}return S(i),null;case 13:if(E$1(L$1),a=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,h=!1;else if(h=Gg(i),a!==null&&a.dehydrated!==null){if(s===null){if(!h)throw Error(p(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p(317));h[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),h=!1}else zg!==null&&(Fj(zg),zg=null),h=!0;if(!h)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(a=a!==null,a!==(s!==null&&s.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(s===null||L$1.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(s,i),s===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E$1(L$1),h=i.memoizedState,h===null)return S(i),null;if(a=(i.flags&128)!==0,g=h.rendering,g===null)if(a)Dj(h,!1);else{if(T!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(g=Ch(s),g!==null){for(i.flags|=128,Dj(h,!1),a=g.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=o,o=i.child;o!==null;)h=o,s=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=s,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,s=g.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o=o.sibling;return G(L$1,L$1.current&1|2),i.child}s=s.sibling}h.tail!==null&&B()>Gj&&(i.flags|=128,a=!0,Dj(h,!1),i.lanes=4194304)}else{if(!a)if(s=Ch(g),s!==null){if(i.flags|=128,a=!0,o=s.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Dj(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!I)return S(i),null}else 2*B()-h.renderingStartTime>Gj&&o!==1073741824&&(i.flags|=128,a=!0,Dj(h,!1),i.lanes=4194304);h.isBackwards?(g.sibling=i.child,i.child=g):(o=h.last,o!==null?o.sibling=g:i.child=g,h.last=g)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=B(),i.sibling=null,o=L$1.current,G(L$1,a?o&1|2:o&1),i):(S(i),null);case 22:case 23:return Hj(),a=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Ij(s,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return zh(),E$1(Wf),E$1(H),Eh(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E$1(L$1),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(s,i){var o=s.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(s,i,a)}else o.current=null}function Mj(s,i,o){try{o()}catch(a){W(s,i,a)}}var Nj=!1;function Oj(s,i){if(Cf=dd,s=Me(),Ne(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var g=0,b=-1,_=-1,$=0,_e=0,et=s,rt=null;t:for(;;){for(var st;et!==o||c!==0&&et.nodeType!==3||(b=g+c),et!==h||a!==0&&et.nodeType!==3||(_=g+a),et.nodeType===3&&(g+=et.nodeValue.length),(st=et.firstChild)!==null;)rt=et,et=st;for(;;){if(et===s)break t;if(rt===o&&++$===c&&(b=g),rt===h&&++_e===a&&(_=g),(st=et.nextSibling)!==null)break;et=rt,rt=et.parentNode}et=st}o=b===-1||_===-1?null:{start:b,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:s,selectionRange:o},dd=!1,V=i;V!==null;)if(i=V,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,V=s;else for(;V!==null;){i=V;try{var lt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var dt=lt.memoizedProps,nt=lt.memoizedState,tt=i.stateNode,it=tt.getSnapshotBeforeUpdate(i.elementType===i.type?dt:Ci(i.type,dt),nt);tt.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var at=i.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(mt){W(i,i.return,mt)}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}return lt=Nj,Nj=!1,lt}function Pj(s,i,o){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.destroy;c.destroy=void 0,h!==void 0&&Mj(i,o,h)}c=c.next}while(c!==a)}}function Qj(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&s)===s){var a=o.create;o.destroy=a()}o=o.next}while(o!==i)}}function Rj(s){var i=s.ref;if(i!==null){var o=s.stateNode;switch(s.tag){case 5:s=o;break;default:s=o}typeof i=="function"?i(s):i.current=s}}function Sj(s){var i=s.alternate;i!==null&&(s.alternate=null,Sj(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj(s){return s.tag===5||s.tag===3||s.tag===4}function Uj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vj(s,i,o){var a=s.tag;if(a===5||a===6)s=s.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(s,i):o.insertBefore(s,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(s,o)):(i=o,i.appendChild(s)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Bf));else if(a!==4&&(s=s.child,s!==null))for(Vj(s,i,o),s=s.sibling;s!==null;)Vj(s,i,o),s=s.sibling}function Wj(s,i,o){var a=s.tag;if(a===5||a===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(a!==4&&(s=s.child,s!==null))for(Wj(s,i,o),s=s.sibling;s!==null;)Wj(s,i,o),s=s.sibling}var X$1=null,Xj=!1;function Yj(s,i,o){for(o=o.child;o!==null;)Zj(s,i,o),o=o.sibling}function Zj(s,i,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U$1||Lj(o,i);case 6:var a=X$1,c=Xj;X$1=null,Yj(s,i,o),X$1=a,Xj=c,X$1!==null&&(Xj?(s=X$1,o=o.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):X$1.removeChild(o.stateNode));break;case 18:X$1!==null&&(Xj?(s=X$1,o=o.stateNode,s.nodeType===8?Kf(s.parentNode,o):s.nodeType===1&&Kf(s,o),bd(s)):Kf(X$1,o.stateNode));break;case 4:a=X$1,c=Xj,X$1=o.stateNode.containerInfo,Xj=!0,Yj(s,i,o),X$1=a,Xj=c;break;case 0:case 11:case 14:case 15:if(!U$1&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,g=h.destroy;h=h.tag,g!==void 0&&(h&2||h&4)&&Mj(o,i,g),c=c.next}while(c!==a)}Yj(s,i,o);break;case 1:if(!U$1&&(Lj(o,i),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(b){W(o,i,b)}Yj(s,i,o);break;case 21:Yj(s,i,o);break;case 22:o.mode&1?(U$1=(a=U$1)||o.memoizedState!==null,Yj(s,i,o),U$1=a):Yj(s,i,o);break;default:Yj(s,i,o)}}function ak(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var o=s.stateNode;o===null&&(o=s.stateNode=new Kj),i.forEach(function(a){var c=bk.bind(null,s,a);o.has(a)||(o.add(a),a.then(c,c))})}}function ck(s,i){var o=i.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var h=s,g=i,b=g;e:for(;b!==null;){switch(b.tag){case 5:X$1=b.stateNode,Xj=!1;break e;case 3:X$1=b.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=b.stateNode.containerInfo,Xj=!0;break e}b=b.return}if(X$1===null)throw Error(p(160));Zj(h,g,c),X$1=null,Xj=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch($){W(c,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,s),i=i.sibling}function dk(s,i){var o=s.alternate,a=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ck(i,s),ek(s),a&4){try{Pj(3,s,s.return),Qj(3,s)}catch(dt){W(s,s.return,dt)}try{Pj(5,s,s.return)}catch(dt){W(s,s.return,dt)}}break;case 1:ck(i,s),ek(s),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(i,s),ek(s),a&512&&o!==null&&Lj(o,o.return),s.flags&32){var c=s.stateNode;try{ob(c,"")}catch(dt){W(s,s.return,dt)}}if(a&4&&(c=s.stateNode,c!=null)){var h=s.memoizedProps,g=o!==null?o.memoizedProps:h,b=s.type,_=s.updateQueue;if(s.updateQueue=null,_!==null)try{b==="input"&&h.type==="radio"&&h.name!=null&&ab(c,h),vb(b,g);var $=vb(b,h);for(g=0;g<_.length;g+=2){var _e=_[g],et=_[g+1];_e==="style"?sb(c,et):_e==="dangerouslySetInnerHTML"?nb(c,et):_e==="children"?ob(c,et):ta(c,_e,et,$)}switch(b){case"input":bb(c,h);break;case"textarea":ib(c,h);break;case"select":var rt=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var st=h.value;st!=null?fb(c,!!h.multiple,st,!1):rt!==!!h.multiple&&(h.defaultValue!=null?fb(c,!!h.multiple,h.defaultValue,!0):fb(c,!!h.multiple,h.multiple?[]:"",!1))}c[Pf]=h}catch(dt){W(s,s.return,dt)}}break;case 6:if(ck(i,s),ek(s),a&4){if(s.stateNode===null)throw Error(p(162));c=s.stateNode,h=s.memoizedProps;try{c.nodeValue=h}catch(dt){W(s,s.return,dt)}}break;case 3:if(ck(i,s),ek(s),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(dt){W(s,s.return,dt)}break;case 4:ck(i,s),ek(s);break;case 13:ck(i,s),ek(s),c=s.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),a&4&&ak(s);break;case 22:if(_e=o!==null&&o.memoizedState!==null,s.mode&1?(U$1=($=U$1)||_e,ck(i,s),U$1=$):ck(i,s),ek(s),a&8192){if($=s.memoizedState!==null,(s.stateNode.isHidden=$)&&!_e&&s.mode&1)for(V=s,_e=s.child;_e!==null;){for(et=V=_e;V!==null;){switch(rt=V,st=rt.child,rt.tag){case 0:case 11:case 14:case 15:Pj(4,rt,rt.return);break;case 1:Lj(rt,rt.return);var lt=rt.stateNode;if(typeof lt.componentWillUnmount=="function"){a=rt,o=rt.return;try{i=a,lt.props=i.memoizedProps,lt.state=i.memoizedState,lt.componentWillUnmount()}catch(dt){W(a,o,dt)}}break;case 5:Lj(rt,rt.return);break;case 22:if(rt.memoizedState!==null){gk(et);continue}}st!==null?(st.return=rt,V=st):gk(et)}_e=_e.sibling}e:for(_e=null,et=s;;){if(et.tag===5){if(_e===null){_e=et;try{c=et.stateNode,$?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(b=et.stateNode,_=et.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,b.style.display=rb("display",g))}catch(dt){W(s,s.return,dt)}}}else if(et.tag===6){if(_e===null)try{et.stateNode.nodeValue=$?"":et.memoizedProps}catch(dt){W(s,s.return,dt)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===s)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===s)break e;for(;et.sibling===null;){if(et.return===null||et.return===s)break e;_e===et&&(_e=null),et=et.return}_e===et&&(_e=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:ck(i,s),ek(s),a&4&&ak(s);break;case 21:break;default:ck(i,s),ek(s)}}function ek(s){var i=s.flags;if(i&2){try{e:{for(var o=s.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var h=Uj(s);Wj(s,h,c);break;case 3:case 4:var g=a.stateNode.containerInfo,b=Uj(s);Vj(s,b,g);break;default:throw Error(p(161))}}catch(_){W(s,s.return,_)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function hk(s,i,o){V=s,ik(s)}function ik(s,i,o){for(var a=(s.mode&1)!==0;V!==null;){var c=V,h=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Jj;if(!g){var b=c.alternate,_=b!==null&&b.memoizedState!==null||U$1;b=Jj;var $=U$1;if(Jj=g,(U$1=_)&&!$)for(V=c;V!==null;)g=V,_=g.child,g.tag===22&&g.memoizedState!==null?jk(c):_!==null?(_.return=g,V=_):jk(c);for(;h!==null;)V=h,ik(h),h=h.sibling;V=c,Jj=b,U$1=$}kk(s)}else c.subtreeFlags&8772&&h!==null?(h.return=c,V=h):kk(s)}}function kk(s){for(;V!==null;){var i=V;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U$1||Qj(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!U$1)if(o===null)a.componentDidMount();else{var c=i.elementType===i.type?o.memoizedProps:Ci(i.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=i.updateQueue;h!==null&&sh(i,h,a);break;case 3:var g=i.updateQueue;if(g!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}sh(i,g,o)}break;case 5:var b=i.stateNode;if(o===null&&i.flags&4){o=b;var _=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&o.focus();break;case"img":_.src&&(o.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var _e=$.memoizedState;if(_e!==null){var et=_e.dehydrated;et!==null&&bd(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||i.flags&512&&Rj(i)}catch(rt){W(i,i.return,rt)}}if(i===s){V=null;break}if(o=i.sibling,o!==null){o.return=i.return,V=o;break}V=i.return}}function gk(s){for(;V!==null;){var i=V;if(i===s){V=null;break}var o=i.sibling;if(o!==null){o.return=i.return,V=o;break}V=i.return}}function jk(s){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Qj(4,i)}catch(_){W(i,o,_)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var c=i.return;try{a.componentDidMount()}catch(_){W(i,c,_)}}var h=i.return;try{Rj(i)}catch(_){W(i,h,_)}break;case 5:var g=i.return;try{Rj(i)}catch(_){W(i,g,_)}}}catch(_){W(i,i.return,_)}if(i===s){V=null;break}var b=i.sibling;if(b!==null){b.return=i.return,V=b;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(s){return s.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(s=C,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function gi(s,i,o,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(s,o,a),(!(K&2)||s!==Q)&&(s===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(s,Z)),Dk(s,a),o===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(s,i){var o=s.callbackNode;wc(s,i);var a=uc(s,s===Q?Z:0);if(a===0)o!==null&&bc(o),s.callbackNode=null,s.callbackPriority=0;else if(i=a&-a,s.callbackPriority!==i){if(o!=null&&bc(o),i===1)s.tag===0?ig(Ek.bind(null,s)):hg(Ek.bind(null,s)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,s))}s.callbackPriority=i,s.callbackNode=o}}function Gk(s,i){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var o=s.callbackNode;if(Hk()&&s.callbackNode!==o)return null;var a=uc(s,s===Q?Z:0);if(a===0)return null;if(a&30||a&s.expiredLanes||i)i=Ik(s,a);else{i=a;var c=K;K|=2;var h=Jk();(Q!==s||Z!==i)&&(uk=null,Gj=B()+500,Kk(s,i));do try{Lk();break}catch(b){Mk(s,b)}while(!0);$g(),mk.current=h,K=c,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(c=xc(s),c!==0&&(a=c,i=Nk(s,c))),i===1)throw o=pk,Kk(s,0),Ck(s,a),Dk(s,B()),o;if(i===6)Ck(s,a);else{if(c=s.current.alternate,!(a&30)&&!Ok(c)&&(i=Ik(s,a),i===2&&(h=xc(s),h!==0&&(a=h,i=Nk(s,h))),i===1))throw o=pk,Kk(s,0),Ck(s,a),Dk(s,B()),o;switch(s.finishedWork=c,s.finishedLanes=a,i){case 0:case 1:throw Error(p(345));case 2:Pk(s,tk,uk);break;case 3:if(Ck(s,a),(a&130023424)===a&&(i=fk+500-B(),10<i)){if(uc(s,0)!==0)break;if(c=s.suspendedLanes,(c&a)!==a){R(),s.pingedLanes|=s.suspendedLanes&c;break}s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),i);break}Pk(s,tk,uk);break;case 4:if(Ck(s,a),(a&4194240)===a)break;for(i=s.eventTimes,c=-1;0<a;){var g=31-oc(a);h=1<<g,g=i[g],g>c&&(c=g),a&=~h}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),a);break}Pk(s,tk,uk);break;case 5:Pk(s,tk,uk);break;default:throw Error(p(329))}}}return Dk(s,B()),s.callbackNode===o?Gk.bind(null,s):null}function Nk(s,i){var o=sk;return s.current.memoizedState.isDehydrated&&(Kk(s,i).flags|=256),s=Ik(s,i),s!==2&&(i=tk,tk=o,i!==null&&Fj(i)),s}function Fj(s){tk===null?tk=s:tk.push.apply(tk,s)}function Ok(s){for(var i=s;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],h=c.getSnapshot;c=c.value;try{if(!He(h(),c))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(s,i){for(i&=~rk,i&=~qk,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var o=31-oc(i),a=1<<o;s[o]=-1,i&=~a}}function Ek(s){if(K&6)throw Error(p(327));Hk();var i=uc(s,0);if(!(i&1))return Dk(s,B()),null;var o=Ik(s,i);if(s.tag!==0&&o===2){var a=xc(s);a!==0&&(i=a,o=Nk(s,a))}if(o===1)throw o=pk,Kk(s,0),Ck(s,i),Dk(s,B()),o;if(o===6)throw Error(p(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Pk(s,tk,uk),Dk(s,B()),null}function Qk(s,i){var o=K;K|=1;try{return s(i)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(s){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var o=ok.transition,a=C;try{if(ok.transition=null,C=1,s)return s()}finally{C=a,ok.transition=o,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(s,i){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;if(o!==-1&&(s.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=s,Y=s=Pg(s.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(o=fh[i],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,h=o.pending;if(h!==null){var g=h.next;h.next=c,a.next=g}o.pending=a}fh=null}return s}function Mk(s,i){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=i,Y=null;break}e:{var h=s,g=o.return,b=o,_=i;if(i=Z,b.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var $=_,_e=b,et=_e.tag;if(!(_e.mode&1)&&(et===0||et===11||et===15)){var rt=_e.alternate;rt?(_e.updateQueue=rt.updateQueue,_e.memoizedState=rt.memoizedState,_e.lanes=rt.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var st=Ui(g);if(st!==null){st.flags&=-257,Vi(st,g,b,h,i),st.mode&1&&Si(h,$,i),i=st,_=$;var lt=i.updateQueue;if(lt===null){var dt=new Set;dt.add(_),i.updateQueue=dt}else lt.add(_);break e}else{if(!(i&1)){Si(h,$,i),tj();break e}_=Error(p(426))}}else if(I&&b.mode&1){var nt=Ui(g);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),Vi(nt,g,b,h,i),Jg(Ji(_,b));break e}}h=_=Ji(_,b),T!==4&&(T=2),sk===null?sk=[h]:sk.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,i&=-i,h.lanes|=i;var tt=Ni(h,_,i);ph(h,tt);break e;case 1:b=_;var it=h.type,at=h.stateNode;if(!(h.flags&128)&&(typeof it.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Ri===null||!Ri.has(at)))){h.flags|=65536,i&=-i,h.lanes|=i;var mt=Qi(h,b,i);ph(h,mt);break e}}h=h.return}while(h!==null)}Sk(o)}catch(ot){i=ot,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var s=mk.current;return mk.current=Rh,s===null?Rh:s}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(s,i){var o=K;K|=2;var a=Jk();(Q!==s||Z!==i)&&(uk=null,Kk(s,i));do try{Tk();break}catch(c){Mk(s,c)}while(!0);if($g(),K=o,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(s){var i=Vk(s.alternate,s,fj);s.memoizedProps=s.pendingProps,i===null?Sk(s):Y=i,nk.current=null}function Sk(s){var i=s;do{var o=i.alternate;if(s=i.return,i.flags&32768){if(o=Ij(o,i),o!==null){o.flags&=32767,Y=o;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,i,fj),o!==null){Y=o;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=s}while(i!==null);T===0&&(T=5)}function Pk(s,i,o){var a=C,c=ok.transition;try{ok.transition=null,C=1,Wk(s,i,o,a)}finally{ok.transition=c,C=a}return null}function Wk(s,i,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));o=s.finishedWork;var c=s.finishedLanes;if(o===null)return null;if(s.finishedWork=null,s.finishedLanes=0,o===s.current)throw Error(p(177));s.callbackNode=null,s.callbackPriority=0;var h=o.lanes|o.childLanes;if(Bc(s,h),s===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),h=(o.flags&15990)!==0,o.subtreeFlags&15990||h){h=ok.transition,ok.transition=null;var g=C;C=1;var b=K;K|=4,nk.current=null,Oj(s,o),dk(o,s),Oe(Df),dd=!!Cf,Df=Cf=null,s.current=o,hk(o),dc(),K=b,C=g,ok.transition=h}else s.current=o;if(vk&&(vk=!1,wk=s,xk=c),h=s.pendingLanes,h===0&&(Ri=null),mc(o.stateNode),Dk(s,B()),i!==null)for(a=s.onRecoverableError,o=0;o<i.length;o++)c=i[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,s=Pi,Pi=null,s;return xk&1&&s.tag!==0&&Hk(),h=s.pendingLanes,h&1?s===zk?yk++:(yk=0,zk=s):yk=0,jg(),null}function Hk(){if(wk!==null){var s=Dc(xk),i=ok.transition,o=C;try{if(ok.transition=null,C=16>s?16:s,wk===null)var a=!1;else{if(s=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=s.current;V!==null;){var h=V,g=h.child;if(V.flags&16){var b=h.deletions;if(b!==null){for(var _=0;_<b.length;_++){var $=b[_];for(V=$;V!==null;){var _e=V;switch(_e.tag){case 0:case 11:case 15:Pj(8,_e,h)}var et=_e.child;if(et!==null)et.return=_e,V=et;else for(;V!==null;){_e=V;var rt=_e.sibling,st=_e.return;if(Sj(_e),_e===$){V=null;break}if(rt!==null){rt.return=st,V=rt;break}V=st}}}var lt=h.alternate;if(lt!==null){var dt=lt.child;if(dt!==null){lt.child=null;do{var nt=dt.sibling;dt.sibling=null,dt=nt}while(dt!==null)}}V=h}}if(h.subtreeFlags&2064&&g!==null)g.return=h,V=g;else e:for(;V!==null;){if(h=V,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Pj(9,h,h.return)}var tt=h.sibling;if(tt!==null){tt.return=h.return,V=tt;break e}V=h.return}}var it=s.current;for(V=it;V!==null;){g=V;var at=g.child;if(g.subtreeFlags&2064&&at!==null)at.return=g,V=at;else e:for(g=it;V!==null;){if(b=V,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:Qj(9,b)}}catch(ot){W(b,b.return,ot)}if(b===g){V=null;break e}var mt=b.sibling;if(mt!==null){mt.return=b.return,V=mt;break e}V=b.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}a=!0}return a}finally{C=o,ok.transition=i}}return!1}function Xk(s,i,o){i=Ji(o,i),i=Ni(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i))}function W(s,i,o){if(s.tag===3)Xk(s,s,o);else for(;i!==null;){if(i.tag===3){Xk(i,s,o);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){s=Ji(o,s),s=Qi(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s));break}}i=i.return}}function Ti(s,i,o){var a=s.pingCache;a!==null&&a.delete(i),i=R(),s.pingedLanes|=s.suspendedLanes&o,Q===s&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(s,0):rk|=o),Dk(s,i)}function Yk(s,i){i===0&&(s.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var o=R();s=ih(s,i),s!==null&&(Ac(s,i,o),Dk(s,o))}function uj(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),Yk(s,o)}function bk(s,i){var o=0;switch(s.tag){case 13:var a=s.stateNode,c=s.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=s.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(i),Yk(s,o)}var Vk;Vk=function(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(s.lanes&o)&&!(i.flags&128))return dh=!1,yj(s,i,o);dh=!!(s.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;ij(s,i),s=i.pendingProps;var c=Yf(i,H.current);ch(i,o),c=Nh(null,i,a,s,c,o);var h=Sh();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(a)?(h=!0,cg(i)):h=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(i),c.updater=Ei,i.stateNode=c,c._reactInternals=i,Ii(i,a,s,o),i=jj(null,i,a,!0,h,o)):(i.tag=0,I&&h&&vg(i),Xi(null,i,c,o),i=i.child),i;case 16:a=i.elementType;e:{switch(ij(s,i),s=i.pendingProps,c=a._init,a=c(a._payload),i.type=a,c=i.tag=Zk(a),s=Ci(a,s),c){case 0:i=cj(null,i,a,s,o);break e;case 1:i=hj(null,i,a,s,o);break e;case 11:i=Yi(null,i,a,s,o);break e;case 14:i=$i(null,i,a,Ci(a.type,s),o);break e}throw Error(p(306,a,""))}return i;case 0:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),cj(s,i,a,c,o);case 1:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),hj(s,i,a,c,o);case 3:e:{if(kj(i),s===null)throw Error(p(387));a=i.pendingProps,h=i.memoizedState,c=h.element,lh(s,i),qh(i,a,null,o);var g=i.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){c=Ji(Error(p(423)),i),i=lj(s,i,a,o,c);break e}else if(a!==c){c=Ji(Error(p(424)),i),i=lj(s,i,a,o,c);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,o=Vg(i,null,a,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===c){i=Zi(s,i,o);break e}Xi(s,i,a,o)}i=i.child}return i;case 5:return Ah(i),s===null&&Eg(i),a=i.type,c=i.pendingProps,h=s!==null?s.memoizedProps:null,g=c.children,Ef(a,c)?g=null:h!==null&&Ef(a,h)&&(i.flags|=32),gj(s,i),Xi(s,i,g,o),i.child;case 6:return s===null&&Eg(i),null;case 13:return oj(s,i,o);case 4:return yh(i,i.stateNode.containerInfo),a=i.pendingProps,s===null?i.child=Ug(i,null,a,o):Xi(s,i,a,o),i.child;case 11:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),Yi(s,i,a,c,o);case 7:return Xi(s,i,i.pendingProps,o),i.child;case 8:return Xi(s,i,i.pendingProps.children,o),i.child;case 12:return Xi(s,i,i.pendingProps.children,o),i.child;case 10:e:{if(a=i.type._context,c=i.pendingProps,h=i.memoizedProps,g=c.value,G(Wg,a._currentValue),a._currentValue=g,h!==null)if(He(h.value,g)){if(h.children===c.children&&!Wf.current){i=Zi(s,i,o);break e}}else for(h=i.child,h!==null&&(h.return=i);h!==null;){var b=h.dependencies;if(b!==null){g=h.child;for(var _=b.firstContext;_!==null;){if(_.context===a){if(h.tag===1){_=mh(-1,o&-o),_.tag=2;var $=h.updateQueue;if($!==null){$=$.shared;var _e=$.pending;_e===null?_.next=_:(_.next=_e.next,_e.next=_),$.pending=_}}h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),bh(h.return,o,i),b.lanes|=o;break}_=_.next}}else if(h.tag===10)g=h.type===i.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(p(341));g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),bh(g,o,i),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===i){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Xi(s,i,c.children,o),i=i.child}return i;case 9:return c=i.type,a=i.pendingProps.children,ch(i,o),c=eh(c),a=a(c),i.flags|=1,Xi(s,i,a,o),i.child;case 14:return a=i.type,c=Ci(a,i.pendingProps),c=Ci(a.type,c),$i(s,i,a,c,o);case 15:return bj(s,i,i.type,i.pendingProps,o);case 17:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Ci(a,c),ij(s,i),i.tag=1,Zf(a)?(s=!0,cg(i)):s=!1,ch(i,o),Gi(i,a,c),Ii(i,a,c,o),jj(null,i,a,!0,s,o);case 19:return xj(s,i,o);case 22:return dj(s,i,o)}throw Error(p(156,i.tag))};function Fk(s,i){return ac(s,i)}function $k(s,i,o,a){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,i,o,a){return new $k(s,i,o,a)}function aj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zk(s){if(typeof s=="function")return aj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function Pg(s,i){var o=s.alternate;return o===null?(o=Bg(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&14680064,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o}function Rg(s,i,o,a,c,h){var g=2;if(a=s,typeof s=="function")aj(s)&&(g=1);else if(typeof s=="string")g=5;else e:switch(s){case ya:return Tg(o.children,c,h,i);case za:g=8,c|=8;break;case Aa:return s=Bg(12,o,i,c|2),s.elementType=Aa,s.lanes=h,s;case Ea:return s=Bg(13,o,i,c),s.elementType=Ea,s.lanes=h,s;case Fa:return s=Bg(19,o,i,c),s.elementType=Fa,s.lanes=h,s;case Ia:return pj(o,c,h,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:g=10;break e;case Ca:g=9;break e;case Da:g=11;break e;case Ga:g=14;break e;case Ha:g=16,a=null;break e}throw Error(p(130,s==null?s:typeof s,""))}return i=Bg(g,o,i,c),i.elementType=s,i.type=a,i.lanes=h,i}function Tg(s,i,o,a){return s=Bg(7,s,a,i),s.lanes=o,s}function pj(s,i,o,a){return s=Bg(22,s,a,i),s.elementType=Ia,s.lanes=o,s.stateNode={isHidden:!1},s}function Qg(s,i,o){return s=Bg(6,s,null,i),s.lanes=o,s}function Sg(s,i,o){return i=Bg(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function al(s,i,o,a,c){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(s,i,o,a,c,h,g,b,_){return s=new al(s,i,o,b,_),i===1?(i=1,h===!0&&(i|=8)):i=0,h=Bg(3,null,null,i),s.current=h,h.stateNode=s,h.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(h),s}function cl(s,i,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:s,containerInfo:i,implementation:o}}function dl(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(s.tag===1){var o=s.type;if(Zf(o))return bg(s,o,i)}return i}function el(s,i,o,a,c,h,g,b,_){return s=bl(o,a,!0,s,c,h,g,b,_),s.context=dl(null),o=s.current,a=R(),c=yi(o),h=mh(a,c),h.callback=i??null,nh(o,h,c),s.current.lanes=c,Ac(s,c,a),Dk(s,a),s}function fl(s,i,o,a){var c=i.current,h=R(),g=yi(c);return o=dl(o),i.context===null?i.context=o:i.pendingContext=o,i=mh(h,g),i.payload={element:s},a=a===void 0?null:a,a!==null&&(i.callback=a),s=nh(c,i,g),s!==null&&(gi(s,c,g,h),oh(s,c,g)),g}function gl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hl(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function il(s,i){hl(s,i),(s=s.alternate)&&hl(s,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(s){console.error(s)};function ll(s){this._internalRoot=s}ml.prototype.render=ll.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(p(409));fl(s,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Rk(function(){fl(null,s,null,null)}),i[uf]=null}};function ml(s){this._internalRoot=s}ml.prototype.unstable_scheduleHydration=function(s){if(s){var i=Hc();s={blockedOn:null,target:s,priority:i};for(var o=0;o<Qc.length&&i!==0&&i<Qc[o].priority;o++);Qc.splice(o,0,s),o===0&&Vc(s)}};function nl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(s,i,o,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var $=gl(g);h.call($)}}var g=el(i,a,s,0,null,!1,!1,"",pl);return s._reactRootContainer=g,s[uf]=g.current,sf(s.nodeType===8?s.parentNode:s),Rk(),g}for(;c=s.lastChild;)s.removeChild(c);if(typeof a=="function"){var b=a;a=function(){var $=gl(_);b.call($)}}var _=bl(s,0,!1,null,null,!1,!1,"",pl);return s._reactRootContainer=_,s[uf]=_.current,sf(s.nodeType===8?s.parentNode:s),Rk(function(){fl(i,_,o,a)}),_}function rl(s,i,o,a,c){var h=o._reactRootContainer;if(h){var g=h;if(typeof c=="function"){var b=c;c=function(){var _=gl(g);b.call(_)}}fl(i,g,s,c)}else g=ql(o,i,s,c,a);return gl(g)}Ec=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var o=tc(i.pendingLanes);o!==0&&(Cc(i,o|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(s,1);if(a!==null){var c=R();gi(a,s,1,c)}}),il(s,1)}};Fc=function(s){if(s.tag===13){var i=ih(s,134217728);if(i!==null){var o=R();gi(i,s,134217728,o)}il(s,134217728)}};Gc=function(s){if(s.tag===13){var i=yi(s),o=ih(s,i);if(o!==null){var a=R();gi(o,s,i,a)}il(s,i)}};Hc=function(){return C};Ic=function(s,i){var o=C;try{return C=s,i()}finally{C=o}};yb=function(s,i,o){switch(i){case"input":if(bb(s,o),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var a=o[i];if(a!==s&&a.form===s.form){var c=Db(a);if(!c)throw Error(p(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(s,o);break;case"select":i=o.value,i!=null&&fb(s,!!o.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(s,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p(200));return cl(s,i,null,o)};reactDom_production_min.createRoot=function(s,i){if(!nl(s))throw Error(p(299));var o=!1,a="",c=kl;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=bl(s,1,!1,null,null,o,!1,a,c),s[uf]=i.current,sf(s.nodeType===8?s.parentNode:s),new ll(i)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(p(188)):(s=Object.keys(s).join(","),Error(p(268,s)));return s=Zb(i),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Rk(s)};reactDom_production_min.hydrate=function(s,i,o){if(!ol(i))throw Error(p(200));return rl(null,s,i,!0,o)};reactDom_production_min.hydrateRoot=function(s,i,o){if(!nl(s))throw Error(p(405));var a=o!=null&&o.hydratedSources||null,c=!1,h="",g=kl;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),i=el(i,null,s,1,o??null,c,!1,h,g),s[uf]=i.current,sf(s),a)for(s=0;s<a.length;s++)o=a[s],c=o._getVersion,c=c(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,c]:i.mutableSourceEagerHydrationData.push(o,c);return new ml(i)};reactDom_production_min.render=function(s,i,o){if(!ol(i))throw Error(p(200));return rl(null,s,i,!1,o)};reactDom_production_min.unmountComponentAtNode=function(s){if(!ol(s))throw Error(p(40));return s._reactRootContainer?(Rk(function(){rl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,i,o,a){if(!ol(o))throw Error(p(200));if(s==null||s._reactInternals===void 0)throw Error(p(38));return rl(s,i,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const Gt=getDefaultExportFromCjs(reactDomExports);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=s=>{if(toastTimeouts.has(s))return;const i=setTimeout(()=>{toastTimeouts.delete(s),dispatch({type:"REMOVE_TOAST",toastId:s})},TOAST_REMOVE_DELAY);toastTimeouts.set(s,i)},reducer=(s,i)=>{switch(i.type){case"ADD_TOAST":return{...s,toasts:[i.toast,...s.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(o=>o.id===i.toast.id?{...o,...i.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=i;return o?addToRemoveQueue(o):s.toasts.forEach(a=>{addToRemoveQueue(a.id)}),{...s,toasts:s.toasts.map(a=>a.id===o||o===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return i.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==i.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(s){memoryState=reducer(memoryState,s),listeners.forEach(i=>{i(memoryState)})}function toast({...s}){const i=genId(),o=c=>dispatch({type:"UPDATE_TOAST",toast:{...c,id:i}}),a=()=>dispatch({type:"DISMISS_TOAST",toastId:i});return dispatch({type:"ADD_TOAST",toast:{...s,id:i,open:!0,onOpenChange:c=>{c||a()}}}),{id:i,dismiss:a,update:o}}function useToast(){const[s,i]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(i),()=>{const o=listeners.indexOf(i);o>-1&&listeners.splice(o,1)}),[s]),{...s,toast,dismiss:o=>dispatch({type:"DISMISS_TOAST",toastId:o})}}function composeEventHandlers(s,i,{checkForDefaultPrevented:o=!0}={}){return function(c){if(s==null||s(c),o===!1||!c.defaultPrevented)return i==null?void 0:i(c)}}function setRef(s,i){typeof s=="function"?s(i):s!=null&&(s.current=i)}function composeRefs(...s){return i=>s.forEach(o=>setRef(o,i))}function useComposedRefs(...s){return reactExports.useCallback(composeRefs(...s),s)}function createContextScope$2(s,i=[]){let o=[];function a(h,g){const b=reactExports.createContext(g),_=o.length;o=[...o,g];function $(et){const{scope:rt,children:st,...lt}=et,dt=(rt==null?void 0:rt[s][_])||b,nt=reactExports.useMemo(()=>lt,Object.values(lt));return jsxRuntimeExports.jsx(dt.Provider,{value:nt,children:st})}function _e(et,rt){const st=(rt==null?void 0:rt[s][_])||b,lt=reactExports.useContext(st);if(lt)return lt;if(g!==void 0)return g;throw new Error(`\`${et}\` must be used within \`${h}\``)}return $.displayName=h+"Provider",[$,_e]}const c=()=>{const h=o.map(g=>reactExports.createContext(g));return function(b){const _=(b==null?void 0:b[s])||h;return reactExports.useMemo(()=>({[`__scope${s}`]:{...b,[s]:_}}),[b,_])}};return c.scopeName=s,[a,composeContextScopes$2(c,...i)]}function composeContextScopes$2(...s){const i=s[0];if(s.length===1)return i;const o=()=>{const a=s.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(h){const g=a.reduce((b,{useScope:_,scopeName:$})=>{const et=_(h)[`__scope${$}`];return{...b,...et}},{});return reactExports.useMemo(()=>({[`__scope${i.scopeName}`]:g}),[g])}};return o.scopeName=i.scopeName,o}var Slot=reactExports.forwardRef((s,i)=>{const{children:o,...a}=s,c=reactExports.Children.toArray(o),h=c.find(isSlottable);if(h){const g=h.props.children,b=c.map(_=>_===h?reactExports.Children.count(g)>1?reactExports.Children.only(null):reactExports.isValidElement(g)?g.props.children:null:_);return jsxRuntimeExports.jsx(SlotClone,{...a,ref:i,children:reactExports.isValidElement(g)?reactExports.cloneElement(g,void 0,b):null})}return jsxRuntimeExports.jsx(SlotClone,{...a,ref:i,children:o})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((s,i)=>{const{children:o,...a}=s;if(reactExports.isValidElement(o)){const c=getElementRef$1(o);return reactExports.cloneElement(o,{...mergeProps(a,o.props),ref:i?composeRefs(i,c):c})}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:s})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s});function isSlottable(s){return reactExports.isValidElement(s)&&s.type===Slottable}function mergeProps(s,i){const o={...i};for(const a in i){const c=s[a],h=i[a];/^on[A-Z]/.test(a)?c&&h?o[a]=(...b)=>{h(...b),c(...b)}:c&&(o[a]=c):a==="style"?o[a]={...c,...h}:a==="className"&&(o[a]=[c,h].filter(Boolean).join(" "))}return{...s,...o}}function getElementRef$1(s){var a,c;let i=(a=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:a.get,o=i&&"isReactWarning"in i&&i.isReactWarning;return o?s.ref:(i=(c=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:c.get,o=i&&"isReactWarning"in i&&i.isReactWarning,o?s.props.ref:s.props.ref||s.ref)}function createCollection(s){const i=s+"CollectionProvider",[o,a]=createContextScope$2(i),[c,h]=o(i,{collectionRef:{current:null},itemMap:new Map}),g=st=>{const{scope:lt,children:dt}=st,nt=e.useRef(null),tt=e.useRef(new Map).current;return jsxRuntimeExports.jsx(c,{scope:lt,itemMap:tt,collectionRef:nt,children:dt})};g.displayName=i;const b=s+"CollectionSlot",_=e.forwardRef((st,lt)=>{const{scope:dt,children:nt}=st,tt=h(b,dt),it=useComposedRefs(lt,tt.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:it,children:nt})});_.displayName=b;const $=s+"CollectionItemSlot",_e="data-radix-collection-item",et=e.forwardRef((st,lt)=>{const{scope:dt,children:nt,...tt}=st,it=e.useRef(null),at=useComposedRefs(lt,it),mt=h($,dt);return e.useEffect(()=>(mt.itemMap.set(it,{ref:it,...tt}),()=>void mt.itemMap.delete(it))),jsxRuntimeExports.jsx(Slot,{[_e]:"",ref:at,children:nt})});et.displayName=$;function rt(st){const lt=h(s+"CollectionConsumer",st);return e.useCallback(()=>{const nt=lt.collectionRef.current;if(!nt)return[];const tt=Array.from(nt.querySelectorAll(`[${_e}]`));return Array.from(lt.itemMap.values()).sort((mt,ot)=>tt.indexOf(mt.ref.current)-tt.indexOf(ot.ref.current))},[lt.collectionRef,lt.itemMap])}return[{Provider:g,Slot:_,ItemSlot:et},rt,a]}function createContextScope$1(s,i=[]){let o=[];function a(h,g){const b=reactExports.createContext(g),_=o.length;o=[...o,g];const $=et=>{var tt;const{scope:rt,children:st,...lt}=et,dt=((tt=rt==null?void 0:rt[s])==null?void 0:tt[_])||b,nt=reactExports.useMemo(()=>lt,Object.values(lt));return jsxRuntimeExports.jsx(dt.Provider,{value:nt,children:st})};$.displayName=h+"Provider";function _e(et,rt){var dt;const st=((dt=rt==null?void 0:rt[s])==null?void 0:dt[_])||b,lt=reactExports.useContext(st);if(lt)return lt;if(g!==void 0)return g;throw new Error(`\`${et}\` must be used within \`${h}\``)}return[$,_e]}const c=()=>{const h=o.map(g=>reactExports.createContext(g));return function(b){const _=(b==null?void 0:b[s])||h;return reactExports.useMemo(()=>({[`__scope${s}`]:{...b,[s]:_}}),[b,_])}};return c.scopeName=s,[a,composeContextScopes$1(c,...i)]}function composeContextScopes$1(...s){const i=s[0];if(s.length===1)return i;const o=()=>{const a=s.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(h){const g=a.reduce((b,{useScope:_,scopeName:$})=>{const et=_(h)[`__scope${$}`];return{...b,...et}},{});return reactExports.useMemo(()=>({[`__scope${i.scopeName}`]:g}),[g])}};return o.scopeName=i.scopeName,o}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((s,i)=>{const o=reactExports.forwardRef((a,c)=>{const{asChild:h,...g}=a,b=h?Slot:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(b,{...g,ref:c})});return o.displayName=`Primitive.${i}`,{...s,[i]:o}},{});function dispatchDiscreteCustomEvent(s,i){s&&reactDomExports.flushSync(()=>s.dispatchEvent(i))}function useCallbackRef(s){const i=reactExports.useRef(s);return reactExports.useEffect(()=>{i.current=s}),reactExports.useMemo(()=>(...o)=>{var a;return(a=i.current)==null?void 0:a.call(i,...o)},[])}function useEscapeKeydown(s,i=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(s);reactExports.useEffect(()=>{const a=c=>{c.key==="Escape"&&o(c)};return i.addEventListener("keydown",a,{capture:!0}),()=>i.removeEventListener("keydown",a,{capture:!0})},[o,i])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((s,i)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:g,onDismiss:b,..._}=s,$=reactExports.useContext(DismissableLayerContext),[_e,et]=reactExports.useState(null),rt=(_e==null?void 0:_e.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,st]=reactExports.useState({}),lt=useComposedRefs(i,ht=>et(ht)),dt=Array.from($.layers),[nt]=[...$.layersWithOutsidePointerEventsDisabled].slice(-1),tt=dt.indexOf(nt),it=_e?dt.indexOf(_e):-1,at=$.layersWithOutsidePointerEventsDisabled.size>0,mt=it>=tt,ot=usePointerDownOutside(ht=>{const gt=ht.target,xt=[...$.branches].some(Tt=>Tt.contains(gt));!mt||xt||(c==null||c(ht),g==null||g(ht),ht.defaultPrevented||b==null||b())},rt),pt=useFocusOutside(ht=>{const gt=ht.target;[...$.branches].some(Tt=>Tt.contains(gt))||(h==null||h(ht),g==null||g(ht),ht.defaultPrevented||b==null||b())},rt);return useEscapeKeydown(ht=>{it===$.layers.size-1&&(a==null||a(ht),!ht.defaultPrevented&&b&&(ht.preventDefault(),b()))},rt),reactExports.useEffect(()=>{if(_e)return o&&($.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=rt.body.style.pointerEvents,rt.body.style.pointerEvents="none"),$.layersWithOutsidePointerEventsDisabled.add(_e)),$.layers.add(_e),dispatchUpdate(),()=>{o&&$.layersWithOutsidePointerEventsDisabled.size===1&&(rt.body.style.pointerEvents=originalBodyPointerEvents)}},[_e,rt,o,$]),reactExports.useEffect(()=>()=>{_e&&($.layers.delete(_e),$.layersWithOutsidePointerEventsDisabled.delete(_e),dispatchUpdate())},[_e,$]),reactExports.useEffect(()=>{const ht=()=>st({});return document.addEventListener(CONTEXT_UPDATE,ht),()=>document.removeEventListener(CONTEXT_UPDATE,ht)},[]),jsxRuntimeExports.jsx(Primitive.div,{..._,ref:lt,style:{pointerEvents:at?mt?"auto":"none":void 0,...s.style},onFocusCapture:composeEventHandlers(s.onFocusCapture,pt.onFocusCapture),onBlurCapture:composeEventHandlers(s.onBlurCapture,pt.onBlurCapture),onPointerDownCapture:composeEventHandlers(s.onPointerDownCapture,ot.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((s,i)=>{const o=reactExports.useContext(DismissableLayerContext),a=reactExports.useRef(null),c=useComposedRefs(i,a);return reactExports.useEffect(()=>{const h=a.current;if(h)return o.branches.add(h),()=>{o.branches.delete(h)}},[o.branches]),jsxRuntimeExports.jsx(Primitive.div,{...s,ref:c})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(s,i=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(s),a=reactExports.useRef(!1),c=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const h=b=>{if(b.target&&!a.current){let _=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,o,$,{discrete:!0})};const $={originalEvent:b};b.pointerType==="touch"?(i.removeEventListener("click",c.current),c.current=_,i.addEventListener("click",c.current,{once:!0})):_()}else i.removeEventListener("click",c.current);a.current=!1},g=window.setTimeout(()=>{i.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(g),i.removeEventListener("pointerdown",h),i.removeEventListener("click",c.current)}},[i,o]),{onPointerDownCapture:()=>a.current=!0}}function useFocusOutside(s,i=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(s),a=reactExports.useRef(!1);return reactExports.useEffect(()=>{const c=h=>{h.target&&!a.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,o,{originalEvent:h},{discrete:!1})};return i.addEventListener("focusin",c),()=>i.removeEventListener("focusin",c)},[i,o]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dispatchUpdate(){const s=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(s)}function handleAndDispatchCustomEvent$1(s,i,o,{discrete:a}){const c=o.originalEvent.target,h=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:o});i&&c.addEventListener(s,i,{once:!0}),a?dispatchDiscreteCustomEvent(c,h):c.dispatchEvent(h)}var Root$4=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$1="Portal",Portal=reactExports.forwardRef((s,i)=>{var b;const{container:o,...a}=s,[c,h]=reactExports.useState(!1);useLayoutEffect2(()=>h(!0),[]);const g=o||c&&((b=globalThis==null?void 0:globalThis.document)==null?void 0:b.body);return g?Gt.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...a,ref:i}),g):null});Portal.displayName=PORTAL_NAME$1;function useStateMachine(s,i){return reactExports.useReducer((o,a)=>i[o][a]??o,s)}var Presence=s=>{const{present:i,children:o}=s,a=usePresence(i),c=typeof o=="function"?o({present:a.isPresent}):reactExports.Children.only(o),h=useComposedRefs(a.ref,getElementRef(c));return typeof o=="function"||a.isPresent?reactExports.cloneElement(c,{ref:h}):null};Presence.displayName="Presence";function usePresence(s){const[i,o]=reactExports.useState(),a=reactExports.useRef({}),c=reactExports.useRef(s),h=reactExports.useRef("none"),g=s?"mounted":"unmounted",[b,_]=useStateMachine(g,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const $=getAnimationName(a.current);h.current=b==="mounted"?$:"none"},[b]),useLayoutEffect2(()=>{const $=a.current,_e=c.current;if(_e!==s){const rt=h.current,st=getAnimationName($);s?_("MOUNT"):st==="none"||($==null?void 0:$.display)==="none"?_("UNMOUNT"):_(_e&&rt!==st?"ANIMATION_OUT":"UNMOUNT"),c.current=s}},[s,_]),useLayoutEffect2(()=>{if(i){let $;const _e=i.ownerDocument.defaultView??window,et=st=>{const dt=getAnimationName(a.current).includes(st.animationName);if(st.target===i&&dt&&(_("ANIMATION_END"),!c.current)){const nt=i.style.animationFillMode;i.style.animationFillMode="forwards",$=_e.setTimeout(()=>{i.style.animationFillMode==="forwards"&&(i.style.animationFillMode=nt)})}},rt=st=>{st.target===i&&(h.current=getAnimationName(a.current))};return i.addEventListener("animationstart",rt),i.addEventListener("animationcancel",et),i.addEventListener("animationend",et),()=>{_e.clearTimeout($),i.removeEventListener("animationstart",rt),i.removeEventListener("animationcancel",et),i.removeEventListener("animationend",et)}}else _("ANIMATION_END")},[i,_]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:reactExports.useCallback($=>{$&&(a.current=getComputedStyle($)),o($)},[])}}function getAnimationName(s){return(s==null?void 0:s.animationName)||"none"}function getElementRef(s){var a,c;let i=(a=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:a.get,o=i&&"isReactWarning"in i&&i.isReactWarning;return o?s.ref:(i=(c=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:c.get,o=i&&"isReactWarning"in i&&i.isReactWarning,o?s.props.ref:s.props.ref||s.ref)}function useControllableState({prop:s,defaultProp:i,onChange:o=()=>{}}){const[a,c]=useUncontrolledState({defaultProp:i,onChange:o}),h=s!==void 0,g=h?s:a,b=useCallbackRef(o),_=reactExports.useCallback($=>{if(h){const et=typeof $=="function"?$(s):$;et!==s&&b(et)}else c($)},[h,s,c,b]);return[g,_]}function useUncontrolledState({defaultProp:s,onChange:i}){const o=reactExports.useState(s),[a]=o,c=reactExports.useRef(a),h=useCallbackRef(i);return reactExports.useEffect(()=>{c.current!==a&&(h(a),c.current=a)},[a,c,h]),o}var NAME$2="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((s,i)=>jsxRuntimeExports.jsx(Primitive.span,{...s,ref:i,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...s.style}}));VisuallyHidden.displayName=NAME$2;var Root$3=VisuallyHidden,PROVIDER_NAME$1="ToastProvider",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope$1("Toast",[createCollectionScope$1]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=s=>{const{__scopeToast:i,label:o="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:h=50,children:g}=s,[b,_]=reactExports.useState(null),[$,_e]=reactExports.useState(0),et=reactExports.useRef(!1),rt=reactExports.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection$1.Provider,{scope:i,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:i,label:o,duration:a,swipeDirection:c,swipeThreshold:h,toastCount:$,viewport:b,onViewportChange:_,onToastAdd:reactExports.useCallback(()=>_e(st=>st+1),[]),onToastRemove:reactExports.useCallback(()=>_e(st=>st-1),[]),isFocusedToastEscapeKeyDownRef:et,isClosePausedRef:rt,children:g})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((s,i)=>{const{__scopeToast:o,hotkey:a=VIEWPORT_DEFAULT_HOTKEY,label:c="Notifications ({hotkey})",...h}=s,g=useToastProviderContext(VIEWPORT_NAME,o),b=useCollection$1(o),_=reactExports.useRef(null),$=reactExports.useRef(null),_e=reactExports.useRef(null),et=reactExports.useRef(null),rt=useComposedRefs(i,et,g.onViewportChange),st=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),lt=g.toastCount>0;reactExports.useEffect(()=>{const nt=tt=>{var at;a.length!==0&&a.every(mt=>tt[mt]||tt.code===mt)&&((at=et.current)==null||at.focus())};return document.addEventListener("keydown",nt),()=>document.removeEventListener("keydown",nt)},[a]),reactExports.useEffect(()=>{const nt=_.current,tt=et.current;if(lt&&nt&&tt){const it=()=>{if(!g.isClosePausedRef.current){const pt=new CustomEvent(VIEWPORT_PAUSE);tt.dispatchEvent(pt),g.isClosePausedRef.current=!0}},at=()=>{if(g.isClosePausedRef.current){const pt=new CustomEvent(VIEWPORT_RESUME);tt.dispatchEvent(pt),g.isClosePausedRef.current=!1}},mt=pt=>{!nt.contains(pt.relatedTarget)&&at()},ot=()=>{nt.contains(document.activeElement)||at()};return nt.addEventListener("focusin",it),nt.addEventListener("focusout",mt),nt.addEventListener("pointermove",it),nt.addEventListener("pointerleave",ot),window.addEventListener("blur",it),window.addEventListener("focus",at),()=>{nt.removeEventListener("focusin",it),nt.removeEventListener("focusout",mt),nt.removeEventListener("pointermove",it),nt.removeEventListener("pointerleave",ot),window.removeEventListener("blur",it),window.removeEventListener("focus",at)}}},[lt,g.isClosePausedRef]);const dt=reactExports.useCallback(({tabbingDirection:nt})=>{const it=b().map(at=>{const mt=at.ref.current,ot=[mt,...getTabbableCandidates(mt)];return nt==="forwards"?ot:ot.reverse()});return(nt==="forwards"?it.reverse():it).flat()},[b]);return reactExports.useEffect(()=>{const nt=et.current;if(nt){const tt=it=>{var ot,pt,ht;const at=it.altKey||it.ctrlKey||it.metaKey;if(it.key==="Tab"&&!at){const gt=document.activeElement,xt=it.shiftKey;if(it.target===nt&&xt){(ot=$.current)==null||ot.focus();return}const kt=dt({tabbingDirection:xt?"backwards":"forwards"}),Yt=kt.findIndex(fn=>fn===gt);focusFirst(kt.slice(Yt+1))?it.preventDefault():xt?(pt=$.current)==null||pt.focus():(ht=_e.current)==null||ht.focus()}};return nt.addEventListener("keydown",tt),()=>nt.removeEventListener("keydown",tt)}},[b,dt]),jsxRuntimeExports.jsxs(Branch,{ref:_,role:"region","aria-label":c.replace("{hotkey}",st),tabIndex:-1,style:{pointerEvents:lt?void 0:"none"},children:[lt&&jsxRuntimeExports.jsx(FocusProxy,{ref:$,onFocusFromOutsideViewport:()=>{const nt=dt({tabbingDirection:"forwards"});focusFirst(nt)}}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:o,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...h,ref:rt})}),lt&&jsxRuntimeExports.jsx(FocusProxy,{ref:_e,onFocusFromOutsideViewport:()=>{const nt=dt({tabbingDirection:"backwards"});focusFirst(nt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((s,i)=>{const{__scopeToast:o,onFocusFromOutsideViewport:a,...c}=s,h=useToastProviderContext(FOCUS_PROXY_NAME,o);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...c,ref:i,style:{position:"fixed"},onFocus:g=>{var $;const b=g.relatedTarget;!(($=h.viewport)!=null&&$.contains(b))&&a()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((s,i)=>{const{forceMount:o,open:a,defaultOpen:c,onOpenChange:h,...g}=s,[b=!0,_]=useControllableState({prop:a,defaultProp:c,onChange:h});return jsxRuntimeExports.jsx(Presence,{present:o||b,children:jsxRuntimeExports.jsx(ToastImpl,{open:b,...g,ref:i,onClose:()=>_(!1),onPause:useCallbackRef(s.onPause),onResume:useCallbackRef(s.onResume),onSwipeStart:composeEventHandlers(s.onSwipeStart,$=>{$.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(s.onSwipeMove,$=>{const{x:_e,y:et}=$.detail.delta;$.currentTarget.setAttribute("data-swipe","move"),$.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_e}px`),$.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${et}px`)}),onSwipeCancel:composeEventHandlers(s.onSwipeCancel,$=>{$.currentTarget.setAttribute("data-swipe","cancel"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),$.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),$.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(s.onSwipeEnd,$=>{const{x:_e,y:et}=$.detail.delta;$.currentTarget.setAttribute("data-swipe","end"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),$.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_e}px`),$.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${et}px`),_(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((s,i)=>{const{__scopeToast:o,type:a="foreground",duration:c,open:h,onClose:g,onEscapeKeyDown:b,onPause:_,onResume:$,onSwipeStart:_e,onSwipeMove:et,onSwipeCancel:rt,onSwipeEnd:st,...lt}=s,dt=useToastProviderContext(TOAST_NAME,o),[nt,tt]=reactExports.useState(null),it=useComposedRefs(i,fn=>tt(fn)),at=reactExports.useRef(null),mt=reactExports.useRef(null),ot=c||dt.duration,pt=reactExports.useRef(0),ht=reactExports.useRef(ot),gt=reactExports.useRef(0),{onToastAdd:xt,onToastRemove:Tt}=dt,wt=useCallbackRef(()=>{var an;(nt==null?void 0:nt.contains(document.activeElement))&&((an=dt.viewport)==null||an.focus()),g()}),kt=reactExports.useCallback(fn=>{!fn||fn===1/0||(window.clearTimeout(gt.current),pt.current=new Date().getTime(),gt.current=window.setTimeout(wt,fn))},[wt]);reactExports.useEffect(()=>{const fn=dt.viewport;if(fn){const an=()=>{kt(ht.current),$==null||$()},dn=()=>{const on=new Date().getTime()-pt.current;ht.current=ht.current-on,window.clearTimeout(gt.current),_==null||_()};return fn.addEventListener(VIEWPORT_PAUSE,dn),fn.addEventListener(VIEWPORT_RESUME,an),()=>{fn.removeEventListener(VIEWPORT_PAUSE,dn),fn.removeEventListener(VIEWPORT_RESUME,an)}}},[dt.viewport,ot,_,$,kt]),reactExports.useEffect(()=>{h&&!dt.isClosePausedRef.current&&kt(ot)},[h,ot,dt.isClosePausedRef,kt]),reactExports.useEffect(()=>(xt(),()=>Tt()),[xt,Tt]);const Yt=reactExports.useMemo(()=>nt?getAnnounceTextContent(nt):null,[nt]);return dt.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Yt&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:o,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Yt}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:o,onClose:wt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:o,children:jsxRuntimeExports.jsx(Root$4,{asChild:!0,onEscapeKeyDown:composeEventHandlers(b,()=>{dt.isFocusedToastEscapeKeyDownRef.current||wt(),dt.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":h?"open":"closed","data-swipe-direction":dt.swipeDirection,...lt,ref:it,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:composeEventHandlers(s.onKeyDown,fn=>{fn.key==="Escape"&&(b==null||b(fn.nativeEvent),fn.nativeEvent.defaultPrevented||(dt.isFocusedToastEscapeKeyDownRef.current=!0,wt()))}),onPointerDown:composeEventHandlers(s.onPointerDown,fn=>{fn.button===0&&(at.current={x:fn.clientX,y:fn.clientY})}),onPointerMove:composeEventHandlers(s.onPointerMove,fn=>{if(!at.current)return;const an=fn.clientX-at.current.x,dn=fn.clientY-at.current.y,on=!!mt.current,Jt=["left","right"].includes(dt.swipeDirection),Rt=["left","up"].includes(dt.swipeDirection)?Math.min:Math.max,zt=Jt?Rt(0,an):0,nn=Jt?0:Rt(0,dn),Nt=fn.pointerType==="touch"?10:2,Et={x:zt,y:nn},St={originalEvent:fn,delta:Et};on?(mt.current=Et,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,et,St,{discrete:!1})):isDeltaInDirection(Et,dt.swipeDirection,Nt)?(mt.current=Et,handleAndDispatchCustomEvent(TOAST_SWIPE_START,_e,St,{discrete:!1}),fn.target.setPointerCapture(fn.pointerId)):(Math.abs(an)>Nt||Math.abs(dn)>Nt)&&(at.current=null)}),onPointerUp:composeEventHandlers(s.onPointerUp,fn=>{const an=mt.current,dn=fn.target;if(dn.hasPointerCapture(fn.pointerId)&&dn.releasePointerCapture(fn.pointerId),mt.current=null,at.current=null,an){const on=fn.currentTarget,Jt={originalEvent:fn,delta:an};isDeltaInDirection(an,dt.swipeDirection,dt.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,st,Jt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,rt,Jt,{discrete:!0}),on.addEventListener("click",Rt=>Rt.preventDefault(),{once:!0})}})})})}),dt.viewport)})]}):null}),ToastAnnounce=s=>{const{__scopeToast:i,children:o,...a}=s,c=useToastProviderContext(TOAST_NAME,i),[h,g]=reactExports.useState(!1),[b,_]=reactExports.useState(!1);return useNextFrame(()=>g(!0)),reactExports.useEffect(()=>{const $=window.setTimeout(()=>_(!0),1e3);return()=>window.clearTimeout($)},[]),b?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...a,children:h&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[c.label," ",o]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((s,i)=>{const{__scopeToast:o,...a}=s;return jsxRuntimeExports.jsx(Primitive.div,{...a,ref:i})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((s,i)=>{const{__scopeToast:o,...a}=s;return jsxRuntimeExports.jsx(Primitive.div,{...a,ref:i})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((s,i)=>{const{altText:o,...a}=s;return o.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:o,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...a,ref:i})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((s,i)=>{const{__scopeToast:o,...a}=s,c=useToastInteractiveContext(CLOSE_NAME,o);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...a,ref:i,onClick:composeEventHandlers(s.onClick,c.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((s,i)=>{const{__scopeToast:o,altText:a,...c}=s;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:i})});function getAnnounceTextContent(s){const i=[];return Array.from(s.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&i.push(a.textContent),isHTMLElement$1(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",h=a.dataset.radixToastAnnounceExclude==="";if(!c)if(h){const g=a.dataset.radixToastAnnounceAlt;g&&i.push(g)}else i.push(...getAnnounceTextContent(a))}}),i}function handleAndDispatchCustomEvent(s,i,o,{discrete:a}){const c=o.originalEvent.currentTarget,h=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:o});i&&c.addEventListener(s,i,{once:!0}),a?dispatchDiscreteCustomEvent(c,h):c.dispatchEvent(h)}var isDeltaInDirection=(s,i,o=0)=>{const a=Math.abs(s.x),c=Math.abs(s.y),h=a>c;return i==="left"||i==="right"?h&&a>o:!h&&c>o};function useNextFrame(s=()=>{}){const i=useCallbackRef(s);useLayoutEffect2(()=>{let o=0,a=0;return o=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(i)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(a)}},[i])}function isHTMLElement$1(s){return s.nodeType===s.ELEMENT_NODE}function getTabbableCandidates(s){const i=[],o=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)i.push(o.currentNode);return i}function focusFirst(s){const i=document.activeElement;return s.some(o=>o===i?!0:(o.focus(),document.activeElement!==i))}var Provider$1=ToastProvider$1,Viewport=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action$1=ToastAction$1,Close=ToastClose$1;function r(s){var i,o,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(i=0;i<c;i++)s[i]&&(o=r(s[i]))&&(a&&(a+=" "),a+=o)}else for(o in s)s[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var s,i,o=0,a="",c=arguments.length;o<c;o++)(s=arguments[o])&&(i=r(s))&&(a&&(a+=" "),a+=i);return a}const falsyToString=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,cx=clsx,cva=(s,i)=>o=>{var a;if((i==null?void 0:i.variants)==null)return cx(s,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:c,defaultVariants:h}=i,g=Object.keys(c).map($=>{const _e=o==null?void 0:o[$],et=h==null?void 0:h[$];if(_e===null)return null;const rt=falsyToString(_e)||falsyToString(et);return c[$][rt]}),b=o&&Object.entries(o).reduce(($,_e)=>{let[et,rt]=_e;return rt===void 0||($[et]=rt),$},{}),_=i==null||(a=i.compoundVariants)===null||a===void 0?void 0:a.reduce(($,_e)=>{let{class:et,className:rt,...st}=_e;return Object.entries(st).every(lt=>{let[dt,nt]=lt;return Array.isArray(nt)?nt.includes({...h,...b}[dt]):{...h,...b}[dt]===nt})?[...$,et,rt]:$},[]);return cx(s,g,_,o==null?void 0:o.class,o==null?void 0:o.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...s)=>s.filter((i,o,a)=>!!i&&i.trim()!==""&&a.indexOf(i)===o).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:h,iconNode:g,...b},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes,width:i,height:i,stroke:s,strokeWidth:a?Number(o)*24/Number(i):o,className:mergeClasses("lucide",c),...b},[...g.map(([$,_e])=>reactExports.createElement($,_e)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(s,i)=>{const o=reactExports.forwardRef(({className:a,...c},h)=>reactExports.createElement(Icon,{ref:h,iconNode:i,className:mergeClasses(`lucide-${toKebabCase(s)}`,a),...c}));return o.displayName=`${s}`,o};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Book$1=createLucideIcon("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=s=>{const i=createClassMap(s),{conflictingClassGroups:o,conflictingClassGroupModifiers:a}=s;return{getClassGroupId:g=>{const b=g.split(CLASS_PART_SEPARATOR);return b[0]===""&&b.length!==1&&b.shift(),getGroupRecursive(b,i)||getGroupIdForArbitraryProperty(g)},getConflictingClassGroupIds:(g,b)=>{const _=o[g]||[];return b&&a[g]?[..._,...a[g]]:_}}},getGroupRecursive=(s,i)=>{var g;if(s.length===0)return i.classGroupId;const o=s[0],a=i.nextPart.get(o),c=a?getGroupRecursive(s.slice(1),a):void 0;if(c)return c;if(i.validators.length===0)return;const h=s.join(CLASS_PART_SEPARATOR);return(g=i.validators.find(({validator:b})=>b(h)))==null?void 0:g.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=s=>{if(arbitraryPropertyRegex.test(s)){const i=arbitraryPropertyRegex.exec(s)[1],o=i==null?void 0:i.substring(0,i.indexOf(":"));if(o)return"arbitrary.."+o}},createClassMap=s=>{const{theme:i,prefix:o}=s,a={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(s.classGroups),o).forEach(([h,g])=>{processClassesRecursively(g,a,h,i)}),a},processClassesRecursively=(s,i,o,a)=>{s.forEach(c=>{if(typeof c=="string"){const h=c===""?i:getPart(i,c);h.classGroupId=o;return}if(typeof c=="function"){if(isThemeGetter(c)){processClassesRecursively(c(a),i,o,a);return}i.validators.push({validator:c,classGroupId:o});return}Object.entries(c).forEach(([h,g])=>{processClassesRecursively(g,getPart(i,h),o,a)})})},getPart=(s,i)=>{let o=s;return i.split(CLASS_PART_SEPARATOR).forEach(a=>{o.nextPart.has(a)||o.nextPart.set(a,{nextPart:new Map,validators:[]}),o=o.nextPart.get(a)}),o},isThemeGetter=s=>s.isThemeGetter,getPrefixedClassGroupEntries=(s,i)=>i?s.map(([o,a])=>{const c=a.map(h=>typeof h=="string"?i+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(([g,b])=>[i+g,b])):h);return[o,c]}):s,createLruCache=s=>{if(s<1)return{get:()=>{},set:()=>{}};let i=0,o=new Map,a=new Map;const c=(h,g)=>{o.set(h,g),i++,i>s&&(i=0,a=o,o=new Map)};return{get(h){let g=o.get(h);if(g!==void 0)return g;if((g=a.get(h))!==void 0)return c(h,g),g},set(h,g){o.has(h)?o.set(h,g):c(h,g)}}},IMPORTANT_MODIFIER="!",createParseClassName=s=>{const{separator:i,experimentalParseClassName:o}=s,a=i.length===1,c=i[0],h=i.length,g=b=>{const _=[];let $=0,_e=0,et;for(let nt=0;nt<b.length;nt++){let tt=b[nt];if($===0){if(tt===c&&(a||b.slice(nt,nt+h)===i)){_.push(b.slice(_e,nt)),_e=nt+h;continue}if(tt==="/"){et=nt;continue}}tt==="["?$++:tt==="]"&&$--}const rt=_.length===0?b:b.substring(_e),st=rt.startsWith(IMPORTANT_MODIFIER),lt=st?rt.substring(1):rt,dt=et&&et>_e?et-_e:void 0;return{modifiers:_,hasImportantModifier:st,baseClassName:lt,maybePostfixModifierPosition:dt}};return o?b=>o({className:b,parseClassName:g}):g},sortModifiers=s=>{if(s.length<=1)return s;const i=[];let o=[];return s.forEach(a=>{a[0]==="["?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i},createConfigUtils=s=>({cache:createLruCache(s.cacheSize),parseClassName:createParseClassName(s),...createClassGroupUtils(s)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(s,i)=>{const{parseClassName:o,getClassGroupId:a,getConflictingClassGroupIds:c}=i,h=[],g=s.trim().split(SPLIT_CLASSES_REGEX);let b="";for(let _=g.length-1;_>=0;_-=1){const $=g[_],{modifiers:_e,hasImportantModifier:et,baseClassName:rt,maybePostfixModifierPosition:st}=o($);let lt=!!st,dt=a(lt?rt.substring(0,st):rt);if(!dt){if(!lt){b=$+(b.length>0?" "+b:b);continue}if(dt=a(rt),!dt){b=$+(b.length>0?" "+b:b);continue}lt=!1}const nt=sortModifiers(_e).join(":"),tt=et?nt+IMPORTANT_MODIFIER:nt,it=tt+dt;if(h.includes(it))continue;h.push(it);const at=c(dt,lt);for(let mt=0;mt<at.length;++mt){const ot=at[mt];h.push(tt+ot)}b=$+(b.length>0?" "+b:b)}return b};function twJoin(){let s=0,i,o,a="";for(;s<arguments.length;)(i=arguments[s++])&&(o=toValue(i))&&(a&&(a+=" "),a+=o);return a}const toValue=s=>{if(typeof s=="string")return s;let i,o="";for(let a=0;a<s.length;a++)s[a]&&(i=toValue(s[a]))&&(o&&(o+=" "),o+=i);return o};function createTailwindMerge(s,...i){let o,a,c,h=g;function g(_){const $=i.reduce((_e,et)=>et(_e),s());return o=createConfigUtils($),a=o.cache.get,c=o.cache.set,h=b,b(_)}function b(_){const $=a(_);if($)return $;const _e=mergeClassList(_,o);return c(_,_e),_e}return function(){return h(twJoin.apply(null,arguments))}}const fromTheme=s=>{const i=o=>o[s]||[];return i.isThemeGetter=!0,i},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=s=>isNumber$1(s)||stringLengths.has(s)||fractionRegex.test(s),isArbitraryLength=s=>getIsArbitraryValue(s,"length",isLengthOnly),isNumber$1=s=>!!s&&!Number.isNaN(Number(s)),isArbitraryNumber=s=>getIsArbitraryValue(s,"number",isNumber$1),isInteger=s=>!!s&&Number.isInteger(Number(s)),isPercent=s=>s.endsWith("%")&&isNumber$1(s.slice(0,-1)),isArbitraryValue=s=>arbitraryValueRegex.test(s),isTshirtSize=s=>tshirtUnitRegex.test(s),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=s=>getIsArbitraryValue(s,sizeLabels,isNever),isArbitraryPosition=s=>getIsArbitraryValue(s,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=s=>getIsArbitraryValue(s,imageLabels,isImage),isArbitraryShadow=s=>getIsArbitraryValue(s,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(s,i,o)=>{const a=arbitraryValueRegex.exec(s);return a?a[1]?typeof i=="string"?a[1]===i:i.has(a[1]):o(a[2]):!1},isLengthOnly=s=>lengthUnitRegex.test(s)&&!colorFunctionRegex.test(s),isNever=()=>!1,isShadow=s=>shadowRegex.test(s),isImage=s=>imageRegex.test(s),getDefaultConfig=()=>{const s=fromTheme("colors"),i=fromTheme("spacing"),o=fromTheme("blur"),a=fromTheme("brightness"),c=fromTheme("borderColor"),h=fromTheme("borderRadius"),g=fromTheme("borderSpacing"),b=fromTheme("borderWidth"),_=fromTheme("contrast"),$=fromTheme("grayscale"),_e=fromTheme("hueRotate"),et=fromTheme("invert"),rt=fromTheme("gap"),st=fromTheme("gradientColorStops"),lt=fromTheme("gradientColorStopPositions"),dt=fromTheme("inset"),nt=fromTheme("margin"),tt=fromTheme("opacity"),it=fromTheme("padding"),at=fromTheme("saturate"),mt=fromTheme("scale"),ot=fromTheme("sepia"),pt=fromTheme("skew"),ht=fromTheme("space"),gt=fromTheme("translate"),xt=()=>["auto","contain","none"],Tt=()=>["auto","hidden","clip","visible","scroll"],wt=()=>["auto",isArbitraryValue,i],kt=()=>[isArbitraryValue,i],Yt=()=>["",isLength,isArbitraryLength],fn=()=>["auto",isNumber$1,isArbitraryValue],an=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],dn=()=>["solid","dashed","dotted","double","none"],on=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Jt=()=>["start","end","center","between","around","evenly","stretch"],Rt=()=>["","0",isArbitraryValue],zt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],nn=()=>[isNumber$1,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:nn(),borderColor:[s],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:kt(),borderWidth:Yt(),contrast:nn(),grayscale:Rt(),hueRotate:nn(),invert:Rt(),gap:kt(),gradientColorStops:[s],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:wt(),margin:wt(),opacity:nn(),padding:kt(),saturate:nn(),scale:nn(),sepia:Rt(),skew:nn(),space:kt(),translate:kt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":zt()}],"break-before":[{"break-before":zt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...an(),isArbitraryValue]}],overflow:[{overflow:Tt()}],"overflow-x":[{"overflow-x":Tt()}],"overflow-y":[{"overflow-y":Tt()}],overscroll:[{overscroll:xt()}],"overscroll-x":[{"overscroll-x":xt()}],"overscroll-y":[{"overscroll-y":xt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[dt]}],"inset-x":[{"inset-x":[dt]}],"inset-y":[{"inset-y":[dt]}],start:[{start:[dt]}],end:[{end:[dt]}],top:[{top:[dt]}],right:[{right:[dt]}],bottom:[{bottom:[dt]}],left:[{left:[dt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:wt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Rt()}],shrink:[{shrink:Rt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":fn()}],"col-end":[{"col-end":fn()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":fn()}],"row-end":[{"row-end":fn()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[rt]}],"gap-x":[{"gap-x":[rt]}],"gap-y":[{"gap-y":[rt]}],"justify-content":[{justify:["normal",...Jt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Jt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Jt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[it]}],px:[{px:[it]}],py:[{py:[it]}],ps:[{ps:[it]}],pe:[{pe:[it]}],pt:[{pt:[it]}],pr:[{pr:[it]}],pb:[{pb:[it]}],pl:[{pl:[it]}],m:[{m:[nt]}],mx:[{mx:[nt]}],my:[{my:[nt]}],ms:[{ms:[nt]}],me:[{me:[nt]}],mt:[{mt:[nt]}],mr:[{mr:[nt]}],mb:[{mb:[nt]}],ml:[{ml:[nt]}],"space-x":[{"space-x":[ht]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ht]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,i]}],"min-w":[{"min-w":[isArbitraryValue,i,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,i,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,i,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,i,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,i,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,i,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$1,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[tt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...dn(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:kt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[tt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...an(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[lt]}],"gradient-via-pos":[{via:[lt]}],"gradient-to-pos":[{to:[lt]}],"gradient-from":[{from:[st]}],"gradient-via":[{via:[st]}],"gradient-to":[{to:[st]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[b]}],"border-w-x":[{"border-x":[b]}],"border-w-y":[{"border-y":[b]}],"border-w-s":[{"border-s":[b]}],"border-w-e":[{"border-e":[b]}],"border-w-t":[{"border-t":[b]}],"border-w-r":[{"border-r":[b]}],"border-w-b":[{"border-b":[b]}],"border-w-l":[{"border-l":[b]}],"border-opacity":[{"border-opacity":[tt]}],"border-style":[{border:[...dn(),"hidden"]}],"divide-x":[{"divide-x":[b]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[b]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[tt]}],"divide-style":[{divide:dn()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...dn()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:Yt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[tt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[tt]}],"mix-blend":[{"mix-blend":[...on(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":on()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[a]}],contrast:[{contrast:[_]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[$]}],"hue-rotate":[{"hue-rotate":[_e]}],invert:[{invert:[et]}],saturate:[{saturate:[at]}],sepia:[{sepia:[ot]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[_]}],"backdrop-grayscale":[{"backdrop-grayscale":[$]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e]}],"backdrop-invert":[{"backdrop-invert":[et]}],"backdrop-opacity":[{"backdrop-opacity":[tt]}],"backdrop-saturate":[{"backdrop-saturate":[at]}],"backdrop-sepia":[{"backdrop-sepia":[ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[g]}],"border-spacing-x":[{"border-spacing-x":[g]}],"border-spacing-y":[{"border-spacing-y":[g]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:nn()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:nn()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[mt]}],"scale-x":[{"scale-x":[mt]}],"scale-y":[{"scale-y":[mt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[gt]}],"translate-y":[{"translate-y":[gt]}],"skew-x":[{"skew-x":[pt]}],"skew-y":[{"skew-y":[pt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":kt()}],"scroll-mx":[{"scroll-mx":kt()}],"scroll-my":[{"scroll-my":kt()}],"scroll-ms":[{"scroll-ms":kt()}],"scroll-me":[{"scroll-me":kt()}],"scroll-mt":[{"scroll-mt":kt()}],"scroll-mr":[{"scroll-mr":kt()}],"scroll-mb":[{"scroll-mb":kt()}],"scroll-ml":[{"scroll-ml":kt()}],"scroll-p":[{"scroll-p":kt()}],"scroll-px":[{"scroll-px":kt()}],"scroll-py":[{"scroll-py":kt()}],"scroll-ps":[{"scroll-ps":kt()}],"scroll-pe":[{"scroll-pe":kt()}],"scroll-pt":[{"scroll-pt":kt()}],"scroll-pr":[{"scroll-pr":kt()}],"scroll-pb":[{"scroll-pb":kt()}],"scroll-pl":[{"scroll-pl":kt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...s){return twMerge(clsx(s))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:s,...i},o)=>jsxRuntimeExports.jsx(Viewport,{ref:o,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...i}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:s,variant:i,...o},a)=>jsxRuntimeExports.jsx(Root2,{ref:a,className:cn(toastVariants({variant:i}),s),...o}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:s,...i},o)=>jsxRuntimeExports.jsx(Action$1,{ref:o,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...i}));ToastAction.displayName=Action$1.displayName;const ToastClose=reactExports.forwardRef(({className:s,...i},o)=>jsxRuntimeExports.jsx(Close,{ref:o,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...i,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:s,...i},o)=>jsxRuntimeExports.jsx(Title,{ref:o,className:cn("text-sm font-semibold",s),...i}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:s,...i},o)=>jsxRuntimeExports.jsx(Description,{ref:o,className:cn("text-sm opacity-90",s),...i}));ToastDescription.displayName=Description.displayName;function Toaster$1(){const{toasts:s}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[s.map(function({id:i,title:o,description:a,action:c,...h}){return jsxRuntimeExports.jsxs(Toast,{...h,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[o&&jsxRuntimeExports.jsx(ToastTitle,{children:o}),a&&jsxRuntimeExports.jsx(ToastDescription,{children:a})]}),c,jsxRuntimeExports.jsx(ToastClose,{})]},i)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var P=["light","dark"],E="(prefers-color-scheme: dark)",L=reactExports.createContext(void 0),D={setTheme:s=>{},themes:[]},j=()=>{var s;return(s=reactExports.useContext(L))!=null?s:D};reactExports.memo(({forcedTheme:s,storageKey:i,attribute:o,enableSystem:a,enableColorScheme:c,defaultTheme:h,value:g,attrs:b,nonce:_})=>{let $=h==="system",_e=o==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${b.map(lt=>`'${lt}'`).join(",")})`};`:`var d=document.documentElement,n='${o}',s='setAttribute';`,et=c?P.includes(h)&&h?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${h}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",rt=(lt,dt=!1,nt=!0)=>{let tt=g?g[lt]:lt,it=dt?lt+"|| ''":`'${tt}'`,at="";return c&&nt&&!dt&&P.includes(lt)&&(at+=`d.style.colorScheme = '${lt}';`),o==="class"?dt||tt?at+=`c.add(${it})`:at+="null":tt&&(at+=`d[s](n,${it})`),at},st=s?`!function(){${_e}${rt(s)}}()`:a?`!function(){try{${_e}var e=localStorage.getItem('${i}');if('system'===e||(!e&&${$})){var t='${E}',m=window.matchMedia(t);if(m.media!==t||m.matches){${rt("dark")}}else{${rt("light")}}}else if(e){${g?`var x=${JSON.stringify(g)};`:""}${rt(g?"x[e]":"e",!0)}}${$?"":"else{"+rt(h,!1,!1)+"}"}${et}}catch(e){}}()`:`!function(){try{${_e}var e=localStorage.getItem('${i}');if(e){${g?`var x=${JSON.stringify(g)};`:""}${rt(g?"x[e]":"e",!0)}}else{${rt(h,!1,!1)};}${et}}catch(t){}}();`;return reactExports.createElement("script",{nonce:_,dangerouslySetInnerHTML:{__html:st}})});var Ct=s=>{switch(s){case"success":return $t;case"info":return _t;case"warning":return Wt;case"error":return Ut;default:return null}},Ft=Array(12).fill(0),It=({visible:s})=>e.createElement("div",{className:"sonner-loading-wrapper","data-visible":s},e.createElement("div",{className:"sonner-spinner"},Ft.map((i,o)=>e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),$t=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wt=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_t=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ut=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dt=()=>{let[s,i]=e.useState(document.hidden);return e.useEffect(()=>{let o=()=>{i(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),s},ct=1,ut=class{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{let i=this.subscribers.indexOf(s);this.subscribers.splice(i,1)}),this.publish=s=>{this.subscribers.forEach(i=>i(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var i;let{message:o,...a}=s,c=typeof(s==null?void 0:s.id)=="number"||((i=s.id)==null?void 0:i.length)>0?s.id:ct++,h=this.toasts.find(b=>b.id===c),g=s.dismissible===void 0?!0:s.dismissible;return h?this.toasts=this.toasts.map(b=>b.id===c?(this.publish({...b,...s,id:c,title:o}),{...b,...s,id:c,dismissible:g,title:o}):b):this.addToast({title:o,...a,dismissible:g,id:c}),c},this.dismiss=s=>(s||this.toasts.forEach(i=>{this.subscribers.forEach(o=>o({id:i.id,dismiss:!0}))}),this.subscribers.forEach(i=>i({id:s,dismiss:!0})),s),this.message=(s,i)=>this.create({...i,message:s}),this.error=(s,i)=>this.create({...i,message:s,type:"error"}),this.success=(s,i)=>this.create({...i,type:"success",message:s}),this.info=(s,i)=>this.create({...i,type:"info",message:s}),this.warning=(s,i)=>this.create({...i,type:"warning",message:s}),this.loading=(s,i)=>this.create({...i,type:"loading",message:s}),this.promise=(s,i)=>{if(!i)return;let o;i.loading!==void 0&&(o=this.create({...i,promise:s,type:"loading",message:i.loading,description:typeof i.description!="function"?i.description:void 0}));let a=s instanceof Promise?s:s(),c=o!==void 0;return a.then(async h=>{if(Ot(h)&&!h.ok){c=!1;let g=typeof i.error=="function"?await i.error(`HTTP error! status: ${h.status}`):i.error,b=typeof i.description=="function"?await i.description(`HTTP error! status: ${h.status}`):i.description;this.create({id:o,type:"error",message:g,description:b})}else if(i.success!==void 0){c=!1;let g=typeof i.success=="function"?await i.success(h):i.success,b=typeof i.description=="function"?await i.description(h):i.description;this.create({id:o,type:"success",message:g,description:b})}}).catch(async h=>{if(i.error!==void 0){c=!1;let g=typeof i.error=="function"?await i.error(h):i.error,b=typeof i.description=="function"?await i.description(h):i.description;this.create({id:o,type:"error",message:g,description:b})}}).finally(()=>{var h;c&&(this.dismiss(o),o=void 0),(h=i.finally)==null||h.call(i)}),o},this.custom=(s,i)=>{let o=(i==null?void 0:i.id)||ct++;return this.create({jsx:s(o),id:o,...i}),o},this.subscribers=[],this.toasts=[]}},v=new ut,Vt=(s,i)=>{let o=(i==null?void 0:i.id)||ct++;return v.addToast({title:s,...i,id:o}),o},Ot=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",Kt=Vt,Xt=()=>v.toasts;Object.assign(Kt,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:Xt});function ft(s,{insertAt:i}={}){if(typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",i==="top"&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}ft(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function U(s){return s.label!==void 0}var qt=3,Qt="32px",Zt=4e3,te=356,ee=14,oe=20,ae=200;function ne(...s){return s.filter(Boolean).join(" ")}var se=s=>{var i,o,a,c,h,g,b,_,$,_e;let{invert:et,toast:rt,unstyled:st,interacting:lt,setHeights:dt,visibleToasts:nt,heights:tt,index:it,toasts:at,expanded:mt,removeToast:ot,defaultRichColors:pt,closeButton:ht,style:gt,cancelButtonStyle:xt,actionButtonStyle:Tt,className:wt="",descriptionClassName:kt="",duration:Yt,position:fn,gap:an,loadingIcon:dn,expandByDefault:on,classNames:Jt,icons:Rt,closeButtonAriaLabel:zt="Close toast",pauseWhenPageIsHidden:nn,cn:Nt}=s,[Et,St]=e.useState(!1),[jt,en]=e.useState(!1),[sn,rn]=e.useState(!1),[vn,_n]=e.useState(!1),[In,Fn]=e.useState(0),[$n,Un]=e.useState(0),Wn=e.useRef(null),Rn=e.useRef(null),xn=it===0,tn=it+1<=nt,hn=rt.type,yn=rt.dismissible!==!1,On=rt.className||"",jn=rt.descriptionClassName||"",zn=e.useMemo(()=>tt.findIndex(An=>An.toastId===rt.id)||0,[tt,rt.id]),Vn=e.useMemo(()=>{var An;return(An=rt.closeButton)!=null?An:ht},[rt.closeButton,ht]),Tn=e.useMemo(()=>rt.duration||Yt||Zt,[rt.duration,Yt]),Kn=e.useRef(0),Xn=e.useRef(0),hr=e.useRef(0),cr=e.useRef(null),[fr,nr]=fn.split("-"),ar=e.useMemo(()=>tt.reduce((An,Gn,gn)=>gn>=zn?An:An+Gn.height,0),[tt,zn]),dr=Dt(),gr=rt.invert||et,Hn=hn==="loading";Xn.current=e.useMemo(()=>zn*an+ar,[zn,ar]),e.useEffect(()=>{St(!0)},[]),e.useLayoutEffect(()=>{if(!Et)return;let An=Rn.current,Gn=An.style.height;An.style.height="auto";let gn=An.getBoundingClientRect().height;An.style.height=Gn,Un(gn),dt(Bt=>Bt.find(At=>At.toastId===rt.id)?Bt.map(At=>At.toastId===rt.id?{...At,height:gn}:At):[{toastId:rt.id,height:gn,position:rt.position},...Bt])},[Et,rt.title,rt.description,dt,rt.id]);let Pt=e.useCallback(()=>{en(!0),Fn(Xn.current),dt(An=>An.filter(Gn=>Gn.toastId!==rt.id)),setTimeout(()=>{ot(rt)},ae)},[rt,ot,dt,Xn]);e.useEffect(()=>{if(rt.promise&&hn==="loading"||rt.duration===1/0||rt.type==="loading")return;let An,Gn=Tn;return mt||lt||nn&&dr?(()=>{if(hr.current<Kn.current){let gn=new Date().getTime()-Kn.current;Gn=Gn-gn}hr.current=new Date().getTime()})():Gn!==1/0&&(Kn.current=new Date().getTime(),An=setTimeout(()=>{var gn;(gn=rt.onAutoClose)==null||gn.call(rt,rt),Pt()},Gn)),()=>clearTimeout(An)},[mt,lt,on,rt,Tn,Pt,rt.promise,hn,nn,dr]),e.useEffect(()=>{let An=Rn.current;if(An){let Gn=An.getBoundingClientRect().height;return Un(Gn),dt(gn=>[{toastId:rt.id,height:Gn,position:rt.position},...gn]),()=>dt(gn=>gn.filter(Bt=>Bt.toastId!==rt.id))}},[dt,rt.id]),e.useEffect(()=>{rt.delete&&Pt()},[Pt,rt.delete]);function pn(){return Rt!=null&&Rt.loading?e.createElement("div",{className:"sonner-loader","data-visible":hn==="loading"},Rt.loading):dn?e.createElement("div",{className:"sonner-loader","data-visible":hn==="loading"},dn):e.createElement(It,{visible:hn==="loading"})}return e.createElement("li",{"aria-live":rt.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Rn,className:Nt(wt,On,Jt==null?void 0:Jt.toast,(i=rt==null?void 0:rt.classNames)==null?void 0:i.toast,Jt==null?void 0:Jt.default,Jt==null?void 0:Jt[hn],(o=rt==null?void 0:rt.classNames)==null?void 0:o[hn]),"data-sonner-toast":"","data-rich-colors":(a=rt.richColors)!=null?a:pt,"data-styled":!(rt.jsx||rt.unstyled||st),"data-mounted":Et,"data-promise":!!rt.promise,"data-removed":jt,"data-visible":tn,"data-y-position":fr,"data-x-position":nr,"data-index":it,"data-front":xn,"data-swiping":sn,"data-dismissible":yn,"data-type":hn,"data-invert":gr,"data-swipe-out":vn,"data-expanded":!!(mt||on&&Et),style:{"--index":it,"--toasts-before":it,"--z-index":at.length-it,"--offset":`${jt?In:Xn.current}px`,"--initial-height":on?"auto":`${$n}px`,...gt,...rt.style},onPointerDown:An=>{Hn||!yn||(Wn.current=new Date,Fn(Xn.current),An.target.setPointerCapture(An.pointerId),An.target.tagName!=="BUTTON"&&(rn(!0),cr.current={x:An.clientX,y:An.clientY}))},onPointerUp:()=>{var An,Gn,gn,Bt;if(vn||!yn)return;cr.current=null;let At=Number(((An=Rn.current)==null?void 0:An.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Pn=new Date().getTime()-((Gn=Wn.current)==null?void 0:Gn.getTime()),qn=Math.abs(At)/Pn;if(Math.abs(At)>=oe||qn>.11){Fn(Xn.current),(gn=rt.onDismiss)==null||gn.call(rt,rt),Pt(),_n(!0);return}(Bt=Rn.current)==null||Bt.style.setProperty("--swipe-amount","0px"),rn(!1)},onPointerMove:An=>{var Gn;if(!cr.current||!yn)return;let gn=An.clientY-cr.current.y,Bt=An.clientX-cr.current.x,At=(fr==="top"?Math.min:Math.max)(0,gn),Pn=An.pointerType==="touch"?10:2;Math.abs(At)>Pn?(Gn=Rn.current)==null||Gn.style.setProperty("--swipe-amount",`${gn}px`):Math.abs(Bt)>Pn&&(cr.current=null)}},Vn&&!rt.jsx?e.createElement("button",{"aria-label":zt,"data-disabled":Hn,"data-close-button":!0,onClick:Hn||!yn?()=>{}:()=>{var An;Pt(),(An=rt.onDismiss)==null||An.call(rt,rt)},className:Nt(Jt==null?void 0:Jt.closeButton,(c=rt==null?void 0:rt.classNames)==null?void 0:c.closeButton)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,rt.jsx||e.isValidElement(rt.title)?rt.jsx||rt.title:e.createElement(e.Fragment,null,hn||rt.icon||rt.promise?e.createElement("div",{"data-icon":"",className:Nt(Jt==null?void 0:Jt.icon,(h=rt==null?void 0:rt.classNames)==null?void 0:h.icon)},rt.promise||rt.type==="loading"&&!rt.icon?rt.icon||pn():null,rt.type!=="loading"?rt.icon||(Rt==null?void 0:Rt[hn])||Ct(hn):null):null,e.createElement("div",{"data-content":"",className:Nt(Jt==null?void 0:Jt.content,(g=rt==null?void 0:rt.classNames)==null?void 0:g.content)},e.createElement("div",{"data-title":"",className:Nt(Jt==null?void 0:Jt.title,(b=rt==null?void 0:rt.classNames)==null?void 0:b.title)},rt.title),rt.description?e.createElement("div",{"data-description":"",className:Nt(kt,jn,Jt==null?void 0:Jt.description,(_=rt==null?void 0:rt.classNames)==null?void 0:_.description)},rt.description):null),e.isValidElement(rt.cancel)?rt.cancel:rt.cancel&&U(rt.cancel)?e.createElement("button",{"data-button":!0,"data-cancel":!0,style:rt.cancelButtonStyle||xt,onClick:An=>{var Gn,gn;U(rt.cancel)&&yn&&((gn=(Gn=rt.cancel).onClick)==null||gn.call(Gn,An),Pt())},className:Nt(Jt==null?void 0:Jt.cancelButton,($=rt==null?void 0:rt.classNames)==null?void 0:$.cancelButton)},rt.cancel.label):null,e.isValidElement(rt.action)?rt.action:rt.action&&U(rt.action)?e.createElement("button",{"data-button":!0,"data-action":!0,style:rt.actionButtonStyle||Tt,onClick:An=>{var Gn,gn;U(rt.action)&&(An.defaultPrevented||((gn=(Gn=rt.action).onClick)==null||gn.call(Gn,An),Pt()))},className:Nt(Jt==null?void 0:Jt.actionButton,(_e=rt==null?void 0:rt.classNames)==null?void 0:_e.actionButton)},rt.action.label):null))};function Ht(){if(typeof window>"u"||typeof document>"u")return"ltr";let s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}var Te=s=>{let{invert:i,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:h,className:g,offset:b,theme:_="light",richColors:$,duration:_e,style:et,visibleToasts:rt=qt,toastOptions:st,dir:lt=Ht(),gap:dt=ee,loadingIcon:nt,icons:tt,containerAriaLabel:it="Notifications",pauseWhenPageIsHidden:at,cn:mt=ne}=s,[ot,pt]=e.useState([]),ht=e.useMemo(()=>Array.from(new Set([o].concat(ot.filter(nn=>nn.position).map(nn=>nn.position)))),[ot,o]),[gt,xt]=e.useState([]),[Tt,wt]=e.useState(!1),[kt,Yt]=e.useState(!1),[fn,an]=e.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),dn=e.useRef(null),on=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Jt=e.useRef(null),Rt=e.useRef(!1),zt=e.useCallback(nn=>{var Nt;(Nt=ot.find(Et=>Et.id===nn.id))!=null&&Nt.delete||v.dismiss(nn.id),pt(Et=>Et.filter(({id:St})=>St!==nn.id))},[ot]);return e.useEffect(()=>v.subscribe(nn=>{if(nn.dismiss){pt(Nt=>Nt.map(Et=>Et.id===nn.id?{...Et,delete:!0}:Et));return}setTimeout(()=>{Gt.flushSync(()=>{pt(Nt=>{let Et=Nt.findIndex(St=>St.id===nn.id);return Et!==-1?[...Nt.slice(0,Et),{...Nt[Et],...nn},...Nt.slice(Et+1)]:[nn,...Nt]})})})}),[]),e.useEffect(()=>{if(_!=="system"){an(_);return}_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?an("dark"):an("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:nn})=>{an(nn?"dark":"light")})},[_]),e.useEffect(()=>{ot.length<=1&&wt(!1)},[ot]),e.useEffect(()=>{let nn=Nt=>{var Et,St;a.every(jt=>Nt[jt]||Nt.code===jt)&&(wt(!0),(Et=dn.current)==null||Et.focus()),Nt.code==="Escape"&&(document.activeElement===dn.current||(St=dn.current)!=null&&St.contains(document.activeElement))&&wt(!1)};return document.addEventListener("keydown",nn),()=>document.removeEventListener("keydown",nn)},[a]),e.useEffect(()=>{if(dn.current)return()=>{Jt.current&&(Jt.current.focus({preventScroll:!0}),Jt.current=null,Rt.current=!1)}},[dn.current]),ot.length?e.createElement("section",{"aria-label":`${it} ${on}`,tabIndex:-1},ht.map((nn,Nt)=>{var Et;let[St,jt]=nn.split("-");return e.createElement("ol",{key:nn,dir:lt==="auto"?Ht():lt,tabIndex:-1,ref:dn,className:g,"data-sonner-toaster":!0,"data-theme":fn,"data-y-position":St,"data-x-position":jt,style:{"--front-toast-height":`${((Et=gt[0])==null?void 0:Et.height)||0}px`,"--offset":typeof b=="number"?`${b}px`:b||Qt,"--width":`${te}px`,"--gap":`${dt}px`,...et},onBlur:en=>{Rt.current&&!en.currentTarget.contains(en.relatedTarget)&&(Rt.current=!1,Jt.current&&(Jt.current.focus({preventScroll:!0}),Jt.current=null))},onFocus:en=>{en.target instanceof HTMLElement&&en.target.dataset.dismissible==="false"||Rt.current||(Rt.current=!0,Jt.current=en.relatedTarget)},onMouseEnter:()=>wt(!0),onMouseMove:()=>wt(!0),onMouseLeave:()=>{kt||wt(!1)},onPointerDown:en=>{en.target instanceof HTMLElement&&en.target.dataset.dismissible==="false"||Yt(!0)},onPointerUp:()=>Yt(!1)},ot.filter(en=>!en.position&&Nt===0||en.position===nn).map((en,sn)=>{var rn,vn;return e.createElement(se,{key:en.id,icons:tt,index:sn,toast:en,defaultRichColors:$,duration:(rn=st==null?void 0:st.duration)!=null?rn:_e,className:st==null?void 0:st.className,descriptionClassName:st==null?void 0:st.descriptionClassName,invert:i,visibleToasts:rt,closeButton:(vn=st==null?void 0:st.closeButton)!=null?vn:h,interacting:kt,position:nn,style:st==null?void 0:st.style,unstyled:st==null?void 0:st.unstyled,classNames:st==null?void 0:st.classNames,cancelButtonStyle:st==null?void 0:st.cancelButtonStyle,actionButtonStyle:st==null?void 0:st.actionButtonStyle,removeToast:zt,toasts:ot.filter(_n=>_n.position==en.position),heights:gt.filter(_n=>_n.position==en.position),setHeights:xt,expandByDefault:c,gap:dt,loadingIcon:nt,expanded:Tt,pauseWhenPageIsHidden:at,cn:mt})}))})):null};const Toaster=({...s})=>{const{theme:i="system"}=j();return jsxRuntimeExports.jsx(Te,{theme:i,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})},sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=s=>({x:s,y:s}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(s,i,o){return max(s,min(i,o))}function evaluate(s,i){return typeof s=="function"?s(i):s}function getSide(s){return s.split("-")[0]}function getAlignment(s){return s.split("-")[1]}function getOppositeAxis(s){return s==="x"?"y":"x"}function getAxisLength(s){return s==="y"?"height":"width"}function getSideAxis(s){return["top","bottom"].includes(getSide(s))?"y":"x"}function getAlignmentAxis(s){return getOppositeAxis(getSideAxis(s))}function getAlignmentSides(s,i,o){o===void 0&&(o=!1);const a=getAlignment(s),c=getAlignmentAxis(s),h=getAxisLength(c);let g=c==="x"?a===(o?"end":"start")?"right":"left":a==="start"?"bottom":"top";return i.reference[h]>i.floating[h]&&(g=getOppositePlacement(g)),[g,getOppositePlacement(g)]}function getExpandedPlacements(s){const i=getOppositePlacement(s);return[getOppositeAlignmentPlacement(s),i,getOppositeAlignmentPlacement(i)]}function getOppositeAlignmentPlacement(s){return s.replace(/start|end/g,i=>oppositeAlignmentMap[i])}function getSideList(s,i,o){const a=["left","right"],c=["right","left"],h=["top","bottom"],g=["bottom","top"];switch(s){case"top":case"bottom":return o?i?c:a:i?a:c;case"left":case"right":return i?h:g;default:return[]}}function getOppositeAxisPlacements(s,i,o,a){const c=getAlignment(s);let h=getSideList(getSide(s),o==="start",a);return c&&(h=h.map(g=>g+"-"+c),i&&(h=h.concat(h.map(getOppositeAlignmentPlacement)))),h}function getOppositePlacement(s){return s.replace(/left|right|bottom|top/g,i=>oppositeSideMap[i])}function expandPaddingObject(s){return{top:0,right:0,bottom:0,left:0,...s}}function getPaddingObject(s){return typeof s!="number"?expandPaddingObject(s):{top:s,right:s,bottom:s,left:s}}function rectToClientRect(s){const{x:i,y:o,width:a,height:c}=s;return{width:a,height:c,top:o,left:i,right:i+a,bottom:o+c,x:i,y:o}}function computeCoordsFromPlacement(s,i,o){let{reference:a,floating:c}=s;const h=getSideAxis(i),g=getAlignmentAxis(i),b=getAxisLength(g),_=getSide(i),$=h==="y",_e=a.x+a.width/2-c.width/2,et=a.y+a.height/2-c.height/2,rt=a[b]/2-c[b]/2;let st;switch(_){case"top":st={x:_e,y:a.y-c.height};break;case"bottom":st={x:_e,y:a.y+a.height};break;case"right":st={x:a.x+a.width,y:et};break;case"left":st={x:a.x-c.width,y:et};break;default:st={x:a.x,y:a.y}}switch(getAlignment(i)){case"start":st[g]-=rt*(o&&$?-1:1);break;case"end":st[g]+=rt*(o&&$?-1:1);break}return st}const computePosition$1=async(s,i,o)=>{const{placement:a="bottom",strategy:c="absolute",middleware:h=[],platform:g}=o,b=h.filter(Boolean),_=await(g.isRTL==null?void 0:g.isRTL(i));let $=await g.getElementRects({reference:s,floating:i,strategy:c}),{x:_e,y:et}=computeCoordsFromPlacement($,a,_),rt=a,st={},lt=0;for(let dt=0;dt<b.length;dt++){const{name:nt,fn:tt}=b[dt],{x:it,y:at,data:mt,reset:ot}=await tt({x:_e,y:et,initialPlacement:a,placement:rt,strategy:c,middlewareData:st,rects:$,platform:g,elements:{reference:s,floating:i}});_e=it??_e,et=at??et,st={...st,[nt]:{...st[nt],...mt}},ot&&lt<=50&&(lt++,typeof ot=="object"&&(ot.placement&&(rt=ot.placement),ot.rects&&($=ot.rects===!0?await g.getElementRects({reference:s,floating:i,strategy:c}):ot.rects),{x:_e,y:et}=computeCoordsFromPlacement($,rt,_)),dt=-1)}return{x:_e,y:et,placement:rt,strategy:c,middlewareData:st}};async function detectOverflow(s,i){var o;i===void 0&&(i={});const{x:a,y:c,platform:h,rects:g,elements:b,strategy:_}=s,{boundary:$="clippingAncestors",rootBoundary:_e="viewport",elementContext:et="floating",altBoundary:rt=!1,padding:st=0}=evaluate(i,s),lt=getPaddingObject(st),nt=b[rt?et==="floating"?"reference":"floating":et],tt=rectToClientRect(await h.getClippingRect({element:(o=await(h.isElement==null?void 0:h.isElement(nt)))==null||o?nt:nt.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(b.floating)),boundary:$,rootBoundary:_e,strategy:_})),it=et==="floating"?{x:a,y:c,width:g.floating.width,height:g.floating.height}:g.reference,at=await(h.getOffsetParent==null?void 0:h.getOffsetParent(b.floating)),mt=await(h.isElement==null?void 0:h.isElement(at))?await(h.getScale==null?void 0:h.getScale(at))||{x:1,y:1}:{x:1,y:1},ot=rectToClientRect(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:b,rect:it,offsetParent:at,strategy:_}):it);return{top:(tt.top-ot.top+lt.top)/mt.y,bottom:(ot.bottom-tt.bottom+lt.bottom)/mt.y,left:(tt.left-ot.left+lt.left)/mt.x,right:(ot.right-tt.right+lt.right)/mt.x}}const arrow$3=s=>({name:"arrow",options:s,async fn(i){const{x:o,y:a,placement:c,rects:h,platform:g,elements:b,middlewareData:_}=i,{element:$,padding:_e=0}=evaluate(s,i)||{};if($==null)return{};const et=getPaddingObject(_e),rt={x:o,y:a},st=getAlignmentAxis(c),lt=getAxisLength(st),dt=await g.getDimensions($),nt=st==="y",tt=nt?"top":"left",it=nt?"bottom":"right",at=nt?"clientHeight":"clientWidth",mt=h.reference[lt]+h.reference[st]-rt[st]-h.floating[lt],ot=rt[st]-h.reference[st],pt=await(g.getOffsetParent==null?void 0:g.getOffsetParent($));let ht=pt?pt[at]:0;(!ht||!await(g.isElement==null?void 0:g.isElement(pt)))&&(ht=b.floating[at]||h.floating[lt]);const gt=mt/2-ot/2,xt=ht/2-dt[lt]/2-1,Tt=min(et[tt],xt),wt=min(et[it],xt),kt=Tt,Yt=ht-dt[lt]-wt,fn=ht/2-dt[lt]/2+gt,an=clamp$1(kt,fn,Yt),dn=!_.arrow&&getAlignment(c)!=null&&fn!==an&&h.reference[lt]/2-(fn<kt?Tt:wt)-dt[lt]/2<0,on=dn?fn<kt?fn-kt:fn-Yt:0;return{[st]:rt[st]+on,data:{[st]:an,centerOffset:fn-an-on,...dn&&{alignmentOffset:on}},reset:dn}}}),flip$2=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(i){var o,a;const{placement:c,middlewareData:h,rects:g,initialPlacement:b,platform:_,elements:$}=i,{mainAxis:_e=!0,crossAxis:et=!0,fallbackPlacements:rt,fallbackStrategy:st="bestFit",fallbackAxisSideDirection:lt="none",flipAlignment:dt=!0,...nt}=evaluate(s,i);if((o=h.arrow)!=null&&o.alignmentOffset)return{};const tt=getSide(c),it=getSideAxis(b),at=getSide(b)===b,mt=await(_.isRTL==null?void 0:_.isRTL($.floating)),ot=rt||(at||!dt?[getOppositePlacement(b)]:getExpandedPlacements(b)),pt=lt!=="none";!rt&&pt&&ot.push(...getOppositeAxisPlacements(b,dt,lt,mt));const ht=[b,...ot],gt=await detectOverflow(i,nt),xt=[];let Tt=((a=h.flip)==null?void 0:a.overflows)||[];if(_e&&xt.push(gt[tt]),et){const fn=getAlignmentSides(c,g,mt);xt.push(gt[fn[0]],gt[fn[1]])}if(Tt=[...Tt,{placement:c,overflows:xt}],!xt.every(fn=>fn<=0)){var wt,kt;const fn=(((wt=h.flip)==null?void 0:wt.index)||0)+1,an=ht[fn];if(an)return{data:{index:fn,overflows:Tt},reset:{placement:an}};let dn=(kt=Tt.filter(on=>on.overflows[0]<=0).sort((on,Jt)=>on.overflows[1]-Jt.overflows[1])[0])==null?void 0:kt.placement;if(!dn)switch(st){case"bestFit":{var Yt;const on=(Yt=Tt.filter(Jt=>{if(pt){const Rt=getSideAxis(Jt.placement);return Rt===it||Rt==="y"}return!0}).map(Jt=>[Jt.placement,Jt.overflows.filter(Rt=>Rt>0).reduce((Rt,zt)=>Rt+zt,0)]).sort((Jt,Rt)=>Jt[1]-Rt[1])[0])==null?void 0:Yt[0];on&&(dn=on);break}case"initialPlacement":dn=b;break}if(c!==dn)return{reset:{placement:dn}}}return{}}}};function getSideOffsets(s,i){return{top:s.top-i.height,right:s.right-i.width,bottom:s.bottom-i.height,left:s.left-i.width}}function isAnySideFullyClipped(s){return sides.some(i=>s[i]>=0)}const hide$2=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(i){const{rects:o}=i,{strategy:a="referenceHidden",...c}=evaluate(s,i);switch(a){case"referenceHidden":{const h=await detectOverflow(i,{...c,elementContext:"reference"}),g=getSideOffsets(h,o.reference);return{data:{referenceHiddenOffsets:g,referenceHidden:isAnySideFullyClipped(g)}}}case"escaped":{const h=await detectOverflow(i,{...c,altBoundary:!0}),g=getSideOffsets(h,o.floating);return{data:{escapedOffsets:g,escaped:isAnySideFullyClipped(g)}}}default:return{}}}}};async function convertValueToCoords(s,i){const{placement:o,platform:a,elements:c}=s,h=await(a.isRTL==null?void 0:a.isRTL(c.floating)),g=getSide(o),b=getAlignment(o),_=getSideAxis(o)==="y",$=["left","top"].includes(g)?-1:1,_e=h&&_?-1:1,et=evaluate(i,s);let{mainAxis:rt,crossAxis:st,alignmentAxis:lt}=typeof et=="number"?{mainAxis:et,crossAxis:0,alignmentAxis:null}:{mainAxis:et.mainAxis||0,crossAxis:et.crossAxis||0,alignmentAxis:et.alignmentAxis};return b&&typeof lt=="number"&&(st=b==="end"?lt*-1:lt),_?{x:st*_e,y:rt*$}:{x:rt*$,y:st*_e}}const offset$2=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(i){var o,a;const{x:c,y:h,placement:g,middlewareData:b}=i,_=await convertValueToCoords(i,s);return g===((o=b.offset)==null?void 0:o.placement)&&(a=b.arrow)!=null&&a.alignmentOffset?{}:{x:c+_.x,y:h+_.y,data:{..._,placement:g}}}}},shift$2=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(i){const{x:o,y:a,placement:c}=i,{mainAxis:h=!0,crossAxis:g=!1,limiter:b={fn:nt=>{let{x:tt,y:it}=nt;return{x:tt,y:it}}},..._}=evaluate(s,i),$={x:o,y:a},_e=await detectOverflow(i,_),et=getSideAxis(getSide(c)),rt=getOppositeAxis(et);let st=$[rt],lt=$[et];if(h){const nt=rt==="y"?"top":"left",tt=rt==="y"?"bottom":"right",it=st+_e[nt],at=st-_e[tt];st=clamp$1(it,st,at)}if(g){const nt=et==="y"?"top":"left",tt=et==="y"?"bottom":"right",it=lt+_e[nt],at=lt-_e[tt];lt=clamp$1(it,lt,at)}const dt=b.fn({...i,[rt]:st,[et]:lt});return{...dt,data:{x:dt.x-o,y:dt.y-a,enabled:{[rt]:h,[et]:g}}}}}},limitShift$2=function(s){return s===void 0&&(s={}),{options:s,fn(i){const{x:o,y:a,placement:c,rects:h,middlewareData:g}=i,{offset:b=0,mainAxis:_=!0,crossAxis:$=!0}=evaluate(s,i),_e={x:o,y:a},et=getSideAxis(c),rt=getOppositeAxis(et);let st=_e[rt],lt=_e[et];const dt=evaluate(b,i),nt=typeof dt=="number"?{mainAxis:dt,crossAxis:0}:{mainAxis:0,crossAxis:0,...dt};if(_){const at=rt==="y"?"height":"width",mt=h.reference[rt]-h.floating[at]+nt.mainAxis,ot=h.reference[rt]+h.reference[at]-nt.mainAxis;st<mt?st=mt:st>ot&&(st=ot)}if($){var tt,it;const at=rt==="y"?"width":"height",mt=["top","left"].includes(getSide(c)),ot=h.reference[et]-h.floating[at]+(mt&&((tt=g.offset)==null?void 0:tt[et])||0)+(mt?0:nt.crossAxis),pt=h.reference[et]+h.reference[at]+(mt?0:((it=g.offset)==null?void 0:it[et])||0)-(mt?nt.crossAxis:0);lt<ot?lt=ot:lt>pt&&(lt=pt)}return{[rt]:st,[et]:lt}}}},size$2=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(i){var o,a;const{placement:c,rects:h,platform:g,elements:b}=i,{apply:_=()=>{},...$}=evaluate(s,i),_e=await detectOverflow(i,$),et=getSide(c),rt=getAlignment(c),st=getSideAxis(c)==="y",{width:lt,height:dt}=h.floating;let nt,tt;et==="top"||et==="bottom"?(nt=et,tt=rt===(await(g.isRTL==null?void 0:g.isRTL(b.floating))?"start":"end")?"left":"right"):(tt=et,nt=rt==="end"?"top":"bottom");const it=dt-_e.top-_e.bottom,at=lt-_e.left-_e.right,mt=min(dt-_e[nt],it),ot=min(lt-_e[tt],at),pt=!i.middlewareData.shift;let ht=mt,gt=ot;if((o=i.middlewareData.shift)!=null&&o.enabled.x&&(gt=at),(a=i.middlewareData.shift)!=null&&a.enabled.y&&(ht=it),pt&&!rt){const Tt=max(_e.left,0),wt=max(_e.right,0),kt=max(_e.top,0),Yt=max(_e.bottom,0);st?gt=lt-2*(Tt!==0||wt!==0?Tt+wt:max(_e.left,_e.right)):ht=dt-2*(kt!==0||Yt!==0?kt+Yt:max(_e.top,_e.bottom))}await _({...i,availableWidth:gt,availableHeight:ht});const xt=await g.getDimensions(b.floating);return lt!==xt.width||dt!==xt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(s){return isNode(s)?(s.nodeName||"").toLowerCase():"#document"}function getWindow(s){var i;return(s==null||(i=s.ownerDocument)==null?void 0:i.defaultView)||window}function getDocumentElement(s){var i;return(i=(isNode(s)?s.ownerDocument:s.document)||window.document)==null?void 0:i.documentElement}function isNode(s){return hasWindow()?s instanceof Node||s instanceof getWindow(s).Node:!1}function isElement$1(s){return hasWindow()?s instanceof Element||s instanceof getWindow(s).Element:!1}function isHTMLElement(s){return hasWindow()?s instanceof HTMLElement||s instanceof getWindow(s).HTMLElement:!1}function isShadowRoot(s){return!hasWindow()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof getWindow(s).ShadowRoot}function isOverflowElement(s){const{overflow:i,overflowX:o,overflowY:a,display:c}=getComputedStyle$1(s);return/auto|scroll|overlay|hidden|clip/.test(i+a+o)&&!["inline","contents"].includes(c)}function isTableElement(s){return["table","td","th"].includes(getNodeName(s))}function isTopLayer(s){return[":popover-open",":modal"].some(i=>{try{return s.matches(i)}catch{return!1}})}function isContainingBlock(s){const i=isWebKit(),o=isElement$1(s)?getComputedStyle$1(s):s;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!i&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!i&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(o.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(o.contain||"").includes(a))}function getContainingBlock(s){let i=getParentNode(s);for(;isHTMLElement(i)&&!isLastTraversableNode(i);){if(isContainingBlock(i))return i;if(isTopLayer(i))return null;i=getParentNode(i)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(s){return["html","body","#document"].includes(getNodeName(s))}function getComputedStyle$1(s){return getWindow(s).getComputedStyle(s)}function getNodeScroll(s){return isElement$1(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function getParentNode(s){if(getNodeName(s)==="html")return s;const i=s.assignedSlot||s.parentNode||isShadowRoot(s)&&s.host||getDocumentElement(s);return isShadowRoot(i)?i.host:i}function getNearestOverflowAncestor(s){const i=getParentNode(s);return isLastTraversableNode(i)?s.ownerDocument?s.ownerDocument.body:s.body:isHTMLElement(i)&&isOverflowElement(i)?i:getNearestOverflowAncestor(i)}function getOverflowAncestors(s,i,o){var a;i===void 0&&(i=[]),o===void 0&&(o=!0);const c=getNearestOverflowAncestor(s),h=c===((a=s.ownerDocument)==null?void 0:a.body),g=getWindow(c);if(h){const b=getFrameElement(g);return i.concat(g,g.visualViewport||[],isOverflowElement(c)?c:[],b&&o?getOverflowAncestors(b):[])}return i.concat(c,getOverflowAncestors(c,[],o))}function getFrameElement(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function getCssDimensions(s){const i=getComputedStyle$1(s);let o=parseFloat(i.width)||0,a=parseFloat(i.height)||0;const c=isHTMLElement(s),h=c?s.offsetWidth:o,g=c?s.offsetHeight:a,b=round(o)!==h||round(a)!==g;return b&&(o=h,a=g),{width:o,height:a,$:b}}function unwrapElement(s){return isElement$1(s)?s:s.contextElement}function getScale(s){const i=unwrapElement(s);if(!isHTMLElement(i))return createCoords(1);const o=i.getBoundingClientRect(),{width:a,height:c,$:h}=getCssDimensions(i);let g=(h?round(o.width):o.width)/a,b=(h?round(o.height):o.height)/c;return(!g||!Number.isFinite(g))&&(g=1),(!b||!Number.isFinite(b))&&(b=1),{x:g,y:b}}const noOffsets=createCoords(0);function getVisualOffsets(s){const i=getWindow(s);return!isWebKit()||!i.visualViewport?noOffsets:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function shouldAddVisualOffsets(s,i,o){return i===void 0&&(i=!1),!o||i&&o!==getWindow(s)?!1:i}function getBoundingClientRect(s,i,o,a){i===void 0&&(i=!1),o===void 0&&(o=!1);const c=s.getBoundingClientRect(),h=unwrapElement(s);let g=createCoords(1);i&&(a?isElement$1(a)&&(g=getScale(a)):g=getScale(s));const b=shouldAddVisualOffsets(h,o,a)?getVisualOffsets(h):createCoords(0);let _=(c.left+b.x)/g.x,$=(c.top+b.y)/g.y,_e=c.width/g.x,et=c.height/g.y;if(h){const rt=getWindow(h),st=a&&isElement$1(a)?getWindow(a):a;let lt=rt,dt=getFrameElement(lt);for(;dt&&a&&st!==lt;){const nt=getScale(dt),tt=dt.getBoundingClientRect(),it=getComputedStyle$1(dt),at=tt.left+(dt.clientLeft+parseFloat(it.paddingLeft))*nt.x,mt=tt.top+(dt.clientTop+parseFloat(it.paddingTop))*nt.y;_*=nt.x,$*=nt.y,_e*=nt.x,et*=nt.y,_+=at,$+=mt,lt=getWindow(dt),dt=getFrameElement(lt)}}return rectToClientRect({width:_e,height:et,x:_,y:$})}function convertOffsetParentRelativeRectToViewportRelativeRect(s){let{elements:i,rect:o,offsetParent:a,strategy:c}=s;const h=c==="fixed",g=getDocumentElement(a),b=i?isTopLayer(i.floating):!1;if(a===g||b&&h)return o;let _={scrollLeft:0,scrollTop:0},$=createCoords(1);const _e=createCoords(0),et=isHTMLElement(a);if((et||!et&&!h)&&((getNodeName(a)!=="body"||isOverflowElement(g))&&(_=getNodeScroll(a)),isHTMLElement(a))){const rt=getBoundingClientRect(a);$=getScale(a),_e.x=rt.x+a.clientLeft,_e.y=rt.y+a.clientTop}return{width:o.width*$.x,height:o.height*$.y,x:o.x*$.x-_.scrollLeft*$.x+_e.x,y:o.y*$.y-_.scrollTop*$.y+_e.y}}function getClientRects(s){return Array.from(s.getClientRects())}function getWindowScrollBarX(s,i){const o=getNodeScroll(s).scrollLeft;return i?i.left+o:getBoundingClientRect(getDocumentElement(s)).left+o}function getDocumentRect(s){const i=getDocumentElement(s),o=getNodeScroll(s),a=s.ownerDocument.body,c=max(i.scrollWidth,i.clientWidth,a.scrollWidth,a.clientWidth),h=max(i.scrollHeight,i.clientHeight,a.scrollHeight,a.clientHeight);let g=-o.scrollLeft+getWindowScrollBarX(s);const b=-o.scrollTop;return getComputedStyle$1(a).direction==="rtl"&&(g+=max(i.clientWidth,a.clientWidth)-c),{width:c,height:h,x:g,y:b}}function getViewportRect(s,i){const o=getWindow(s),a=getDocumentElement(s),c=o.visualViewport;let h=a.clientWidth,g=a.clientHeight,b=0,_=0;if(c){h=c.width,g=c.height;const $=isWebKit();(!$||$&&i==="fixed")&&(b=c.offsetLeft,_=c.offsetTop)}return{width:h,height:g,x:b,y:_}}function getInnerBoundingClientRect(s,i){const o=getBoundingClientRect(s,!0,i==="fixed"),a=o.top+s.clientTop,c=o.left+s.clientLeft,h=isHTMLElement(s)?getScale(s):createCoords(1),g=s.clientWidth*h.x,b=s.clientHeight*h.y,_=c*h.x,$=a*h.y;return{width:g,height:b,x:_,y:$}}function getClientRectFromClippingAncestor(s,i,o){let a;if(i==="viewport")a=getViewportRect(s,o);else if(i==="document")a=getDocumentRect(getDocumentElement(s));else if(isElement$1(i))a=getInnerBoundingClientRect(i,o);else{const c=getVisualOffsets(s);a={...i,x:i.x-c.x,y:i.y-c.y}}return rectToClientRect(a)}function hasFixedPositionAncestor(s,i){const o=getParentNode(s);return o===i||!isElement$1(o)||isLastTraversableNode(o)?!1:getComputedStyle$1(o).position==="fixed"||hasFixedPositionAncestor(o,i)}function getClippingElementAncestors(s,i){const o=i.get(s);if(o)return o;let a=getOverflowAncestors(s,[],!1).filter(b=>isElement$1(b)&&getNodeName(b)!=="body"),c=null;const h=getComputedStyle$1(s).position==="fixed";let g=h?getParentNode(s):s;for(;isElement$1(g)&&!isLastTraversableNode(g);){const b=getComputedStyle$1(g),_=isContainingBlock(g);!_&&b.position==="fixed"&&(c=null),(h?!_&&!c:!_&&b.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||isOverflowElement(g)&&!_&&hasFixedPositionAncestor(s,g))?a=a.filter(_e=>_e!==g):c=b,g=getParentNode(g)}return i.set(s,a),a}function getClippingRect(s){let{element:i,boundary:o,rootBoundary:a,strategy:c}=s;const g=[...o==="clippingAncestors"?isTopLayer(i)?[]:getClippingElementAncestors(i,this._c):[].concat(o),a],b=g[0],_=g.reduce(($,_e)=>{const et=getClientRectFromClippingAncestor(i,_e,c);return $.top=max(et.top,$.top),$.right=min(et.right,$.right),$.bottom=min(et.bottom,$.bottom),$.left=max(et.left,$.left),$},getClientRectFromClippingAncestor(i,b,c));return{width:_.right-_.left,height:_.bottom-_.top,x:_.left,y:_.top}}function getDimensions(s){const{width:i,height:o}=getCssDimensions(s);return{width:i,height:o}}function getRectRelativeToOffsetParent(s,i,o){const a=isHTMLElement(i),c=getDocumentElement(i),h=o==="fixed",g=getBoundingClientRect(s,!0,h,i);let b={scrollLeft:0,scrollTop:0};const _=createCoords(0);if(a||!a&&!h)if((getNodeName(i)!=="body"||isOverflowElement(c))&&(b=getNodeScroll(i)),a){const st=getBoundingClientRect(i,!0,h,i);_.x=st.x+i.clientLeft,_.y=st.y+i.clientTop}else c&&(_.x=getWindowScrollBarX(c));let $=0,_e=0;if(c&&!a&&!h){const st=c.getBoundingClientRect();_e=st.top+b.scrollTop,$=st.left+b.scrollLeft-getWindowScrollBarX(c,st)}const et=g.left+b.scrollLeft-_.x-$,rt=g.top+b.scrollTop-_.y-_e;return{x:et,y:rt,width:g.width,height:g.height}}function isStaticPositioned(s){return getComputedStyle$1(s).position==="static"}function getTrueOffsetParent(s,i){if(!isHTMLElement(s)||getComputedStyle$1(s).position==="fixed")return null;if(i)return i(s);let o=s.offsetParent;return getDocumentElement(s)===o&&(o=o.ownerDocument.body),o}function getOffsetParent(s,i){const o=getWindow(s);if(isTopLayer(s))return o;if(!isHTMLElement(s)){let c=getParentNode(s);for(;c&&!isLastTraversableNode(c);){if(isElement$1(c)&&!isStaticPositioned(c))return c;c=getParentNode(c)}return o}let a=getTrueOffsetParent(s,i);for(;a&&isTableElement(a)&&isStaticPositioned(a);)a=getTrueOffsetParent(a,i);return a&&isLastTraversableNode(a)&&isStaticPositioned(a)&&!isContainingBlock(a)?o:a||getContainingBlock(s)||o}const getElementRects=async function(s){const i=this.getOffsetParent||getOffsetParent,o=this.getDimensions,a=await o(s.floating);return{reference:getRectRelativeToOffsetParent(s.reference,await i(s.floating),s.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function isRTL(s){return getComputedStyle$1(s).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(s,i){let o=null,a;const c=getDocumentElement(s);function h(){var b;clearTimeout(a),(b=o)==null||b.disconnect(),o=null}function g(b,_){b===void 0&&(b=!1),_===void 0&&(_=1),h();const{left:$,top:_e,width:et,height:rt}=s.getBoundingClientRect();if(b||i(),!et||!rt)return;const st=floor(_e),lt=floor(c.clientWidth-($+et)),dt=floor(c.clientHeight-(_e+rt)),nt=floor($),it={rootMargin:-st+"px "+-lt+"px "+-dt+"px "+-nt+"px",threshold:max(0,min(1,_))||1};let at=!0;function mt(ot){const pt=ot[0].intersectionRatio;if(pt!==_){if(!at)return g();pt?g(!1,pt):a=setTimeout(()=>{g(!1,1e-7)},1e3)}at=!1}try{o=new IntersectionObserver(mt,{...it,root:c.ownerDocument})}catch{o=new IntersectionObserver(mt,it)}o.observe(s)}return g(!0),h}function autoUpdate(s,i,o,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:h=!0,elementResize:g=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:_=!1}=a,$=unwrapElement(s),_e=c||h?[...$?getOverflowAncestors($):[],...getOverflowAncestors(i)]:[];_e.forEach(tt=>{c&&tt.addEventListener("scroll",o,{passive:!0}),h&&tt.addEventListener("resize",o)});const et=$&&b?observeMove($,o):null;let rt=-1,st=null;g&&(st=new ResizeObserver(tt=>{let[it]=tt;it&&it.target===$&&st&&(st.unobserve(i),cancelAnimationFrame(rt),rt=requestAnimationFrame(()=>{var at;(at=st)==null||at.observe(i)})),o()}),$&&!_&&st.observe($),st.observe(i));let lt,dt=_?getBoundingClientRect(s):null;_&&nt();function nt(){const tt=getBoundingClientRect(s);dt&&(tt.x!==dt.x||tt.y!==dt.y||tt.width!==dt.width||tt.height!==dt.height)&&o(),dt=tt,lt=requestAnimationFrame(nt)}return o(),()=>{var tt;_e.forEach(it=>{c&&it.removeEventListener("scroll",o),h&&it.removeEventListener("resize",o)}),et==null||et(),(tt=st)==null||tt.disconnect(),st=null,_&&cancelAnimationFrame(lt)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(s,i,o)=>{const a=new Map,c={platform,...o},h={...c.platform,_c:a};return computePosition$1(s,i,{...c,platform:h})};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(s,i){if(s===i)return!0;if(typeof s!=typeof i)return!1;if(typeof s=="function"&&s.toString()===i.toString())return!0;let o,a,c;if(s&&i&&typeof s=="object"){if(Array.isArray(s)){if(o=s.length,o!==i.length)return!1;for(a=o;a--!==0;)if(!deepEqual(s[a],i[a]))return!1;return!0}if(c=Object.keys(s),o=c.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!{}.hasOwnProperty.call(i,c[a]))return!1;for(a=o;a--!==0;){const h=c[a];if(!(h==="_owner"&&s.$$typeof)&&!deepEqual(s[h],i[h]))return!1}return!0}return s!==s&&i!==i}function getDPR(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(s,i){const o=getDPR(s);return Math.round(i*o)/o}function useLatestRef(s){const i=reactExports.useRef(s);return index(()=>{i.current=s}),i}function useFloating(s){s===void 0&&(s={});const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c,elements:{reference:h,floating:g}={},transform:b=!0,whileElementsMounted:_,open:$}=s,[_e,et]=reactExports.useState({x:0,y:0,strategy:o,placement:i,middlewareData:{},isPositioned:!1}),[rt,st]=reactExports.useState(a);deepEqual(rt,a)||st(a);const[lt,dt]=reactExports.useState(null),[nt,tt]=reactExports.useState(null),it=reactExports.useCallback(Jt=>{Jt!==pt.current&&(pt.current=Jt,dt(Jt))},[]),at=reactExports.useCallback(Jt=>{Jt!==ht.current&&(ht.current=Jt,tt(Jt))},[]),mt=h||lt,ot=g||nt,pt=reactExports.useRef(null),ht=reactExports.useRef(null),gt=reactExports.useRef(_e),xt=_!=null,Tt=useLatestRef(_),wt=useLatestRef(c),kt=useLatestRef($),Yt=reactExports.useCallback(()=>{if(!pt.current||!ht.current)return;const Jt={placement:i,strategy:o,middleware:rt};wt.current&&(Jt.platform=wt.current),computePosition(pt.current,ht.current,Jt).then(Rt=>{const zt={...Rt,isPositioned:kt.current!==!1};fn.current&&!deepEqual(gt.current,zt)&&(gt.current=zt,reactDomExports.flushSync(()=>{et(zt)}))})},[rt,i,o,wt,kt]);index(()=>{$===!1&&gt.current.isPositioned&&(gt.current.isPositioned=!1,et(Jt=>({...Jt,isPositioned:!1})))},[$]);const fn=reactExports.useRef(!1);index(()=>(fn.current=!0,()=>{fn.current=!1}),[]),index(()=>{if(mt&&(pt.current=mt),ot&&(ht.current=ot),mt&&ot){if(Tt.current)return Tt.current(mt,ot,Yt);Yt()}},[mt,ot,Yt,Tt,xt]);const an=reactExports.useMemo(()=>({reference:pt,floating:ht,setReference:it,setFloating:at}),[it,at]),dn=reactExports.useMemo(()=>({reference:mt,floating:ot}),[mt,ot]),on=reactExports.useMemo(()=>{const Jt={position:o,left:0,top:0};if(!dn.floating)return Jt;const Rt=roundByDPR(dn.floating,_e.x),zt=roundByDPR(dn.floating,_e.y);return b?{...Jt,transform:"translate("+Rt+"px, "+zt+"px)",...getDPR(dn.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:Rt,top:zt}},[o,b,dn.floating,_e.x,_e.y]);return reactExports.useMemo(()=>({..._e,update:Yt,refs:an,elements:dn,floatingStyles:on}),[_e,Yt,an,dn,on])}const arrow$1=s=>{function i(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:s,fn(o){const{element:a,padding:c}=typeof s=="function"?s(o):s;return a&&i(a)?a.current!=null?arrow$2({element:a.current,padding:c}).fn(o):{}:a?arrow$2({element:a,padding:c}).fn(o):{}}}},offset=(s,i)=>({...offset$1(s),options:[s,i]}),shift=(s,i)=>({...shift$1(s),options:[s,i]}),limitShift=(s,i)=>({...limitShift$1(s),options:[s,i]}),flip=(s,i)=>({...flip$1(s),options:[s,i]}),size=(s,i)=>({...size$1(s),options:[s,i]}),hide=(s,i)=>({...hide$1(s),options:[s,i]}),arrow=(s,i)=>({...arrow$1(s),options:[s,i]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((s,i)=>{const{children:o,width:a=10,height:c=5,...h}=s;return jsxRuntimeExports.jsx(Primitive.svg,{...h,ref:i,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?o:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$2=Arrow$1;function createContextScope(s,i=[]){let o=[];function a(h,g){const b=reactExports.createContext(g),_=o.length;o=[...o,g];function $(et){const{scope:rt,children:st,...lt}=et,dt=(rt==null?void 0:rt[s][_])||b,nt=reactExports.useMemo(()=>lt,Object.values(lt));return jsxRuntimeExports.jsx(dt.Provider,{value:nt,children:st})}function _e(et,rt){const st=(rt==null?void 0:rt[s][_])||b,lt=reactExports.useContext(st);if(lt)return lt;if(g!==void 0)return g;throw new Error(`\`${et}\` must be used within \`${h}\``)}return $.displayName=h+"Provider",[$,_e]}const c=()=>{const h=o.map(g=>reactExports.createContext(g));return function(b){const _=(b==null?void 0:b[s])||h;return reactExports.useMemo(()=>({[`__scope${s}`]:{...b,[s]:_}}),[b,_])}};return c.scopeName=s,[a,composeContextScopes(c,...i)]}function composeContextScopes(...s){const i=s[0];if(s.length===1)return i;const o=()=>{const a=s.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(h){const g=a.reduce((b,{useScope:_,scopeName:$})=>{const et=_(h)[`__scope${$}`];return{...b,...et}},{});return reactExports.useMemo(()=>({[`__scope${i.scopeName}`]:g}),[g])}};return o.scopeName=i.scopeName,o}function useSize(s){const[i,o]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(s){o({width:s.offsetWidth,height:s.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const h=c[0];let g,b;if("borderBoxSize"in h){const _=h.borderBoxSize,$=Array.isArray(_)?_[0]:_;g=$.inlineSize,b=$.blockSize}else g=s.offsetWidth,b=s.offsetHeight;o({width:g,height:b})});return a.observe(s,{box:"border-box"}),()=>a.unobserve(s)}else o(void 0)},[s]),i}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((s,i)=>{const{__scopePopper:o,virtualRef:a,...c}=s,h=usePopperContext(ANCHOR_NAME,o),g=reactExports.useRef(null),b=useComposedRefs(i,g);return reactExports.useEffect(()=>{h.onAnchorChange((a==null?void 0:a.current)||g.current)}),a?null:jsxRuntimeExports.jsx(Primitive.div,{...c,ref:b})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$1="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$1),PopperContent=reactExports.forwardRef((s,i)=>{var sn,rn,vn,_n,In,Fn;const{__scopePopper:o,side:a="bottom",sideOffset:c=0,align:h="center",alignOffset:g=0,arrowPadding:b=0,avoidCollisions:_=!0,collisionBoundary:$=[],collisionPadding:_e=0,sticky:et="partial",hideWhenDetached:rt=!1,updatePositionStrategy:st="optimized",onPlaced:lt,...dt}=s,nt=usePopperContext(CONTENT_NAME$1,o),[tt,it]=reactExports.useState(null),at=useComposedRefs(i,$n=>it($n)),[mt,ot]=reactExports.useState(null),pt=useSize(mt),ht=(pt==null?void 0:pt.width)??0,gt=(pt==null?void 0:pt.height)??0,xt=a+(h!=="center"?"-"+h:""),Tt=typeof _e=="number"?_e:{top:0,right:0,bottom:0,left:0,..._e},wt=Array.isArray($)?$:[$],kt=wt.length>0,Yt={padding:Tt,boundary:wt.filter(isNotNull),altBoundary:kt},{refs:fn,floatingStyles:an,placement:dn,isPositioned:on,middlewareData:Jt}=useFloating({strategy:"fixed",placement:xt,whileElementsMounted:(...$n)=>autoUpdate(...$n,{animationFrame:st==="always"}),elements:{reference:nt.anchor},middleware:[offset({mainAxis:c+gt,alignmentAxis:g}),_&&shift({mainAxis:!0,crossAxis:!1,limiter:et==="partial"?limitShift():void 0,...Yt}),_&&flip({...Yt}),size({...Yt,apply:({elements:$n,rects:Un,availableWidth:Wn,availableHeight:Rn})=>{const{width:xn,height:tn}=Un.reference,hn=$n.floating.style;hn.setProperty("--radix-popper-available-width",`${Wn}px`),hn.setProperty("--radix-popper-available-height",`${Rn}px`),hn.setProperty("--radix-popper-anchor-width",`${xn}px`),hn.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),mt&&arrow({element:mt,padding:b}),transformOrigin({arrowWidth:ht,arrowHeight:gt}),rt&&hide({strategy:"referenceHidden",...Yt})]}),[Rt,zt]=getSideAndAlignFromPlacement(dn),nn=useCallbackRef(lt);useLayoutEffect2(()=>{on&&(nn==null||nn())},[on,nn]);const Nt=(sn=Jt.arrow)==null?void 0:sn.x,Et=(rn=Jt.arrow)==null?void 0:rn.y,St=((vn=Jt.arrow)==null?void 0:vn.centerOffset)!==0,[jt,en]=reactExports.useState();return useLayoutEffect2(()=>{tt&&en(window.getComputedStyle(tt).zIndex)},[tt]),jsxRuntimeExports.jsx("div",{ref:fn.setFloating,"data-radix-popper-content-wrapper":"",style:{...an,transform:on?an.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:jt,"--radix-popper-transform-origin":[(_n=Jt.transformOrigin)==null?void 0:_n.x,(In=Jt.transformOrigin)==null?void 0:In.y].join(" "),...((Fn=Jt.hide)==null?void 0:Fn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:o,placedSide:Rt,onArrowChange:ot,arrowX:Nt,arrowY:Et,shouldHideArrow:St,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Rt,"data-align":zt,...dt,ref:at,style:{...dt.style,animation:on?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$1;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(i,o){const{__scopePopper:a,...c}=i,h=useContentContext(ARROW_NAME$1,a),g=OPPOSITE_SIDE[h.placedSide];return jsxRuntimeExports.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[g]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$2,{...c,ref:o,style:{...c.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(s){return s!==null}var transformOrigin=s=>({name:"transformOrigin",options:s,fn(i){var nt,tt,it;const{placement:o,rects:a,middlewareData:c}=i,g=((nt=c.arrow)==null?void 0:nt.centerOffset)!==0,b=g?0:s.arrowWidth,_=g?0:s.arrowHeight,[$,_e]=getSideAndAlignFromPlacement(o),et={start:"0%",center:"50%",end:"100%"}[_e],rt=(((tt=c.arrow)==null?void 0:tt.x)??0)+b/2,st=(((it=c.arrow)==null?void 0:it.y)??0)+_/2;let lt="",dt="";return $==="bottom"?(lt=g?et:`${rt}px`,dt=`${-_}px`):$==="top"?(lt=g?et:`${rt}px`,dt=`${a.floating.height+_}px`):$==="right"?(lt=`${-_}px`,dt=g?et:`${st}px`):$==="left"&&(lt=`${a.floating.width+_}px`,dt=g?et:`${st}px`),{data:{x:lt,y:dt}}}});function getSideAndAlignFromPlacement(s){const[i,o="center"]=s.split("-");return[i,o]}var Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,[createTooltipContext,createTooltipScope]=createContextScope$1("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=s=>{const{__scopeTooltip:i,delayDuration:o=DEFAULT_DELAY_DURATION,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:h}=s,[g,b]=reactExports.useState(!0),_=reactExports.useRef(!1),$=reactExports.useRef(0);return reactExports.useEffect(()=>{const _e=$.current;return()=>window.clearTimeout(_e)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:i,isOpenDelayed:g,delayDuration:o,onOpen:reactExports.useCallback(()=>{window.clearTimeout($.current),b(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout($.current),$.current=window.setTimeout(()=>b(!0),a)},[a]),isPointerInTransitRef:_,onPointerInTransitChange:reactExports.useCallback(_e=>{_.current=_e},[]),disableHoverableContent:c,children:h})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((s,i)=>{const{__scopeTooltip:o,...a}=s,c=useTooltipContext(TRIGGER_NAME,o),h=useTooltipProviderContext(TRIGGER_NAME,o),g=usePopperScope(o),b=reactExports.useRef(null),_=useComposedRefs(i,b,c.onTriggerChange),$=reactExports.useRef(!1),_e=reactExports.useRef(!1),et=reactExports.useCallback(()=>$.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",et),[et]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...g,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:_,onPointerMove:composeEventHandlers(s.onPointerMove,rt=>{rt.pointerType!=="touch"&&!_e.current&&!h.isPointerInTransitRef.current&&(c.onTriggerEnter(),_e.current=!0)}),onPointerLeave:composeEventHandlers(s.onPointerLeave,()=>{c.onTriggerLeave(),_e.current=!1}),onPointerDown:composeEventHandlers(s.onPointerDown,()=>{$.current=!0,document.addEventListener("pointerup",et,{once:!0})}),onFocus:composeEventHandlers(s.onFocus,()=>{$.current||c.onOpen()}),onBlur:composeEventHandlers(s.onBlur,c.onClose),onClick:composeEventHandlers(s.onClick,c.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),CONTENT_NAME="TooltipContent",TooltipContent$1=reactExports.forwardRef((s,i)=>{const o=usePortalContext(CONTENT_NAME,s.__scopeTooltip),{forceMount:a=o.forceMount,side:c="top",...h}=s,g=useTooltipContext(CONTENT_NAME,s.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:a||g.open,children:g.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:c,...h,ref:i}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:c,...h,ref:i})})}),TooltipContentHoverable=reactExports.forwardRef((s,i)=>{const o=useTooltipContext(CONTENT_NAME,s.__scopeTooltip),a=useTooltipProviderContext(CONTENT_NAME,s.__scopeTooltip),c=reactExports.useRef(null),h=useComposedRefs(i,c),[g,b]=reactExports.useState(null),{trigger:_,onClose:$}=o,_e=c.current,{onPointerInTransitChange:et}=a,rt=reactExports.useCallback(()=>{b(null),et(!1)},[et]),st=reactExports.useCallback((lt,dt)=>{const nt=lt.currentTarget,tt={x:lt.clientX,y:lt.clientY},it=getExitSideFromRect(tt,nt.getBoundingClientRect()),at=getPaddedExitPoints(tt,it),mt=getPointsFromRect(dt.getBoundingClientRect()),ot=getHull([...at,...mt]);b(ot),et(!0)},[et]);return reactExports.useEffect(()=>()=>rt(),[rt]),reactExports.useEffect(()=>{if(_&&_e){const lt=nt=>st(nt,_e),dt=nt=>st(nt,_);return _.addEventListener("pointerleave",lt),_e.addEventListener("pointerleave",dt),()=>{_.removeEventListener("pointerleave",lt),_e.removeEventListener("pointerleave",dt)}}},[_,_e,st,rt]),reactExports.useEffect(()=>{if(g){const lt=dt=>{const nt=dt.target,tt={x:dt.clientX,y:dt.clientY},it=(_==null?void 0:_.contains(nt))||(_e==null?void 0:_e.contains(nt)),at=!isPointInPolygon(tt,g);it?rt():at&&(rt(),$())};return document.addEventListener("pointermove",lt),()=>document.removeEventListener("pointermove",lt)}},[_,_e,g,$,rt]),jsxRuntimeExports.jsx(TooltipContentImpl,{...s,ref:h})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((s,i)=>{const{__scopeTooltip:o,children:a,"aria-label":c,onEscapeKeyDown:h,onPointerDownOutside:g,...b}=s,_=useTooltipContext(CONTENT_NAME,o),$=usePopperScope(o),{onClose:_e}=_;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,_e),()=>document.removeEventListener(TOOLTIP_OPEN,_e)),[_e]),reactExports.useEffect(()=>{if(_.trigger){const et=rt=>{const st=rt.target;st!=null&&st.contains(_.trigger)&&_e()};return window.addEventListener("scroll",et,{capture:!0}),()=>window.removeEventListener("scroll",et,{capture:!0})}},[_.trigger,_e]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:et=>et.preventDefault(),onDismiss:_e,children:jsxRuntimeExports.jsxs(Content,{"data-state":_.stateAttribute,...$,...b,ref:i,style:{...b.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:a}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:o,isInside:!0,children:jsxRuntimeExports.jsx(Root$3,{id:_.contentId,role:"tooltip",children:c||a})})]})})});TooltipContent$1.displayName=CONTENT_NAME;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((s,i)=>{const{__scopeTooltip:o,...a}=s,c=usePopperScope(o);return useVisuallyHiddenContentContext(ARROW_NAME,o).isInside?null:jsxRuntimeExports.jsx(Arrow,{...c,...a,ref:i})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(s,i){const o=Math.abs(i.top-s.y),a=Math.abs(i.bottom-s.y),c=Math.abs(i.right-s.x),h=Math.abs(i.left-s.x);switch(Math.min(o,a,c,h)){case h:return"left";case c:return"right";case o:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(s,i,o=5){const a=[];switch(i){case"top":a.push({x:s.x-o,y:s.y+o},{x:s.x+o,y:s.y+o});break;case"bottom":a.push({x:s.x-o,y:s.y-o},{x:s.x+o,y:s.y-o});break;case"left":a.push({x:s.x+o,y:s.y-o},{x:s.x+o,y:s.y+o});break;case"right":a.push({x:s.x-o,y:s.y-o},{x:s.x-o,y:s.y+o});break}return a}function getPointsFromRect(s){const{top:i,right:o,bottom:a,left:c}=s;return[{x:c,y:i},{x:o,y:i},{x:o,y:a},{x:c,y:a}]}function isPointInPolygon(s,i){const{x:o,y:a}=s;let c=!1;for(let h=0,g=i.length-1;h<i.length;g=h++){const b=i[h].x,_=i[h].y,$=i[g].x,_e=i[g].y;_>a!=_e>a&&o<($-b)*(a-_)/(_e-_)+b&&(c=!c)}return c}function getHull(s){const i=s.slice();return i.sort((o,a)=>o.x<a.x?-1:o.x>a.x?1:o.y<a.y?-1:o.y>a.y?1:0),getHullPresorted(i)}function getHullPresorted(s){if(s.length<=1)return s.slice();const i=[];for(let a=0;a<s.length;a++){const c=s[a];for(;i.length>=2;){const h=i[i.length-1],g=i[i.length-2];if((h.x-g.x)*(c.y-g.y)>=(h.y-g.y)*(c.x-g.x))i.pop();else break}i.push(c)}i.pop();const o=[];for(let a=s.length-1;a>=0;a--){const c=s[a];for(;o.length>=2;){const h=o[o.length-1],g=o[o.length-2];if((h.x-g.x)*(c.y-g.y)>=(h.y-g.y)*(c.x-g.x))o.pop();else break}o.push(c)}return o.pop(),i.length===1&&o.length===1&&i[0].x===o[0].x&&i[0].y===o[0].y?i:i.concat(o)}var Provider=TooltipProvider$1,Content2=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:s,sideOffset:i=4,...o},a)=>jsxRuntimeExports.jsx(Content2,{ref:a,sideOffset:i,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o}));TooltipContent.displayName=Content2.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(s,i){return typeof s=="function"?s(i):s}function isValidTimeout(s){return typeof s=="number"&&s>=0&&s!==1/0}function timeUntilStale(s,i){return Math.max(s+(i||0)-Date.now(),0)}function resolveStaleTime(s,i){return typeof s=="function"?s(i):s}function resolveEnabled(s,i){return typeof s=="function"?s(i):s}function matchQuery(s,i){const{type:o="all",exact:a,fetchStatus:c,predicate:h,queryKey:g,stale:b}=s;if(g){if(a){if(i.queryHash!==hashQueryKeyByOptions(g,i.options))return!1}else if(!partialMatchKey(i.queryKey,g))return!1}if(o!=="all"){const _=i.isActive();if(o==="active"&&!_||o==="inactive"&&_)return!1}return!(typeof b=="boolean"&&i.isStale()!==b||c&&c!==i.state.fetchStatus||h&&!h(i))}function matchMutation(s,i){const{exact:o,status:a,predicate:c,mutationKey:h}=s;if(h){if(!i.options.mutationKey)return!1;if(o){if(hashKey(i.options.mutationKey)!==hashKey(h))return!1}else if(!partialMatchKey(i.options.mutationKey,h))return!1}return!(a&&i.state.status!==a||c&&!c(i))}function hashQueryKeyByOptions(s,i){return((i==null?void 0:i.queryKeyHashFn)||hashKey)(s)}function hashKey(s){return JSON.stringify(s,(i,o)=>isPlainObject(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):o)}function partialMatchKey(s,i){return s===i?!0:typeof s!=typeof i?!1:s&&i&&typeof s=="object"&&typeof i=="object"?!Object.keys(i).some(o=>!partialMatchKey(s[o],i[o])):!1}function replaceEqualDeep(s,i){if(s===i)return s;const o=isPlainArray(s)&&isPlainArray(i);if(o||isPlainObject(s)&&isPlainObject(i)){const a=o?s:Object.keys(s),c=a.length,h=o?i:Object.keys(i),g=h.length,b=o?[]:{};let _=0;for(let $=0;$<g;$++){const _e=o?$:h[$];(!o&&a.includes(_e)||o)&&s[_e]===void 0&&i[_e]===void 0?(b[_e]=void 0,_++):(b[_e]=replaceEqualDeep(s[_e],i[_e]),b[_e]===s[_e]&&s[_e]!==void 0&&_++)}return c===g&&_===c?s:b}return i}function isPlainArray(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function isPlainObject(s){if(!hasObjectPrototype(s))return!1;const i=s.constructor;if(i===void 0)return!0;const o=i.prototype;return!(!hasObjectPrototype(o)||!o.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function hasObjectPrototype(s){return Object.prototype.toString.call(s)==="[object Object]"}function sleep(s){return new Promise(i=>{setTimeout(i,s)})}function replaceData(s,i,o){return typeof o.structuralSharing=="function"?o.structuralSharing(s,i):o.structuralSharing!==!1?replaceEqualDeep(s,i):i}function addToEnd(s,i,o=0){const a=[...s,i];return o&&a.length>o?a.slice(1):a}function addToStart(s,i,o=0){const a=[i,...s];return o&&a.length>o?a.slice(0,-1):a}var skipToken=Symbol();function ensureQueryFn(s,i){return!s.queryFn&&(i!=null&&i.initialPromise)?()=>i.initialPromise:!s.queryFn||s.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Zr,Hr,as,Do,FocusManager=(Do=class extends Subscribable{constructor(){super();Cn(this,Zr);Cn(this,Hr);Cn(this,as);wn(this,as,i=>{if(!isServer&&window.addEventListener){const o=()=>i();return window.addEventListener("visibilitychange",o,!1),()=>{window.removeEventListener("visibilitychange",o)}}})}onSubscribe(){vt(this,Hr)||this.setEventListener(vt(this,as))}onUnsubscribe(){var i;this.hasListeners()||((i=vt(this,Hr))==null||i.call(this),wn(this,Hr,void 0))}setEventListener(i){var o;wn(this,as,i),(o=vt(this,Hr))==null||o.call(this),wn(this,Hr,i(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(i){vt(this,Zr)!==i&&(wn(this,Zr,i),this.onFocus())}onFocus(){const i=this.isFocused();this.listeners.forEach(o=>{o(i)})}isFocused(){var i;return typeof vt(this,Zr)=="boolean"?vt(this,Zr):((i=globalThis.document)==null?void 0:i.visibilityState)!=="hidden"}},Zr=new WeakMap,Hr=new WeakMap,as=new WeakMap,Do),focusManager=new FocusManager,ls,Gr,cs,Lo,OnlineManager=(Lo=class extends Subscribable{constructor(){super();Cn(this,ls,!0);Cn(this,Gr);Cn(this,cs);wn(this,cs,i=>{if(!isServer&&window.addEventListener){const o=()=>i(!0),a=()=>i(!1);return window.addEventListener("online",o,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",a)}}})}onSubscribe(){vt(this,Gr)||this.setEventListener(vt(this,cs))}onUnsubscribe(){var i;this.hasListeners()||((i=vt(this,Gr))==null||i.call(this),wn(this,Gr,void 0))}setEventListener(i){var o;wn(this,cs,i),(o=vt(this,Gr))==null||o.call(this),wn(this,Gr,i(this.setOnline.bind(this)))}setOnline(i){vt(this,ls)!==i&&(wn(this,ls,i),this.listeners.forEach(a=>{a(i)}))}isOnline(){return vt(this,ls)}},ls=new WeakMap,Gr=new WeakMap,cs=new WeakMap,Lo),onlineManager=new OnlineManager;function pendingThenable(){let s,i;const o=new Promise((c,h)=>{s=c,i=h});o.status="pending",o.catch(()=>{});function a(c){Object.assign(o,c),delete o.resolve,delete o.reject}return o.resolve=c=>{a({status:"fulfilled",value:c}),s(c)},o.reject=c=>{a({status:"rejected",reason:c}),i(c)},o}function defaultRetryDelay(s){return Math.min(1e3*2**s,3e4)}function canFetch(s){return(s??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function isCancelledError(s){return s instanceof CancelledError}function createRetryer(s){let i=!1,o=0,a=!1,c;const h=pendingThenable(),g=dt=>{var nt;a||(rt(new CancelledError(dt)),(nt=s.abort)==null||nt.call(s))},b=()=>{i=!0},_=()=>{i=!1},$=()=>focusManager.isFocused()&&(s.networkMode==="always"||onlineManager.isOnline())&&s.canRun(),_e=()=>canFetch(s.networkMode)&&s.canRun(),et=dt=>{var nt;a||(a=!0,(nt=s.onSuccess)==null||nt.call(s,dt),c==null||c(),h.resolve(dt))},rt=dt=>{var nt;a||(a=!0,(nt=s.onError)==null||nt.call(s,dt),c==null||c(),h.reject(dt))},st=()=>new Promise(dt=>{var nt;c=tt=>{(a||$())&&dt(tt)},(nt=s.onPause)==null||nt.call(s)}).then(()=>{var dt;c=void 0,a||(dt=s.onContinue)==null||dt.call(s)}),lt=()=>{if(a)return;let dt;const nt=o===0?s.initialPromise:void 0;try{dt=nt??s.fn()}catch(tt){dt=Promise.reject(tt)}Promise.resolve(dt).then(et).catch(tt=>{var pt;if(a)return;const it=s.retry??(isServer?0:3),at=s.retryDelay??defaultRetryDelay,mt=typeof at=="function"?at(o,tt):at,ot=it===!0||typeof it=="number"&&o<it||typeof it=="function"&&it(o,tt);if(i||!ot){rt(tt);return}o++,(pt=s.onFail)==null||pt.call(s,o,tt),sleep(mt).then(()=>$()?void 0:st()).then(()=>{i?rt(tt):lt()})})};return{promise:h,cancel:g,continue:()=>(c==null||c(),h),cancelRetry:b,continueRetry:_,canStart:_e,start:()=>(_e()?lt():st().then(lt),h)}}function createNotifyManager(){let s=[],i=0,o=b=>{b()},a=b=>{b()},c=b=>setTimeout(b,0);const h=b=>{i?s.push(b):c(()=>{o(b)})},g=()=>{const b=s;s=[],b.length&&c(()=>{a(()=>{b.forEach(_=>{o(_)})})})};return{batch:b=>{let _;i++;try{_=b()}finally{i--,i||g()}return _},batchCalls:b=>(..._)=>{h(()=>{b(..._)})},schedule:h,setNotifyFunction:b=>{o=b},setBatchNotifyFunction:b=>{a=b},setScheduler:b=>{c=b}}}var notifyManager=createNotifyManager(),Qr,Mo,Removable=(Mo=class{constructor(){Cn(this,Qr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&wn(this,Qr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(isServer?1/0:5*60*1e3))}clearGcTimeout(){vt(this,Qr)&&(clearTimeout(vt(this,Qr)),wn(this,Qr,void 0))}},Qr=new WeakMap,Mo),us,ds,Mr,Pr,As,Jr,Fr,Br,Fo,Query=(Fo=class extends Removable{constructor(i){super();Cn(this,Fr);Cn(this,us);Cn(this,ds);Cn(this,Mr);Cn(this,Pr);Cn(this,As);Cn(this,Jr);wn(this,Jr,!1),wn(this,As,i.defaultOptions),this.setOptions(i.options),this.observers=[],wn(this,Mr,i.cache),this.queryKey=i.queryKey,this.queryHash=i.queryHash,wn(this,us,getDefaultState$1(this.options)),this.state=i.state??vt(this,us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var i;return(i=vt(this,Pr))==null?void 0:i.promise}setOptions(i){this.options={...vt(this,As),...i},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&vt(this,Mr).remove(this)}setData(i,o){const a=replaceData(this.state.data,i,this.options);return En(this,Fr,Br).call(this,{data:a,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt,manual:o==null?void 0:o.manual}),a}setState(i,o){En(this,Fr,Br).call(this,{type:"setState",state:i,setStateOptions:o})}cancel(i){var a,c;const o=(a=vt(this,Pr))==null?void 0:a.promise;return(c=vt(this,Pr))==null||c.cancel(i),o?o.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(vt(this,us))}isActive(){return this.observers.some(i=>resolveEnabled(i.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(i=>i.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(i=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,i)}onFocus(){var o;const i=this.observers.find(a=>a.shouldFetchOnWindowFocus());i==null||i.refetch({cancelRefetch:!1}),(o=vt(this,Pr))==null||o.continue()}onOnline(){var o;const i=this.observers.find(a=>a.shouldFetchOnReconnect());i==null||i.refetch({cancelRefetch:!1}),(o=vt(this,Pr))==null||o.continue()}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),vt(this,Mr).notify({type:"observerAdded",query:this,observer:i}))}removeObserver(i){this.observers.includes(i)&&(this.observers=this.observers.filter(o=>o!==i),this.observers.length||(vt(this,Pr)&&(vt(this,Jr)?vt(this,Pr).cancel({revert:!0}):vt(this,Pr).cancelRetry()),this.scheduleGc()),vt(this,Mr).notify({type:"observerRemoved",query:this,observer:i}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||En(this,Fr,Br).call(this,{type:"invalidate"})}fetch(i,o){var _,$,_e;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(vt(this,Pr))return vt(this,Pr).continueRetry(),vt(this,Pr).promise}if(i&&this.setOptions(i),!this.options.queryFn){const et=this.observers.find(rt=>rt.options.queryFn);et&&this.setOptions(et.options)}const a=new AbortController,c=et=>{Object.defineProperty(et,"signal",{enumerable:!0,get:()=>(wn(this,Jr,!0),a.signal)})},h=()=>{const et=ensureQueryFn(this.options,o),rt={queryKey:this.queryKey,meta:this.meta};return c(rt),wn(this,Jr,!1),this.options.persister?this.options.persister(et,rt,this):et(rt)},g={fetchOptions:o,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};c(g),(_=this.options.behavior)==null||_.onFetch(g,this),wn(this,ds,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==(($=g.fetchOptions)==null?void 0:$.meta))&&En(this,Fr,Br).call(this,{type:"fetch",meta:(_e=g.fetchOptions)==null?void 0:_e.meta});const b=et=>{var rt,st,lt,dt;isCancelledError(et)&&et.silent||En(this,Fr,Br).call(this,{type:"error",error:et}),isCancelledError(et)||((st=(rt=vt(this,Mr).config).onError)==null||st.call(rt,et,this),(dt=(lt=vt(this,Mr).config).onSettled)==null||dt.call(lt,this.state.data,et,this)),this.scheduleGc()};return wn(this,Pr,createRetryer({initialPromise:o==null?void 0:o.initialPromise,fn:g.fetchFn,abort:a.abort.bind(a),onSuccess:et=>{var rt,st,lt,dt;if(et===void 0){b(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(et)}catch(nt){b(nt);return}(st=(rt=vt(this,Mr).config).onSuccess)==null||st.call(rt,et,this),(dt=(lt=vt(this,Mr).config).onSettled)==null||dt.call(lt,et,this.state.error,this),this.scheduleGc()},onError:b,onFail:(et,rt)=>{En(this,Fr,Br).call(this,{type:"failed",failureCount:et,error:rt})},onPause:()=>{En(this,Fr,Br).call(this,{type:"pause"})},onContinue:()=>{En(this,Fr,Br).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0})),vt(this,Pr).start()}},us=new WeakMap,ds=new WeakMap,Mr=new WeakMap,Pr=new WeakMap,As=new WeakMap,Jr=new WeakMap,Fr=new WeakSet,Br=function(i){const o=a=>{switch(i.type){case"failed":return{...a,fetchFailureCount:i.failureCount,fetchFailureReason:i.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...fetchState(a.data,this.options),fetchMeta:i.meta??null};case"success":return{...a,data:i.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:i.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!i.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=i.error;return isCancelledError(c)&&c.revert&&vt(this,ds)?{...vt(this,ds),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...i.state}}};this.state=o(this.state),notifyManager.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),vt(this,Mr).notify({query:this,type:"updated",action:i})})},Fo);function fetchState(s,i){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(i.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(s){const i=typeof s.initialData=="function"?s.initialData():s.initialData,o=i!==void 0,a=o?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:i,dataUpdateCount:0,dataUpdatedAt:o?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}var jr,jo,QueryCache=(jo=class extends Subscribable{constructor(i={}){super();Cn(this,jr);this.config=i,wn(this,jr,new Map)}build(i,o,a){const c=o.queryKey,h=o.queryHash??hashQueryKeyByOptions(c,o);let g=this.get(h);return g||(g=new Query({cache:this,queryKey:c,queryHash:h,options:i.defaultQueryOptions(o),state:a,defaultOptions:i.getQueryDefaults(c)}),this.add(g)),g}add(i){vt(this,jr).has(i.queryHash)||(vt(this,jr).set(i.queryHash,i),this.notify({type:"added",query:i}))}remove(i){const o=vt(this,jr).get(i.queryHash);o&&(i.destroy(),o===i&&vt(this,jr).delete(i.queryHash),this.notify({type:"removed",query:i}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}get(i){return vt(this,jr).get(i)}getAll(){return[...vt(this,jr).values()]}find(i){const o={exact:!0,...i};return this.getAll().find(a=>matchQuery(o,a))}findAll(i={}){const o=this.getAll();return Object.keys(i).length>0?o.filter(a=>matchQuery(i,a)):o}notify(i){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(i)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(i=>{i.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(i=>{i.onOnline()})})}},jr=new WeakMap,jo),$r,Nr,_i,zr,Vr,$o,Mutation=($o=class extends Removable{constructor(i){super();Cn(this,zr);Cn(this,$r);Cn(this,Nr);Cn(this,_i);this.mutationId=i.mutationId,wn(this,Nr,i.mutationCache),wn(this,$r,[]),this.state=i.state||getDefaultState(),this.setOptions(i.options),this.scheduleGc()}setOptions(i){this.options=i,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(i){vt(this,$r).includes(i)||(vt(this,$r).push(i),this.clearGcTimeout(),vt(this,Nr).notify({type:"observerAdded",mutation:this,observer:i}))}removeObserver(i){wn(this,$r,vt(this,$r).filter(o=>o!==i)),this.scheduleGc(),vt(this,Nr).notify({type:"observerRemoved",mutation:this,observer:i})}optionalRemove(){vt(this,$r).length||(this.state.status==="pending"?this.scheduleGc():vt(this,Nr).remove(this))}continue(){var i;return((i=vt(this,_i))==null?void 0:i.continue())??this.execute(this.state.variables)}async execute(i){var c,h,g,b,_,$,_e,et,rt,st,lt,dt,nt,tt,it,at,mt,ot,pt,ht;wn(this,_i,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(i):Promise.reject(new Error("No mutationFn found")),onFail:(gt,xt)=>{En(this,zr,Vr).call(this,{type:"failed",failureCount:gt,error:xt})},onPause:()=>{En(this,zr,Vr).call(this,{type:"pause"})},onContinue:()=>{En(this,zr,Vr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>vt(this,Nr).canRun(this)}));const o=this.state.status==="pending",a=!vt(this,_i).canStart();try{if(!o){En(this,zr,Vr).call(this,{type:"pending",variables:i,isPaused:a}),await((h=(c=vt(this,Nr).config).onMutate)==null?void 0:h.call(c,i,this));const xt=await((b=(g=this.options).onMutate)==null?void 0:b.call(g,i));xt!==this.state.context&&En(this,zr,Vr).call(this,{type:"pending",context:xt,variables:i,isPaused:a})}const gt=await vt(this,_i).start();return await(($=(_=vt(this,Nr).config).onSuccess)==null?void 0:$.call(_,gt,i,this.state.context,this)),await((et=(_e=this.options).onSuccess)==null?void 0:et.call(_e,gt,i,this.state.context)),await((st=(rt=vt(this,Nr).config).onSettled)==null?void 0:st.call(rt,gt,null,this.state.variables,this.state.context,this)),await((dt=(lt=this.options).onSettled)==null?void 0:dt.call(lt,gt,null,i,this.state.context)),En(this,zr,Vr).call(this,{type:"success",data:gt}),gt}catch(gt){try{throw await((tt=(nt=vt(this,Nr).config).onError)==null?void 0:tt.call(nt,gt,i,this.state.context,this)),await((at=(it=this.options).onError)==null?void 0:at.call(it,gt,i,this.state.context)),await((ot=(mt=vt(this,Nr).config).onSettled)==null?void 0:ot.call(mt,void 0,gt,this.state.variables,this.state.context,this)),await((ht=(pt=this.options).onSettled)==null?void 0:ht.call(pt,void 0,gt,i,this.state.context)),gt}finally{En(this,zr,Vr).call(this,{type:"error",error:gt})}}finally{vt(this,Nr).runNext(this)}}},$r=new WeakMap,Nr=new WeakMap,_i=new WeakMap,zr=new WeakSet,Vr=function(i){const o=a=>{switch(i.type){case"failed":return{...a,failureCount:i.failureCount,failureReason:i.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:i.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:i.isPaused,status:"pending",variables:i.variables,submittedAt:Date.now()};case"success":return{...a,data:i.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:i.error,failureCount:a.failureCount+1,failureReason:i.error,isPaused:!1,status:"error"}}};this.state=o(this.state),notifyManager.batch(()=>{vt(this,$r).forEach(a=>{a.onMutationUpdate(i)}),vt(this,Nr).notify({mutation:this,type:"updated",action:i})})},$o);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ir,Ts,zo,MutationCache=(zo=class extends Subscribable{constructor(i={}){super();Cn(this,Ir);Cn(this,Ts);this.config=i,wn(this,Ir,new Map),wn(this,Ts,Date.now())}build(i,o,a){const c=new Mutation({mutationCache:this,mutationId:++Wr(this,Ts)._,options:i.defaultMutationOptions(o),state:a});return this.add(c),c}add(i){const o=scopeFor(i),a=vt(this,Ir).get(o)??[];a.push(i),vt(this,Ir).set(o,a),this.notify({type:"added",mutation:i})}remove(i){var a;const o=scopeFor(i);if(vt(this,Ir).has(o)){const c=(a=vt(this,Ir).get(o))==null?void 0:a.filter(h=>h!==i);c&&(c.length===0?vt(this,Ir).delete(o):vt(this,Ir).set(o,c))}this.notify({type:"removed",mutation:i})}canRun(i){var a;const o=(a=vt(this,Ir).get(scopeFor(i)))==null?void 0:a.find(c=>c.state.status==="pending");return!o||o===i}runNext(i){var a;const o=(a=vt(this,Ir).get(scopeFor(i)))==null?void 0:a.find(c=>c!==i&&c.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}getAll(){return[...vt(this,Ir).values()].flat()}find(i){const o={exact:!0,...i};return this.getAll().find(a=>matchMutation(o,a))}findAll(i={}){return this.getAll().filter(o=>matchMutation(i,o))}notify(i){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(i)})})}resumePausedMutations(){const i=this.getAll().filter(o=>o.state.isPaused);return notifyManager.batch(()=>Promise.all(i.map(o=>o.continue().catch(noop$1))))}},Ir=new WeakMap,Ts=new WeakMap,zo);function scopeFor(s){var i;return((i=s.options.scope)==null?void 0:i.id)??String(s.mutationId)}function infiniteQueryBehavior(s){return{onFetch:(i,o)=>{var _e,et,rt,st,lt;const a=i.options,c=(rt=(et=(_e=i.fetchOptions)==null?void 0:_e.meta)==null?void 0:et.fetchMore)==null?void 0:rt.direction,h=((st=i.state.data)==null?void 0:st.pages)||[],g=((lt=i.state.data)==null?void 0:lt.pageParams)||[];let b={pages:[],pageParams:[]},_=0;const $=async()=>{let dt=!1;const nt=at=>{Object.defineProperty(at,"signal",{enumerable:!0,get:()=>(i.signal.aborted?dt=!0:i.signal.addEventListener("abort",()=>{dt=!0}),i.signal)})},tt=ensureQueryFn(i.options,i.fetchOptions),it=async(at,mt,ot)=>{if(dt)return Promise.reject();if(mt==null&&at.pages.length)return Promise.resolve(at);const pt={queryKey:i.queryKey,pageParam:mt,direction:ot?"backward":"forward",meta:i.options.meta};nt(pt);const ht=await tt(pt),{maxPages:gt}=i.options,xt=ot?addToStart:addToEnd;return{pages:xt(at.pages,ht,gt),pageParams:xt(at.pageParams,mt,gt)}};if(c&&h.length){const at=c==="backward",mt=at?getPreviousPageParam:getNextPageParam,ot={pages:h,pageParams:g},pt=mt(a,ot);b=await it(ot,pt,at)}else{const at=s??h.length;do{const mt=_===0?g[0]??a.initialPageParam:getNextPageParam(a,b);if(_>0&&mt==null)break;b=await it(b,mt),_++}while(_<at)}return b};i.options.persister?i.fetchFn=()=>{var dt,nt;return(nt=(dt=i.options).persister)==null?void 0:nt.call(dt,$,{queryKey:i.queryKey,meta:i.options.meta,signal:i.signal},o)}:i.fetchFn=$}}}function getNextPageParam(s,{pages:i,pageParams:o}){const a=i.length-1;return i.length>0?s.getNextPageParam(i[a],i,o[a],o):void 0}function getPreviousPageParam(s,{pages:i,pageParams:o}){var a;return i.length>0?(a=s.getPreviousPageParam)==null?void 0:a.call(s,i[0],i,o[0],o):void 0}var Ar,Xr,qr,hs,fs,Yr,ps,ms,Bo,QueryClient=(Bo=class{constructor(s={}){Cn(this,Ar);Cn(this,Xr);Cn(this,qr);Cn(this,hs);Cn(this,fs);Cn(this,Yr);Cn(this,ps);Cn(this,ms);wn(this,Ar,s.queryCache||new QueryCache),wn(this,Xr,s.mutationCache||new MutationCache),wn(this,qr,s.defaultOptions||{}),wn(this,hs,new Map),wn(this,fs,new Map),wn(this,Yr,0)}mount(){Wr(this,Yr)._++,vt(this,Yr)===1&&(wn(this,ps,focusManager.subscribe(async s=>{s&&(await this.resumePausedMutations(),vt(this,Ar).onFocus())})),wn(this,ms,onlineManager.subscribe(async s=>{s&&(await this.resumePausedMutations(),vt(this,Ar).onOnline())})))}unmount(){var s,i;Wr(this,Yr)._--,vt(this,Yr)===0&&((s=vt(this,ps))==null||s.call(this),wn(this,ps,void 0),(i=vt(this,ms))==null||i.call(this),wn(this,ms,void 0))}isFetching(s){return vt(this,Ar).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return vt(this,Xr).findAll({...s,status:"pending"}).length}getQueryData(s){var o;const i=this.defaultQueryOptions({queryKey:s});return(o=vt(this,Ar).get(i.queryHash))==null?void 0:o.state.data}ensureQueryData(s){const i=this.getQueryData(s.queryKey);if(i===void 0)return this.fetchQuery(s);{const o=this.defaultQueryOptions(s),a=vt(this,Ar).build(this,o);return s.revalidateIfStale&&a.isStaleByTime(resolveStaleTime(o.staleTime,a))&&this.prefetchQuery(o),Promise.resolve(i)}}getQueriesData(s){return vt(this,Ar).findAll(s).map(({queryKey:i,state:o})=>{const a=o.data;return[i,a]})}setQueryData(s,i,o){const a=this.defaultQueryOptions({queryKey:s}),c=vt(this,Ar).get(a.queryHash),h=c==null?void 0:c.state.data,g=functionalUpdate(i,h);if(g!==void 0)return vt(this,Ar).build(this,a).setData(g,{...o,manual:!0})}setQueriesData(s,i,o){return notifyManager.batch(()=>vt(this,Ar).findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,i,o)]))}getQueryState(s){var o;const i=this.defaultQueryOptions({queryKey:s});return(o=vt(this,Ar).get(i.queryHash))==null?void 0:o.state}removeQueries(s){const i=vt(this,Ar);notifyManager.batch(()=>{i.findAll(s).forEach(o=>{i.remove(o)})})}resetQueries(s,i){const o=vt(this,Ar),a={type:"active",...s};return notifyManager.batch(()=>(o.findAll(s).forEach(c=>{c.reset()}),this.refetchQueries(a,i)))}cancelQueries(s={},i={}){const o={revert:!0,...i},a=notifyManager.batch(()=>vt(this,Ar).findAll(s).map(c=>c.cancel(o)));return Promise.all(a).then(noop$1).catch(noop$1)}invalidateQueries(s={},i={}){return notifyManager.batch(()=>{if(vt(this,Ar).findAll(s).forEach(a=>{a.invalidate()}),s.refetchType==="none")return Promise.resolve();const o={...s,type:s.refetchType??s.type??"active"};return this.refetchQueries(o,i)})}refetchQueries(s={},i){const o={...i,cancelRefetch:(i==null?void 0:i.cancelRefetch)??!0},a=notifyManager.batch(()=>vt(this,Ar).findAll(s).filter(c=>!c.isDisabled()).map(c=>{let h=c.fetch(void 0,o);return o.throwOnError||(h=h.catch(noop$1)),c.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(a).then(noop$1)}fetchQuery(s){const i=this.defaultQueryOptions(s);i.retry===void 0&&(i.retry=!1);const o=vt(this,Ar).build(this,i);return o.isStaleByTime(resolveStaleTime(i.staleTime,o))?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(noop$1).catch(noop$1)}fetchInfiniteQuery(s){return s.behavior=infiniteQueryBehavior(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(noop$1).catch(noop$1)}ensureInfiniteQueryData(s){return s.behavior=infiniteQueryBehavior(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return onlineManager.isOnline()?vt(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return vt(this,Ar)}getMutationCache(){return vt(this,Xr)}getDefaultOptions(){return vt(this,qr)}setDefaultOptions(s){wn(this,qr,s)}setQueryDefaults(s,i){vt(this,hs).set(hashKey(s),{queryKey:s,defaultOptions:i})}getQueryDefaults(s){const i=[...vt(this,hs).values()];let o={};return i.forEach(a=>{partialMatchKey(s,a.queryKey)&&(o={...o,...a.defaultOptions})}),o}setMutationDefaults(s,i){vt(this,fs).set(hashKey(s),{mutationKey:s,defaultOptions:i})}getMutationDefaults(s){const i=[...vt(this,fs).values()];let o={};return i.forEach(a=>{partialMatchKey(s,a.mutationKey)&&(o={...o,...a.defaultOptions})}),o}defaultQueryOptions(s){if(s._defaulted)return s;const i={...vt(this,qr).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return i.queryHash||(i.queryHash=hashQueryKeyByOptions(i.queryKey,i)),i.refetchOnReconnect===void 0&&(i.refetchOnReconnect=i.networkMode!=="always"),i.throwOnError===void 0&&(i.throwOnError=!!i.suspense),!i.networkMode&&i.persister&&(i.networkMode="offlineFirst"),i.enabled!==!0&&i.queryFn===skipToken&&(i.enabled=!1),i}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...vt(this,qr).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){vt(this,Ar).clear(),vt(this,Xr).clear()}},Ar=new WeakMap,Xr=new WeakMap,qr=new WeakMap,hs=new WeakMap,fs=new WeakMap,Yr=new WeakMap,ps=new WeakMap,ms=new WeakMap,Bo),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:s,children:i})=>(reactExports.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:s,children:i}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},_extends$3.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(s){s===void 0&&(s={});function i(a,c){let{pathname:h,search:g,hash:b}=a.location;return createLocation("",{pathname:h,search:g,hash:b},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(a,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(i,o,null,s)}function invariant(s,i){if(s===!1||s===null||typeof s>"u")throw new Error(i)}function warning(s,i){if(!s){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(s,i){return{usr:s.state,key:s.key,idx:i}}function createLocation(s,i,o,a){return o===void 0&&(o=null),_extends$3({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:o,key:i&&i.key||a||createKey()})}function createPath(s){let{pathname:i="/",search:o="",hash:a=""}=s;return o&&o!=="?"&&(i+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function parsePath(s){let i={};if(s){let o=s.indexOf("#");o>=0&&(i.hash=s.substr(o),s=s.substr(0,o));let a=s.indexOf("?");a>=0&&(i.search=s.substr(a),s=s.substr(0,a)),s&&(i.pathname=s)}return i}function getUrlBasedHistory(s,i,o,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:h=!1}=a,g=c.history,b=Action.Pop,_=null,$=_e();$==null&&($=0,g.replaceState(_extends$3({},g.state,{idx:$}),""));function _e(){return(g.state||{idx:null}).idx}function et(){b=Action.Pop;let nt=_e(),tt=nt==null?null:nt-$;$=nt,_&&_({action:b,location:dt.location,delta:tt})}function rt(nt,tt){b=Action.Push;let it=createLocation(dt.location,nt,tt);$=_e()+1;let at=getHistoryState(it,$),mt=dt.createHref(it);try{g.pushState(at,"",mt)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;c.location.assign(mt)}h&&_&&_({action:b,location:dt.location,delta:1})}function st(nt,tt){b=Action.Replace;let it=createLocation(dt.location,nt,tt);$=_e();let at=getHistoryState(it,$),mt=dt.createHref(it);g.replaceState(at,"",mt),h&&_&&_({action:b,location:dt.location,delta:0})}function lt(nt){let tt=c.location.origin!=="null"?c.location.origin:c.location.href,it=typeof nt=="string"?nt:createPath(nt);return it=it.replace(/ $/,"%20"),invariant(tt,"No window.location.(origin|href) available to create URL for href: "+it),new URL(it,tt)}let dt={get action(){return b},get location(){return s(c,g)},listen(nt){if(_)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,et),_=nt,()=>{c.removeEventListener(PopStateEventType,et),_=null}},createHref(nt){return i(c,nt)},createURL:lt,encodeLocation(nt){let tt=lt(nt);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:rt,replace:st,go(nt){return g.go(nt)}};return dt}var ResultType;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ResultType||(ResultType={}));function matchRoutes(s,i,o){return o===void 0&&(o="/"),matchRoutesImpl(s,i,o,!1)}function matchRoutesImpl(s,i,o,a){let c=typeof i=="string"?parsePath(i):i,h=stripBasename(c.pathname||"/",o);if(h==null)return null;let g=flattenRoutes(s);rankRouteBranches(g);let b=null;for(let _=0;b==null&&_<g.length;++_){let $=decodePath(h);b=matchRouteBranch(g[_],$,a)}return b}function flattenRoutes(s,i,o,a){i===void 0&&(i=[]),o===void 0&&(o=[]),a===void 0&&(a="");let c=(h,g,b)=>{let _={relativePath:b===void 0?h.path||"":b,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};_.relativePath.startsWith("/")&&(invariant(_.relativePath.startsWith(a),'Absolute route path "'+_.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_.relativePath=_.relativePath.slice(a.length));let $=joinPaths([a,_.relativePath]),_e=o.concat(_);h.children&&h.children.length>0&&(invariant(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+$+'".')),flattenRoutes(h.children,i,_e,$)),!(h.path==null&&!h.index)&&i.push({path:$,score:computeScore($,h.index),routesMeta:_e})};return s.forEach((h,g)=>{var b;if(h.path===""||!((b=h.path)!=null&&b.includes("?")))c(h,g);else for(let _ of explodeOptionalSegments(h.path))c(h,g,_)}),i}function explodeOptionalSegments(s){let i=s.split("/");if(i.length===0)return[];let[o,...a]=i,c=o.endsWith("?"),h=o.replace(/\?$/,"");if(a.length===0)return c?[h,""]:[h];let g=explodeOptionalSegments(a.join("/")),b=[];return b.push(...g.map(_=>_===""?h:[h,_].join("/"))),c&&b.push(...g),b.map(_=>s.startsWith("/")&&_===""?"/":_)}function rankRouteBranches(s){s.sort((i,o)=>i.score!==o.score?o.score-i.score:compareIndexes(i.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,i){let o=s.split("/"),a=o.length;return o.some(isSplat)&&(a+=splatPenalty),i&&(a+=indexRouteValue),o.filter(c=>!isSplat(c)).reduce((c,h)=>c+(paramRe.test(h)?dynamicSegmentValue:h===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(s,i){return s.length===i.length&&s.slice(0,-1).every((a,c)=>a===i[c])?s[s.length-1]-i[i.length-1]:0}function matchRouteBranch(s,i,o){let{routesMeta:a}=s,c={},h="/",g=[];for(let b=0;b<a.length;++b){let _=a[b],$=b===a.length-1,_e=h==="/"?i:i.slice(h.length)||"/",et=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:$},_e),rt=_.route;if(!et&&$&&o&&!a[a.length-1].route.index&&(et=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},_e)),!et)return null;Object.assign(c,et.params),g.push({params:c,pathname:joinPaths([h,et.pathname]),pathnameBase:normalizePathname(joinPaths([h,et.pathnameBase])),route:rt}),et.pathnameBase!=="/"&&(h=joinPaths([h,et.pathnameBase]))}return g}function matchPath(s,i){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,a]=compilePath(s.path,s.caseSensitive,s.end),c=i.match(o);if(!c)return null;let h=c[0],g=h.replace(/(.)\/+$/,"$1"),b=c.slice(1);return{params:a.reduce(($,_e,et)=>{let{paramName:rt,isOptional:st}=_e;if(rt==="*"){let dt=b[et]||"";g=h.slice(0,h.length-dt.length).replace(/(.)\/+$/,"$1")}const lt=b[et];return st&&!lt?$[rt]=void 0:$[rt]=(lt||"").replace(/%2F/g,"/"),$},{}),pathname:h,pathnameBase:g,pattern:s}}function compilePath(s,i,o){i===void 0&&(i=!1),o===void 0&&(o=!0),warning(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,b,_)=>(a.push({paramName:b,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),a]}function decodePath(s){try{return s.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),s}}function stripBasename(s,i){if(i==="/")return s;if(!s.toLowerCase().startsWith(i.toLowerCase()))return null;let o=i.endsWith("/")?i.length-1:i.length,a=s.charAt(o);return a&&a!=="/"?null:s.slice(o)||"/"}function resolvePath(s,i){i===void 0&&(i="/");let{pathname:o,search:a="",hash:c=""}=typeof s=="string"?parsePath(s):s;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,i):i,search:normalizeSearch(a),hash:normalizeHash(c)}}function resolvePathname(s,i){let o=i.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function getInvalidPathError(s,i,o,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(s){return s.filter((i,o)=>o===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(s,i){let o=getPathContributingMatches(s);return i?o.map((a,c)=>c===o.length-1?a.pathname:a.pathnameBase):o.map(a=>a.pathnameBase)}function resolveTo(s,i,o,a){a===void 0&&(a=!1);let c;typeof s=="string"?c=parsePath(s):(c=_extends$3({},s),invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let h=s===""||c.pathname==="",g=h?"/":c.pathname,b;if(g==null)b=o;else{let et=i.length-1;if(!a&&g.startsWith("..")){let rt=g.split("/");for(;rt[0]==="..";)rt.shift(),et-=1;c.pathname=rt.join("/")}b=et>=0?i[et]:"/"}let _=resolvePath(c,b),$=g&&g!=="/"&&g.endsWith("/"),_e=(h||g===".")&&o.endsWith("/");return!_.pathname.endsWith("/")&&($||_e)&&(_.pathname+="/"),_}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function isRouteErrorResponse(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(s,i){let{relative:o}=i===void 0?{}:i;useInRouterContext()||invariant(!1);let{basename:a,navigator:c}=reactExports.useContext(NavigationContext),{hash:h,pathname:g,search:b}=useResolvedPath(s,{relative:o}),_=g;return a!=="/"&&(_=g==="/"?a:joinPaths([a,g])),c.createHref({pathname:_,search:b,hash:h})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(s){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(s)}function useNavigate(){let{isDataRoute:s}=reactExports.useContext(RouteContext);return s?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let s=reactExports.useContext(DataRouterContext),{basename:i,future:o,navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),g=JSON.stringify(getResolveToMatches(c,o.v7_relativeSplatPath)),b=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{b.current=!0}),reactExports.useCallback(function($,_e){if(_e===void 0&&(_e={}),!b.current)return;if(typeof $=="number"){a.go($);return}let et=resolveTo($,JSON.parse(g),h,_e.relative==="path");s==null&&i!=="/"&&(et.pathname=et.pathname==="/"?i:joinPaths([i,et.pathname])),(_e.replace?a.replace:a.push)(et,_e.state,_e)},[i,a,g,h,s])}function useResolvedPath(s,i){let{relative:o}=i===void 0?{}:i,{future:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),g=JSON.stringify(getResolveToMatches(c,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(s,JSON.parse(g),h,o==="path"),[s,g,h,o])}function useRoutes(s,i){return useRoutesImpl(s,i)}function useRoutesImpl(s,i,o,a){useInRouterContext()||invariant(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),g=h[h.length-1],b=g?g.params:{};g&&g.pathname;let _=g?g.pathnameBase:"/";g&&g.route;let $=useLocation(),_e;if(i){var et;let nt=typeof i=="string"?parsePath(i):i;_==="/"||(et=nt.pathname)!=null&&et.startsWith(_)||invariant(!1),_e=nt}else _e=$;let rt=_e.pathname||"/",st=rt;if(_!=="/"){let nt=_.replace(/^\//,"").split("/");st="/"+rt.replace(/^\//,"").split("/").slice(nt.length).join("/")}let lt=matchRoutes(s,{pathname:st}),dt=_renderMatches(lt&&lt.map(nt=>Object.assign({},nt,{params:Object.assign({},b,nt.params),pathname:joinPaths([_,c.encodeLocation?c.encodeLocation(nt.pathname).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?_:joinPaths([_,c.encodeLocation?c.encodeLocation(nt.pathnameBase).pathname:nt.pathnameBase])})),h,o,a);return i&&dt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},_e),navigationType:Action.Pop}},dt):dt}function DefaultErrorComponent(){let s=useRouteError(),i=isRouteErrorResponse(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),o?reactExports.createElement("pre",{style:c},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,o){return o.location!==i.location||o.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:o.error,location:o.location,revalidation:i.revalidation||o.revalidation}}componentDidCatch(i,o){console.error("React Router caught the following error during render",i,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(s){let{routeContext:i,match:o,children:a}=s,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:i},a)}function _renderMatches(s,i,o,a){var c;if(i===void 0&&(i=[]),o===void 0&&(o=null),a===void 0&&(a=null),s==null){var h;if(!o)return null;if(o.errors)s=o.matches;else if((h=a)!=null&&h.v7_partialHydration&&i.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let g=s,b=(c=o)==null?void 0:c.errors;if(b!=null){let _e=g.findIndex(et=>et.route.id&&(b==null?void 0:b[et.route.id])!==void 0);_e>=0||invariant(!1),g=g.slice(0,Math.min(g.length,_e+1))}let _=!1,$=-1;if(o&&a&&a.v7_partialHydration)for(let _e=0;_e<g.length;_e++){let et=g[_e];if((et.route.HydrateFallback||et.route.hydrateFallbackElement)&&($=_e),et.route.id){let{loaderData:rt,errors:st}=o,lt=et.route.loader&&rt[et.route.id]===void 0&&(!st||st[et.route.id]===void 0);if(et.route.lazy||lt){_=!0,$>=0?g=g.slice(0,$+1):g=[g[0]];break}}}return g.reduceRight((_e,et,rt)=>{let st,lt=!1,dt=null,nt=null;o&&(st=b&&et.route.id?b[et.route.id]:void 0,dt=et.route.errorElement||defaultErrorElement,_&&($<0&&rt===0?(lt=!0,nt=null):$===rt&&(lt=!0,nt=et.route.hydrateFallbackElement||null)));let tt=i.concat(g.slice(0,rt+1)),it=()=>{let at;return st?at=dt:lt?at=nt:et.route.Component?at=reactExports.createElement(et.route.Component,null):et.route.element?at=et.route.element:at=_e,reactExports.createElement(RenderedRoute,{match:et,routeContext:{outlet:_e,matches:tt,isDataRoute:o!=null},children:at})};return o&&(et.route.ErrorBoundary||et.route.errorElement||rt===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:dt,error:st,children:it(),routeContext:{outlet:null,matches:tt,isDataRoute:!0}}):it()},null)}var DataRouterHook$1=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(DataRouterHook$1||{}),DataRouterStateHook$1=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(DataRouterStateHook$1||{});function useDataRouterContext(s){let i=reactExports.useContext(DataRouterContext);return i||invariant(!1),i}function useDataRouterState(s){let i=reactExports.useContext(DataRouterStateContext);return i||invariant(!1),i}function useRouteContext(s){let i=reactExports.useContext(RouteContext);return i||invariant(!1),i}function useCurrentRouteId(s){let i=useRouteContext(),o=i.matches[i.matches.length-1];return o.route.id||invariant(!1),o.route.id}function useRouteError(){var s;let i=reactExports.useContext(RouteErrorContext),o=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(s=o.errors)==null?void 0:s[a]}function useNavigateStable(){let{router:s}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{o.current=!0}),reactExports.useCallback(function(c,h){h===void 0&&(h={}),o.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,_extends$2({fromRouteId:i},h)))},[s,i])}function Route(s){invariant(!1)}function Router(s){let{basename:i="/",children:o=null,location:a,navigationType:c=Action.Pop,navigator:h,static:g=!1,future:b}=s;useInRouterContext()&&invariant(!1);let _=i.replace(/^\/*/,"/"),$=reactExports.useMemo(()=>({basename:_,navigator:h,static:g,future:_extends$2({v7_relativeSplatPath:!1},b)}),[_,b,h,g]);typeof a=="string"&&(a=parsePath(a));let{pathname:_e="/",search:et="",hash:rt="",state:st=null,key:lt="default"}=a,dt=reactExports.useMemo(()=>{let nt=stripBasename(_e,_);return nt==null?null:{location:{pathname:nt,search:et,hash:rt,state:st,key:lt},navigationType:c}},[_,_e,et,rt,st,lt,c]);return dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:$},reactExports.createElement(LocationContext.Provider,{children:o,value:dt}))}function Routes(s){let{children:i,location:o}=s;return useRoutes(createRoutesFromChildren(i),o)}new Promise(()=>{});function createRoutesFromChildren(s,i){i===void 0&&(i=[]);let o=[];return reactExports.Children.forEach(s,(a,c)=>{if(!reactExports.isValidElement(a))return;let h=[...i,c];if(a.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(a.props.children,h));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let g={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=createRoutesFromChildren(a.props.children,h)),o.push(g)}),o}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose(s,i){if(s==null)return{};var o={},a=Object.keys(s),c,h;for(h=0;h<a.length;h++)c=a[h],!(i.indexOf(c)>=0)&&(o[c]=s[c]);return o}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function shouldProcessLinkClick(s,i){return s.button===0&&(!i||i==="_self")&&!isModifiedEvent(s)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter(s){let{basename:i,children:o,future:a,window:c}=s,h=reactExports.useRef();h.current==null&&(h.current=createBrowserHistory({window:c,v5Compat:!0}));let g=h.current,[b,_]=reactExports.useState({action:g.action,location:g.location}),{v7_startTransition:$}=a||{},_e=reactExports.useCallback(et=>{$&&startTransitionImpl?startTransitionImpl(()=>_(et)):_(et)},[_,$]);return reactExports.useLayoutEffect(()=>g.listen(_e),[g,_e]),reactExports.createElement(Router,{basename:i,children:o,location:b.location,navigationType:b.action,navigator:g,future:a})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(i,o){let{onClick:a,relative:c,reloadDocument:h,replace:g,state:b,target:_,to:$,preventScrollReset:_e,viewTransition:et}=i,rt=_objectWithoutPropertiesLoose(i,_excluded),{basename:st}=reactExports.useContext(NavigationContext),lt,dt=!1;if(typeof $=="string"&&ABSOLUTE_URL_REGEX.test($)&&(lt=$,isBrowser$1))try{let at=new URL(window.location.href),mt=$.startsWith("//")?new URL(at.protocol+$):new URL($),ot=stripBasename(mt.pathname,st);mt.origin===at.origin&&ot!=null?$=ot+mt.search+mt.hash:dt=!0}catch{}let nt=useHref($,{relative:c}),tt=useLinkClickHandler($,{replace:g,state:b,target:_,preventScrollReset:_e,relative:c,viewTransition:et});function it(at){a&&a(at),at.defaultPrevented||tt(at)}return reactExports.createElement("a",_extends$1({},rt,{href:lt||nt,onClick:dt||h?a:it,ref:o,target:_}))});var DataRouterHook;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(s,i){let{target:o,replace:a,state:c,preventScrollReset:h,relative:g,viewTransition:b}=i===void 0?{}:i,_=useNavigate(),$=useLocation(),_e=useResolvedPath(s,{relative:g});return reactExports.useCallback(et=>{if(shouldProcessLinkClick(et,o)){et.preventDefault();let rt=a!==void 0?a:createPath($)===createPath(_e);_(s,{replace:rt,state:c,preventScrollReset:h,relative:g,viewTransition:b})}},[$,_,_e,a,c,o,s,h,g,b])}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:s,variant:i,size:o,asChild:a=!1,...c},h)=>{const g=a?Slot:"button";return jsxRuntimeExports.jsx(g,{className:cn(buttonVariants({variant:i,size:o,className:s})),ref:h,...c})});Button.displayName="Button";const Index=()=>jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-6",children:"Speed Reading App"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-center text-gray-600 max-w-2xl mb-8",children:"Improve your reading speed and comprehension with our simple and effective speed reading tool. Upload text or paste your content and begin training your reading skills today."}),jsxRuntimeExports.jsx(Button,{asChild:!0,size:"lg",className:"gap-2",children:jsxRuntimeExports.jsxs(Link,{to:"/speed-reader",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5"}),"Start Speed Reading"]})})]}),scriptRel="modulepreload",assetsURL=function(s){return"/manread/"+s},seen={},__vitePreload=function(i,o,a){let c=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),b=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=Promise.allSettled(o.map(_=>{if(_=assetsURL(_),_ in seen)return;seen[_]=!0;const $=_.endsWith(".css"),_e=$?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${_e}`))return;const et=document.createElement("link");if(et.rel=$?"stylesheet":scriptRel,$||(et.as="script"),et.crossOrigin="",et.href=_,b&&et.setAttribute("nonce",b),document.head.appendChild(et),$)return new Promise((rt,st)=>{et.addEventListener("load",rt),et.addEventListener("error",()=>st(new Error(`Unable to preload CSS for ${_}`)))})}))}function h(g){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=g,window.dispatchEvent(b),!b.defaultPrevented)throw g}return c.then(g=>{for(const b of g||[])b.status==="rejected"&&h(b.reason);return i().catch(h)})},Input=reactExports.forwardRef(({className:s,type:i,...o},a)=>jsxRuntimeExports.jsx("input",{type:i,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...o}));Input.displayName="Input";var NAME="Label",Label$1=reactExports.forwardRef((s,i)=>jsxRuntimeExports.jsx(Primitive.label,{...s,ref:i,onMouseDown:o=>{var c;o.target.closest("button, input, select, textarea")||((c=s.onMouseDown)==null||c.call(s,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));Label$1.displayName=NAME;var Root$1=Label$1;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=reactExports.forwardRef(({className:s,...i},o)=>jsxRuntimeExports.jsx(Root$1,{ref:o,className:cn(labelVariants(),s),...i}));Label.displayName=Root$1.displayName;function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,o){module.exports=i.pdfjsLib=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,i)=>{var gr;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Rt,i.bytesToString=In,i.createValidAbsoluteUrl=nn,i.getModificationDate=Xn,i.getUuid=ar,i.getVerbosityLevel=an,i.info=dn,i.isArrayBuffer=Tn,i.isArrayEqual=Kn,i.isNodeJS=void 0,i.normalizeUnicode=nr,i.objectFromMap=Wn,i.objectSize=Un,i.setVerbosityLevel=fn,i.shadow=Nt,i.string32=$n,i.stringToBytes=Fn,i.stringToPDFString=jn,i.stringToUTF8String=zn,i.unreachable=Jt,i.utf8StringToString=Vn,i.warn=on;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=o;const a=[1,0,0,1,0,0];i.IDENTITY_MATRIX=a;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const h=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=h;const g=1.35;i.LINE_FACTOR=g;const b=.35;i.LINE_DESCENT_FACTOR=b;const _=b/g;i.BASELINE_FACTOR=_;const $={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=$;const _e={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=_e;const et="pdfjs_internal_editor_";i.AnnotationEditorPrefix=et;const rt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=rt;const st={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=st;const lt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=lt;const dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=dt;const nt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=nt;const tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=tt;const it={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=it;const at={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=at;const mt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=mt;const ot={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=ot;const pt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=pt;const ht={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=ht;const gt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=gt;const xt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=xt;const Tt={NONE:0,BINARY:1};i.CMapCompressionType=Tt;const wt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=wt;const kt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=kt;let Yt=xt.WARNINGS;function fn(Hn){Number.isInteger(Hn)&&(Yt=Hn)}function an(){return Yt}function dn(Hn){Yt>=xt.INFOS&&console.log(`Info: ${Hn}`)}function on(Hn){Yt>=xt.WARNINGS&&console.log(`Warning: ${Hn}`)}function Jt(Hn){throw new Error(Hn)}function Rt(Hn,Pt){Hn||Jt(Pt)}function zt(Hn){switch(Hn==null?void 0:Hn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nn(Hn,Pt=null,pn=null){if(!Hn)return null;try{if(pn&&typeof Hn=="string"){if(pn.addDefaultProtocol&&Hn.startsWith("www.")){const Gn=Hn.match(/\./g);(Gn==null?void 0:Gn.length)>=2&&(Hn=`http://${Hn}`)}if(pn.tryConvertEncoding)try{Hn=zn(Hn)}catch{}}const An=Pt?new URL(Hn,Pt):new URL(Hn);if(zt(An))return An}catch{}return null}function Nt(Hn,Pt,pn,An=!1){return Object.defineProperty(Hn,Pt,{value:pn,enumerable:!An,configurable:!0,writable:!1}),pn}const Et=function(){function Pt(pn,An){this.constructor===Pt&&Jt("Cannot initialize BaseException."),this.message=pn,this.name=An}return Pt.prototype=new Error,Pt.constructor=Pt,Pt}();i.BaseException=Et;class St extends Et{constructor(Pt,pn){super(Pt,"PasswordException"),this.code=pn}}i.PasswordException=St;class jt extends Et{constructor(Pt,pn){super(Pt,"UnknownErrorException"),this.details=pn}}i.UnknownErrorException=jt;class en extends Et{constructor(Pt){super(Pt,"InvalidPDFException")}}i.InvalidPDFException=en;class sn extends Et{constructor(Pt){super(Pt,"MissingPDFException")}}i.MissingPDFException=sn;class rn extends Et{constructor(Pt,pn){super(Pt,"UnexpectedResponseException"),this.status=pn}}i.UnexpectedResponseException=rn;class vn extends Et{constructor(Pt){super(Pt,"FormatError")}}i.FormatError=vn;class _n extends Et{constructor(Pt){super(Pt,"AbortException")}}i.AbortException=_n;function In(Hn){(typeof Hn!="object"||(Hn==null?void 0:Hn.length)===void 0)&&Jt("Invalid argument for bytesToString");const Pt=Hn.length,pn=8192;if(Pt<pn)return String.fromCharCode.apply(null,Hn);const An=[];for(let Gn=0;Gn<Pt;Gn+=pn){const gn=Math.min(Gn+pn,Pt),Bt=Hn.subarray(Gn,gn);An.push(String.fromCharCode.apply(null,Bt))}return An.join("")}function Fn(Hn){typeof Hn!="string"&&Jt("Invalid argument for stringToBytes");const Pt=Hn.length,pn=new Uint8Array(Pt);for(let An=0;An<Pt;++An)pn[An]=Hn.charCodeAt(An)&255;return pn}function $n(Hn){return String.fromCharCode(Hn>>24&255,Hn>>16&255,Hn>>8&255,Hn&255)}function Un(Hn){return Object.keys(Hn).length}function Wn(Hn){const Pt=Object.create(null);for(const[pn,An]of Hn)Pt[pn]=An;return Pt}function Rn(){const Hn=new Uint8Array(4);return Hn[0]=1,new Uint32Array(Hn.buffer,0,1)[0]===1}function xn(){try{return new Function(""),!0}catch{return!1}}class tn{static get isLittleEndian(){return Nt(this,"isLittleEndian",Rn())}static get isEvalSupported(){return Nt(this,"isEvalSupported",xn())}static get isOffscreenCanvasSupported(){return Nt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Nt(this,"platform",{isWin:!1,isMac:!1}):Nt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Pt,pn;return Nt(this,"isCSSRoundSupported",(pn=(Pt=globalThis.CSS)==null?void 0:Pt.supports)==null?void 0:pn.call(Pt,"width: round(1.5px, 1px)"))}}i.FeatureTest=tn;const hn=[...Array(256).keys()].map(Hn=>Hn.toString(16).padStart(2,"0"));class yn{static makeHexColor(Pt,pn,An){return`#${hn[Pt]}${hn[pn]}${hn[An]}`}static scaleMinMax(Pt,pn){let An;Pt[0]?(Pt[0]<0&&(An=pn[0],pn[0]=pn[1],pn[1]=An),pn[0]*=Pt[0],pn[1]*=Pt[0],Pt[3]<0&&(An=pn[2],pn[2]=pn[3],pn[3]=An),pn[2]*=Pt[3],pn[3]*=Pt[3]):(An=pn[0],pn[0]=pn[2],pn[2]=An,An=pn[1],pn[1]=pn[3],pn[3]=An,Pt[1]<0&&(An=pn[2],pn[2]=pn[3],pn[3]=An),pn[2]*=Pt[1],pn[3]*=Pt[1],Pt[2]<0&&(An=pn[0],pn[0]=pn[1],pn[1]=An),pn[0]*=Pt[2],pn[1]*=Pt[2]),pn[0]+=Pt[4],pn[1]+=Pt[4],pn[2]+=Pt[5],pn[3]+=Pt[5]}static transform(Pt,pn){return[Pt[0]*pn[0]+Pt[2]*pn[1],Pt[1]*pn[0]+Pt[3]*pn[1],Pt[0]*pn[2]+Pt[2]*pn[3],Pt[1]*pn[2]+Pt[3]*pn[3],Pt[0]*pn[4]+Pt[2]*pn[5]+Pt[4],Pt[1]*pn[4]+Pt[3]*pn[5]+Pt[5]]}static applyTransform(Pt,pn){const An=Pt[0]*pn[0]+Pt[1]*pn[2]+pn[4],Gn=Pt[0]*pn[1]+Pt[1]*pn[3]+pn[5];return[An,Gn]}static applyInverseTransform(Pt,pn){const An=pn[0]*pn[3]-pn[1]*pn[2],Gn=(Pt[0]*pn[3]-Pt[1]*pn[2]+pn[2]*pn[5]-pn[4]*pn[3])/An,gn=(-Pt[0]*pn[1]+Pt[1]*pn[0]+pn[4]*pn[1]-pn[5]*pn[0])/An;return[Gn,gn]}static getAxialAlignedBoundingBox(Pt,pn){const An=this.applyTransform(Pt,pn),Gn=this.applyTransform(Pt.slice(2,4),pn),gn=this.applyTransform([Pt[0],Pt[3]],pn),Bt=this.applyTransform([Pt[2],Pt[1]],pn);return[Math.min(An[0],Gn[0],gn[0],Bt[0]),Math.min(An[1],Gn[1],gn[1],Bt[1]),Math.max(An[0],Gn[0],gn[0],Bt[0]),Math.max(An[1],Gn[1],gn[1],Bt[1])]}static inverseTransform(Pt){const pn=Pt[0]*Pt[3]-Pt[1]*Pt[2];return[Pt[3]/pn,-Pt[1]/pn,-Pt[2]/pn,Pt[0]/pn,(Pt[2]*Pt[5]-Pt[4]*Pt[3])/pn,(Pt[4]*Pt[1]-Pt[5]*Pt[0])/pn]}static singularValueDecompose2dScale(Pt){const pn=[Pt[0],Pt[2],Pt[1],Pt[3]],An=Pt[0]*pn[0]+Pt[1]*pn[2],Gn=Pt[0]*pn[1]+Pt[1]*pn[3],gn=Pt[2]*pn[0]+Pt[3]*pn[2],Bt=Pt[2]*pn[1]+Pt[3]*pn[3],At=(An+Bt)/2,Pn=Math.sqrt((An+Bt)**2-4*(An*Bt-gn*Gn))/2,qn=At+Pn||1,yt=At-Pn||1;return[Math.sqrt(qn),Math.sqrt(yt)]}static normalizeRect(Pt){const pn=Pt.slice(0);return Pt[0]>Pt[2]&&(pn[0]=Pt[2],pn[2]=Pt[0]),Pt[1]>Pt[3]&&(pn[1]=Pt[3],pn[3]=Pt[1]),pn}static intersect(Pt,pn){const An=Math.max(Math.min(Pt[0],Pt[2]),Math.min(pn[0],pn[2])),Gn=Math.min(Math.max(Pt[0],Pt[2]),Math.max(pn[0],pn[2]));if(An>Gn)return null;const gn=Math.max(Math.min(Pt[1],Pt[3]),Math.min(pn[1],pn[3])),Bt=Math.min(Math.max(Pt[1],Pt[3]),Math.max(pn[1],pn[3]));return gn>Bt?null:[An,gn,Gn,Bt]}static bezierBoundingBox(Pt,pn,An,Gn,gn,Bt,At,Pn){const qn=[],yt=[[],[]];let bn,Mt,bt,Lt,un,Sn,Nn,Dn;for(let ir=0;ir<2;++ir){if(ir===0?(Mt=6*Pt-12*An+6*gn,bn=-3*Pt+9*An-9*gn+3*At,bt=3*An-3*Pt):(Mt=6*pn-12*Gn+6*Bt,bn=-3*pn+9*Gn-9*Bt+3*Pn,bt=3*Gn-3*pn),Math.abs(bn)<1e-12){if(Math.abs(Mt)<1e-12)continue;Lt=-bt/Mt,0<Lt&&Lt<1&&qn.push(Lt);continue}Nn=Mt*Mt-4*bt*bn,Dn=Math.sqrt(Nn),!(Nn<0)&&(un=(-Mt+Dn)/(2*bn),0<un&&un<1&&qn.push(un),Sn=(-Mt-Dn)/(2*bn),0<Sn&&Sn<1&&qn.push(Sn))}let Qn=qn.length,rr;const Yn=Qn;for(;Qn--;)Lt=qn[Qn],rr=1-Lt,yt[0][Qn]=rr*rr*rr*Pt+3*rr*rr*Lt*An+3*rr*Lt*Lt*gn+Lt*Lt*Lt*At,yt[1][Qn]=rr*rr*rr*pn+3*rr*rr*Lt*Gn+3*rr*Lt*Lt*Bt+Lt*Lt*Lt*Pn;return yt[0][Yn]=Pt,yt[1][Yn]=pn,yt[0][Yn+1]=At,yt[1][Yn+1]=Pn,yt[0].length=yt[1].length=Yn+2,[Math.min(...yt[0]),Math.min(...yt[1]),Math.max(...yt[0]),Math.max(...yt[1])]}}i.Util=yn;const On=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function jn(Hn){if(Hn[0]>=""){let pn;if(Hn[0]===""&&Hn[1]===""?pn="utf-16be":Hn[0]===""&&Hn[1]===""?pn="utf-16le":Hn[0]===""&&Hn[1]===""&&Hn[2]===""&&(pn="utf-8"),pn)try{const An=new TextDecoder(pn,{fatal:!0}),Gn=Fn(Hn);return An.decode(Gn)}catch(An){on(`stringToPDFString: "${An}".`)}}const Pt=[];for(let pn=0,An=Hn.length;pn<An;pn++){const Gn=On[Hn.charCodeAt(pn)];Pt.push(Gn?String.fromCharCode(Gn):Hn.charAt(pn))}return Pt.join("")}function zn(Hn){return decodeURIComponent(escape(Hn))}function Vn(Hn){return unescape(encodeURIComponent(Hn))}function Tn(Hn){return typeof Hn=="object"&&(Hn==null?void 0:Hn.byteLength)!==void 0}function Kn(Hn,Pt){if(Hn.length!==Pt.length)return!1;for(let pn=0,An=Hn.length;pn<An;pn++)if(Hn[pn]!==Pt[pn])return!1;return!0}function Xn(Hn=new Date){return[Hn.getUTCFullYear().toString(),(Hn.getUTCMonth()+1).toString().padStart(2,"0"),Hn.getUTCDate().toString().padStart(2,"0"),Hn.getUTCHours().toString().padStart(2,"0"),Hn.getUTCMinutes().toString().padStart(2,"0"),Hn.getUTCSeconds().toString().padStart(2,"0")].join("")}class hr{constructor(){Cn(this,gr,!1);this.promise=new Promise((Pt,pn)=>{this.resolve=An=>{wn(this,gr,!0),Pt(An)},this.reject=An=>{wn(this,gr,!0),pn(An)}})}get settled(){return vt(this,gr)}}gr=new WeakMap,i.PromiseCapability=hr;let cr=null,fr=null;function nr(Hn){return cr||(cr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fr=new Map([["","t"]])),Hn.replaceAll(cr,(Pt,pn,An)=>pn?pn.normalize("NFKC"):fr.get(An))}function ar(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Hn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Hn);else for(let Pt=0;Pt<32;Pt++)Hn[Pt]=Math.floor(Math.random()*255);return In(Hn)}const dr="pdfjs_internal_id_";i.AnnotationPrefix=dr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,o,a,c,ts,Rs,b,_,$,_e,et,rt,st,lt,dt,Ps,tt,it,Ys,mt,ot;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ht){if(typeof ht=="string"||ht instanceof URL?ht={url:ht}:(0,_util.isArrayBuffer)(ht)&&(ht={data:ht}),typeof ht!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ht.url&&!ht.data&&!ht.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const gt=new PDFDocumentLoadingTask,{docId:xt}=gt,Tt=ht.url?getUrlProp(ht.url):null,wt=ht.data?getDataProp(ht.data):null,kt=ht.httpHeaders||null,Yt=ht.withCredentials===!0,fn=ht.password??null,an=ht.range instanceof PDFDataRangeTransport?ht.range:null,dn=Number.isInteger(ht.rangeChunkSize)&&ht.rangeChunkSize>0?ht.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let on=ht.worker instanceof PDFWorker?ht.worker:null;const Jt=ht.verbosity,Rt=typeof ht.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ht.docBaseUrl)?ht.docBaseUrl:null,zt=typeof ht.cMapUrl=="string"?ht.cMapUrl:null,nn=ht.cMapPacked!==!1,Nt=ht.CMapReaderFactory||DefaultCMapReaderFactory,Et=typeof ht.standardFontDataUrl=="string"?ht.standardFontDataUrl:null,St=ht.StandardFontDataFactory||DefaultStandardFontDataFactory,jt=ht.stopAtErrors!==!0,en=Number.isInteger(ht.maxImageSize)&&ht.maxImageSize>-1?ht.maxImageSize:-1,sn=ht.isEvalSupported!==!1,rn=typeof ht.isOffscreenCanvasSupported=="boolean"?ht.isOffscreenCanvasSupported:!_util.isNodeJS,vn=Number.isInteger(ht.canvasMaxAreaInBytes)?ht.canvasMaxAreaInBytes:-1,_n=typeof ht.disableFontFace=="boolean"?ht.disableFontFace:_util.isNodeJS,In=ht.fontExtraProperties===!0,Fn=ht.enableXfa===!0,$n=ht.ownerDocument||globalThis.document,Un=ht.disableRange===!0,Wn=ht.disableStream===!0,Rn=ht.disableAutoFetch===!0,xn=ht.pdfBug===!0,tn=an?an.length:ht.length??NaN,hn=typeof ht.useSystemFonts=="boolean"?ht.useSystemFonts:!_util.isNodeJS&&!_n,yn=typeof ht.useWorkerFetch=="boolean"?ht.useWorkerFetch:Nt===_display_utils.DOMCMapReaderFactory&&St===_display_utils.DOMStandardFontDataFactory&&zt&&Et&&(0,_display_utils.isValidFetchUrl)(zt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Et,document.baseURI),On=ht.canvasFactory||new DefaultCanvasFactory({ownerDocument:$n}),jn=ht.filterFactory||new DefaultFilterFactory({docId:xt,ownerDocument:$n}),zn=null;(0,_util.setVerbosityLevel)(Jt);const Vn={canvasFactory:On,filterFactory:jn};if(yn||(Vn.cMapReaderFactory=new Nt({baseUrl:zt,isCompressed:nn}),Vn.standardFontDataFactory=new St({baseUrl:Et})),!on){const Xn={verbosity:Jt,port:_worker_options.GlobalWorkerOptions.workerPort};on=Xn.port?PDFWorker.fromPort(Xn):new PDFWorker(Xn),gt._worker=on}const Tn={docId:xt,apiVersion:"3.11.174",data:wt,password:fn,disableAutoFetch:Rn,rangeChunkSize:dn,length:tn,docBaseUrl:Rt,enableXfa:Fn,evaluatorOptions:{maxImageSize:en,disableFontFace:_n,ignoreErrors:jt,isEvalSupported:sn,isOffscreenCanvasSupported:rn,canvasMaxAreaInBytes:vn,fontExtraProperties:In,useSystemFonts:hn,cMapUrl:yn?zt:null,standardFontDataUrl:yn?Et:null}},Kn={ignoreErrors:jt,isEvalSupported:sn,disableFontFace:_n,fontExtraProperties:In,enableXfa:Fn,ownerDocument:$n,disableAutoFetch:Rn,pdfBug:xn,styleElement:zn};return on.promise.then(function(){if(gt.destroyed)throw new Error("Loading aborted");const Xn=_fetchDocument(on,Tn),hr=new Promise(function(cr){let fr;an?fr=new _transport_stream.PDFDataTransportStream({length:tn,initialData:an.initialData,progressiveDone:an.progressiveDone,contentDispositionFilename:an.contentDispositionFilename,disableRange:Un,disableStream:Wn},an):wt||(fr=(ar=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ar):(0,_display_utils.isValidFetchUrl)(ar.url)?new _displayFetch_stream.PDFFetchStream(ar):new _displayNetwork.PDFNetworkStream(ar))({url:Tt,length:tn,httpHeaders:kt,withCredentials:Yt,rangeChunkSize:dn,disableRange:Un,disableStream:Wn})),cr(fr)});return Promise.all([Xn,hr]).then(function([cr,fr]){if(gt.destroyed)throw new Error("Loading aborted");const nr=new _message_handler.MessageHandler(xt,cr,on.port),ar=new WorkerTransport(nr,gt,fr,Kn,Vn);gt._transport=ar,nr.send("Ready",null)})}).catch(gt._capability.reject),gt}async function _fetchDocument(ht,gt){if(ht.destroyed)throw new Error("Worker was destroyed");const xt=await ht.messageHandler.sendWithPromise("GetDocRequest",gt,gt.data?[gt.data.buffer]:null);if(ht.destroyed)throw new Error("Worker was destroyed");return xt}function getUrlProp(ht){if(ht instanceof URL)return ht.href;try{return new URL(ht,window.location).href}catch{if(_util.isNodeJS&&typeof ht=="string")return ht}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ht){if(_util.isNodeJS&&typeof Buffer<"u"&&ht instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength)return ht;if(typeof ht=="string")return(0,_util.stringToBytes)(ht);if(typeof ht=="object"&&!isNaN(ht==null?void 0:ht.length)||(0,_util.isArrayBuffer)(ht))return new Uint8Array(ht);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Wr(i,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var gt,xt,Tt;this.destroyed=!0;try{(gt=this._worker)!=null&&gt.port&&(this._worker._pendingDestroy=!0),await((xt=this._transport)==null?void 0:xt.destroy())}catch(wt){throw(Tt=this._worker)!=null&&Tt.port&&delete this._worker._pendingDestroy,wt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};s=new WeakMap,Cn(i,s,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(gt,xt,Tt=!1,wt=null){this.length=gt,this.initialData=xt,this.progressiveDone=Tt,this.contentDispositionFilename=wt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(gt){this._rangeListeners.push(gt)}addProgressListener(gt){this._progressListeners.push(gt)}addProgressiveReadListener(gt){this._progressiveReadListeners.push(gt)}addProgressiveDoneListener(gt){this._progressiveDoneListeners.push(gt)}onDataRange(gt,xt){for(const Tt of this._rangeListeners)Tt(gt,xt)}onDataProgress(gt,xt){this._readyCapability.promise.then(()=>{for(const Tt of this._progressListeners)Tt(gt,xt)})}onDataProgressiveRead(gt){this._readyCapability.promise.then(()=>{for(const xt of this._progressiveReadListeners)xt(gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const gt of this._progressiveDoneListeners)gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(gt,xt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(gt,xt){this._pdfInfo=gt,this._transport=xt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Tt=>{if(!Tt)return Tt;const wt=[];for(const kt in Tt)wt.push(...Tt[kt]);return wt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(gt){return this._transport.getPage(gt)}getPageIndex(gt){return this._transport.getPageIndex(gt)}getDestinations(){return this._transport.getDestinations()}getDestination(gt){return this._transport.getDestination(gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(gt=!1){return this._transport.startCleanup(gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(gt,xt,Tt,wt=!1){Cn(this,c);Cn(this,o,null);Cn(this,a,!1);this._pageIndex=gt,this._pageInfo=xt,this._transport=Tt,this._stats=wt?new _display_utils.StatTimer:null,this._pdfBug=wt,this.commonObjs=Tt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:gt,rotation:xt=this.rotate,offsetX:Tt=0,offsetY:wt=0,dontFlip:kt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:gt,rotation:xt,offsetX:Tt,offsetY:wt,dontFlip:kt})}getAnnotations({intent:gt="display"}={}){const xt=this._transport.getRenderingIntent(gt);return this._transport.getAnnotations(this._pageIndex,xt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var gt;return((gt=this._transport._htmlForXfa)==null?void 0:gt.children[this._pageIndex])||null}render({canvasContext:gt,viewport:xt,intent:Tt="display",annotationMode:wt=_util.AnnotationMode.ENABLE,transform:kt=null,background:Yt=null,optionalContentConfigPromise:fn=null,annotationCanvasMap:an=null,pageColors:dn=null,printAnnotationStorage:on=null}){var St,jt;(St=this._stats)==null||St.time("Overall");const Jt=this._transport.getRenderingIntent(Tt,wt,on);wn(this,a,!1),En(this,c,Rs).call(this),fn||(fn=this._transport.getOptionalContentConfig());let Rt=this._intentStates.get(Jt.cacheKey);Rt||(Rt=Object.create(null),this._intentStates.set(Jt.cacheKey,Rt)),Rt.streamReaderCancelTimeout&&(clearTimeout(Rt.streamReaderCancelTimeout),Rt.streamReaderCancelTimeout=null);const zt=!!(Jt.renderingIntent&_util.RenderingIntentFlag.PRINT);Rt.displayReadyCapability||(Rt.displayReadyCapability=new _util.PromiseCapability,Rt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(Jt));const nn=en=>{var sn,rn;Rt.renderTasks.delete(Nt),(this._maybeCleanupAfterRender||zt)&&wn(this,a,!0),En(this,c,ts).call(this,!zt),en?(Nt.capability.reject(en),this._abortOperatorList({intentState:Rt,reason:en instanceof Error?en:new Error(en)})):Nt.capability.resolve(),(sn=this._stats)==null||sn.timeEnd("Rendering"),(rn=this._stats)==null||rn.timeEnd("Overall")},Nt=new InternalRenderTask({callback:nn,params:{canvasContext:gt,viewport:xt,transform:kt,background:Yt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:an,operatorList:Rt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!zt,pdfBug:this._pdfBug,pageColors:dn});(Rt.renderTasks||(Rt.renderTasks=new Set)).add(Nt);const Et=Nt.task;return Promise.all([Rt.displayReadyCapability.promise,fn]).then(([en,sn])=>{var rn;if(this.destroyed){nn();return}(rn=this._stats)==null||rn.time("Rendering"),Nt.initializeGraphics({transparency:en,optionalContentConfig:sn}),Nt.operatorListChanged()}).catch(nn),Et}getOperatorList({intent:gt="display",annotationMode:xt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Tt=null}={}){var an;function wt(){Yt.operatorList.lastChunk&&(Yt.opListReadCapability.resolve(Yt.operatorList),Yt.renderTasks.delete(fn))}const kt=this._transport.getRenderingIntent(gt,xt,Tt,!0);let Yt=this._intentStates.get(kt.cacheKey);Yt||(Yt=Object.create(null),this._intentStates.set(kt.cacheKey,Yt));let fn;return Yt.opListReadCapability||(fn=Object.create(null),fn.operatorListChanged=wt,Yt.opListReadCapability=new _util.PromiseCapability,(Yt.renderTasks||(Yt.renderTasks=new Set)).add(fn),Yt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(an=this._stats)==null||an.time("Page Request"),this._pumpOperatorList(kt)),Yt.opListReadCapability.promise}streamTextContent({includeMarkedContent:gt=!1,disableNormalization:xt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:gt===!0,disableNormalization:xt===!0},{highWaterMark:100,size(wt){return wt.items.length}})}getTextContent(gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Tt=>_xfa_text.XfaText.textContent(Tt));const xt=this.streamTextContent(gt);return new Promise(function(Tt,wt){function kt(){Yt.read().then(function({value:an,done:dn}){if(dn){Tt(fn);return}Object.assign(fn.styles,an.styles),fn.items.push(...an.items),kt()},wt)}const Yt=xt.getReader(),fn={items:[],styles:Object.create(null)};kt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const gt=[];for(const xt of this._intentStates.values())if(this._abortOperatorList({intentState:xt,reason:new Error("Page was destroyed."),force:!0}),!xt.opListReadCapability)for(const Tt of xt.renderTasks)gt.push(Tt.completed),Tt.cancel();return this.objs.clear(),wn(this,a,!1),En(this,c,Rs).call(this),Promise.all(gt)}cleanup(gt=!1){wn(this,a,!0);const xt=En(this,c,ts).call(this,!1);return gt&&xt&&this._stats&&(this._stats=new _display_utils.StatTimer),xt}_startRenderPage(gt,xt){var wt,kt;const Tt=this._intentStates.get(xt);Tt&&((wt=this._stats)==null||wt.timeEnd("Page Request"),(kt=Tt.displayReadyCapability)==null||kt.resolve(gt))}_renderPageChunk(gt,xt){for(let Tt=0,wt=gt.length;Tt<wt;Tt++)xt.operatorList.fnArray.push(gt.fnArray[Tt]),xt.operatorList.argsArray.push(gt.argsArray[Tt]);xt.operatorList.lastChunk=gt.lastChunk,xt.operatorList.separateAnnots=gt.separateAnnots;for(const Tt of xt.renderTasks)Tt.operatorListChanged();gt.lastChunk&&En(this,c,ts).call(this,!0)}_pumpOperatorList({renderingIntent:gt,cacheKey:xt,annotationStorageSerializable:Tt}){const{map:wt,transfers:kt}=Tt,fn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:gt,cacheKey:xt,annotationStorage:wt},kt).getReader(),an=this._intentStates.get(xt);an.streamReader=fn;const dn=()=>{fn.read().then(({value:on,done:Jt})=>{if(Jt){an.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(on,an),dn())},on=>{if(an.streamReader=null,!this._transport.destroyed){if(an.operatorList){an.operatorList.lastChunk=!0;for(const Jt of an.renderTasks)Jt.operatorListChanged();En(this,c,ts).call(this,!0)}if(an.displayReadyCapability)an.displayReadyCapability.reject(on);else if(an.opListReadCapability)an.opListReadCapability.reject(on);else throw on}})};dn()}_abortOperatorList({intentState:gt,reason:xt,force:Tt=!1}){if(gt.streamReader){if(gt.streamReaderCancelTimeout&&(clearTimeout(gt.streamReaderCancelTimeout),gt.streamReaderCancelTimeout=null),!Tt){if(gt.renderTasks.size>0)return;if(xt instanceof _display_utils.RenderingCancelledException){let wt=RENDERING_CANCELLED_TIMEOUT;xt.extraDelay>0&&xt.extraDelay<1e3&&(wt+=xt.extraDelay),gt.streamReaderCancelTimeout=setTimeout(()=>{gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:gt,reason:xt,force:!0})},wt);return}}if(gt.streamReader.cancel(new _util.AbortException(xt.message)).catch(()=>{}),gt.streamReader=null,!this._transport.destroyed){for(const[wt,kt]of this._intentStates)if(kt===gt){this._intentStates.delete(wt);break}this.cleanup()}}}get stats(){return this._stats}}o=new WeakMap,a=new WeakMap,c=new WeakSet,ts=function(gt=!1){if(En(this,c,Rs).call(this),!vt(this,a)||this.destroyed)return!1;if(gt)return wn(this,o,setTimeout(()=>{wn(this,o,null),En(this,c,ts).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:xt,operatorList:Tt}of this._intentStates.values())if(xt.size>0||!Tt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),wn(this,a,!1),!0},Rs=function(){vt(this,o)&&(clearTimeout(vt(this,o)),wn(this,o,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Cn(this,b,new Set);Cn(this,_,Promise.resolve())}postMessage(gt,xt){const Tt={data:structuredClone(gt,xt?{transfer:xt}:null)};vt(this,_).then(()=>{for(const wt of vt(this,b))wt.call(this,Tt)})}addEventListener(gt,xt){vt(this,b).add(xt)}removeEventListener(gt,xt){vt(this,b).delete(xt)}terminate(){vt(this,b).clear()}}b=new WeakMap,_=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ht=($=document==null?void 0:document.currentScript)==null?void 0:$.src;ht&&(PDFWorkerUtil.fallbackWorkerSrc=ht.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ht,gt){let xt;try{if(xt=new URL(ht),!xt.origin||xt.origin==="null")return!1}catch{return!1}const Tt=new URL(gt,xt);return xt.origin===Tt.origin},PDFWorkerUtil.createCDNWrapper=function(ht){const gt=`importScripts("${ht}");`;return URL.createObjectURL(new Blob([gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:ht=null,port:gt=null,verbosity:xt=(0,_util.getVerbosityLevel)()}={}){var Tt;if(this.name=ht,this.destroyed=!1,this.verbosity=xt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,gt){if((Tt=vt(_PDFWorker,_e))!=null&&Tt.has(gt))throw new Error("Cannot use more than one PDFWorker per port.");(vt(_PDFWorker,_e)||wn(_PDFWorker,_e,new WeakMap)).set(gt,this),this._initializeFromPort(gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ht){this._port=ht,this._messageHandler=new _message_handler.MessageHandler("main","worker",ht),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ht}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ht)||(ht=PDFWorkerUtil.createCDNWrapper(new URL(ht,window.location).href));const gt=new Worker(ht),xt=new _message_handler.MessageHandler("main","worker",gt),Tt=()=>{gt.removeEventListener("error",wt),xt.destroy(),gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},wt=()=>{this._webWorker||Tt()};gt.addEventListener("error",wt),xt.on("test",Yt=>{if(gt.removeEventListener("error",wt),this.destroyed){Tt();return}Yt?(this._messageHandler=xt,this._port=gt,this._webWorker=gt,this._readyCapability.resolve(),xt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),xt.destroy(),gt.terminate())}),xt.on("ready",Yt=>{if(gt.removeEventListener("error",wt),this.destroyed){Tt();return}try{kt()}catch{this._setupFakeWorker()}});const kt=()=>{const Yt=new Uint8Array;xt.send("test",Yt,[Yt.buffer])};kt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ht=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const gt=new LoopbackPort;this._port=gt;const xt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Tt=new _message_handler.MessageHandler(xt+"_worker",xt,gt);ht.setup(Tt,gt);const wt=new _message_handler.MessageHandler(xt,xt+"_worker",gt);this._messageHandler=wt,this._readyCapability.resolve(),wt.send("configure",{verbosity:this.verbosity})}).catch(ht=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ht.message}".`))})}destroy(){var ht;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ht=vt(_PDFWorker,_e))==null||ht.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ht){var xt;if(!(ht!=null&&ht.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const gt=(xt=vt(this,_e))==null?void 0:xt.get(ht.port);if(gt){if(gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return gt}return new _PDFWorker(ht)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ht;try{return((ht=globalThis.pdfjsWorker)==null?void 0:ht.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_e=new WeakMap,Cn(_PDFWorker,_e);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(gt,xt,Tt,wt,kt){Cn(this,dt);Cn(this,et,new Map);Cn(this,rt,new Map);Cn(this,st,new Map);Cn(this,lt,null);this.messageHandler=gt,this.loadingTask=xt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:wt.ownerDocument,styleElement:wt.styleElement}),this._params=wt,this.canvasFactory=kt.canvasFactory,this.filterFactory=kt.filterFactory,this.cMapReaderFactory=kt.cMapReaderFactory,this.standardFontDataFactory=kt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Tt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(gt,xt=_util.AnnotationMode.ENABLE,Tt=null,wt=!1){let kt=_util.RenderingIntentFlag.DISPLAY,Yt=_annotation_storage.SerializableEmpty;switch(gt){case"any":kt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":kt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${gt}`)}switch(xt){case _util.AnnotationMode.DISABLE:kt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:kt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:kt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Yt=(kt&_util.RenderingIntentFlag.PRINT&&Tt instanceof _annotation_storage.PrintAnnotationStorage?Tt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${xt}`)}return wt&&(kt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:kt,cacheKey:`${kt}_${Yt.hash}`,annotationStorageSerializable:Yt}}destroy(){var Tt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Tt=vt(this,lt))==null||Tt.reject(new Error("Worker was destroyed during onPassword callback"));const gt=[];for(const wt of vt(this,rt).values())gt.push(wt._destroy());vt(this,rt).clear(),vt(this,st).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const xt=this.messageHandler.sendWithPromise("Terminate",null);return gt.push(xt),Promise.all(gt).then(()=>{var wt;this.commonObjs.clear(),this.fontLoader.clear(),vt(this,et).clear(),this.filterFactory.destroy(),(wt=this._networkStream)==null||wt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:gt,loadingTask:xt}=this;gt.on("GetReader",(Tt,wt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=kt=>{this._lastProgress={loaded:kt.loaded,total:kt.total}},wt.onPull=()=>{this._fullReader.read().then(function({value:kt,done:Yt}){if(Yt){wt.close();return}(0,_util.assert)(kt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),wt.enqueue(new Uint8Array(kt),1,[kt])}).catch(kt=>{wt.error(kt)})},wt.onCancel=kt=>{this._fullReader.cancel(kt),wt.ready.catch(Yt=>{if(!this.destroyed)throw Yt})}}),gt.on("ReaderHeadersReady",Tt=>{const wt=new _util.PromiseCapability,kt=this._fullReader;return kt.headersReady.then(()=>{var Yt;(!kt.isStreamingSupported||!kt.isRangeSupported)&&(this._lastProgress&&((Yt=xt.onProgress)==null||Yt.call(xt,this._lastProgress)),kt.onProgress=fn=>{var an;(an=xt.onProgress)==null||an.call(xt,{loaded:fn.loaded,total:fn.total})}),wt.resolve({isStreamingSupported:kt.isStreamingSupported,isRangeSupported:kt.isRangeSupported,contentLength:kt.contentLength})},wt.reject),wt.promise}),gt.on("GetRangeReader",(Tt,wt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const kt=this._networkStream.getRangeReader(Tt.begin,Tt.end);if(!kt){wt.close();return}wt.onPull=()=>{kt.read().then(function({value:Yt,done:fn}){if(fn){wt.close();return}(0,_util.assert)(Yt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),wt.enqueue(new Uint8Array(Yt),1,[Yt])}).catch(Yt=>{wt.error(Yt)})},wt.onCancel=Yt=>{kt.cancel(Yt),wt.ready.catch(fn=>{if(!this.destroyed)throw fn})}}),gt.on("GetDoc",({pdfInfo:Tt})=>{this._numPages=Tt.numPages,this._htmlForXfa=Tt.htmlForXfa,delete Tt.htmlForXfa,xt._capability.resolve(new PDFDocumentProxy(Tt,this))}),gt.on("DocException",function(Tt){let wt;switch(Tt.name){case"PasswordException":wt=new _util.PasswordException(Tt.message,Tt.code);break;case"InvalidPDFException":wt=new _util.InvalidPDFException(Tt.message);break;case"MissingPDFException":wt=new _util.MissingPDFException(Tt.message);break;case"UnexpectedResponseException":wt=new _util.UnexpectedResponseException(Tt.message,Tt.status);break;case"UnknownErrorException":wt=new _util.UnknownErrorException(Tt.message,Tt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}xt._capability.reject(wt)}),gt.on("PasswordRequest",Tt=>{if(wn(this,lt,new _util.PromiseCapability),xt.onPassword){const wt=kt=>{kt instanceof Error?vt(this,lt).reject(kt):vt(this,lt).resolve({password:kt})};try{xt.onPassword(wt,Tt.code)}catch(kt){vt(this,lt).reject(kt)}}else vt(this,lt).reject(new _util.PasswordException(Tt.message,Tt.code));return vt(this,lt).promise}),gt.on("DataLoaded",Tt=>{var wt;(wt=xt.onProgress)==null||wt.call(xt,{loaded:Tt.length,total:Tt.length}),this.downloadInfoCapability.resolve(Tt)}),gt.on("StartRenderPage",Tt=>{if(this.destroyed)return;vt(this,rt).get(Tt.pageIndex)._startRenderPage(Tt.transparency,Tt.cacheKey)}),gt.on("commonobj",([Tt,wt,kt])=>{var Yt;if(!this.destroyed&&!this.commonObjs.has(Tt))switch(wt){case"Font":const fn=this._params;if("error"in kt){const on=kt.error;(0,_util.warn)(`Error during font loading: ${on}`),this.commonObjs.resolve(Tt,on);break}const an=fn.pdfBug&&((Yt=globalThis.FontInspector)!=null&&Yt.enabled)?(on,Jt)=>globalThis.FontInspector.fontAdded(on,Jt):null,dn=new _font_loader.FontFaceObject(kt,{isEvalSupported:fn.isEvalSupported,disableFontFace:fn.disableFontFace,ignoreErrors:fn.ignoreErrors,inspectFont:an});this.fontLoader.bind(dn).catch(on=>gt.sendWithPromise("FontFallback",{id:Tt})).finally(()=>{!fn.fontExtraProperties&&dn.data&&(dn.data=null),this.commonObjs.resolve(Tt,dn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Tt,kt);break;default:throw new Error(`Got unknown common object type ${wt}`)}}),gt.on("obj",([Tt,wt,kt,Yt])=>{var an;if(this.destroyed)return;const fn=vt(this,rt).get(wt);if(!fn.objs.has(Tt))switch(kt){case"Image":if(fn.objs.resolve(Tt,Yt),Yt){let dn;if(Yt.bitmap){const{width:on,height:Jt}=Yt;dn=on*Jt*4}else dn=((an=Yt.data)==null?void 0:an.length)||0;dn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(fn._maybeCleanupAfterRender=!0)}break;case"Pattern":fn.objs.resolve(Tt,Yt);break;default:throw new Error(`Got unknown object type ${kt}`)}}),gt.on("DocProgress",Tt=>{var wt;this.destroyed||(wt=xt.onProgress)==null||wt.call(xt,{loaded:Tt.loaded,total:Tt.total})}),gt.on("FetchBuiltInCMap",Tt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Tt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),gt.on("FetchStandardFontData",Tt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Tt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Tt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:gt,transfers:xt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:gt,filename:((Tt=this._fullReader)==null?void 0:Tt.filename)??null},xt).finally(()=>{this.annotationStorage.resetModified()})}getPage(gt){if(!Number.isInteger(gt)||gt<=0||gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const xt=gt-1,Tt=vt(this,st).get(xt);if(Tt)return Tt;const wt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:xt}).then(kt=>{if(this.destroyed)throw new Error("Transport destroyed");const Yt=new PDFPageProxy(xt,kt,this,this._params.pdfBug);return vt(this,rt).set(xt,Yt),Yt});return vt(this,st).set(xt,wt),wt}getPageIndex(gt){return typeof gt!="object"||gt===null||!Number.isInteger(gt.num)||gt.num<0||!Number.isInteger(gt.gen)||gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:gt.num,gen:gt.gen})}getAnnotations(gt,xt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:gt,intent:xt})}getFieldObjects(){return En(this,dt,Ps).call(this,"GetFieldObjects")}hasJSActions(){return En(this,dt,Ps).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(gt){return typeof gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return En(this,dt,Ps).call(this,"GetDocJSActions")}getPageJSActions(gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:gt})}getStructTree(gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(gt=>new _optional_content_config.OptionalContentConfig(gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const gt="GetMetadata",xt=vt(this,et).get(gt);if(xt)return xt;const Tt=this.messageHandler.sendWithPromise(gt,null).then(wt=>{var kt,Yt;return{info:wt[0],metadata:wt[1]?new _metadata.Metadata(wt[1]):null,contentDispositionFilename:((kt=this._fullReader)==null?void 0:kt.filename)??null,contentLength:((Yt=this._fullReader)==null?void 0:Yt.contentLength)??null}});return vt(this,et).set(gt,Tt),Tt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const xt of vt(this,rt).values())if(!xt.cleanup())throw new Error(`startCleanup: Page ${xt.pageNumber} is currently rendering.`);this.commonObjs.clear(),gt||this.fontLoader.clear(),vt(this,et).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:gt,enableXfa:xt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:gt,enableXfa:xt})}}et=new WeakMap,rt=new WeakMap,st=new WeakMap,lt=new WeakMap,dt=new WeakSet,Ps=function(gt,xt=null){const Tt=vt(this,et).get(gt);if(Tt)return Tt;const wt=this.messageHandler.sendWithPromise(gt,xt);return vt(this,et).set(gt,wt),wt};class PDFObjects{constructor(){Cn(this,it);Cn(this,tt,Object.create(null))}get(gt,xt=null){if(xt){const wt=En(this,it,Ys).call(this,gt);return wt.capability.promise.then(()=>xt(wt.data)),null}const Tt=vt(this,tt)[gt];if(!(Tt!=null&&Tt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${gt}.`);return Tt.data}has(gt){const xt=vt(this,tt)[gt];return(xt==null?void 0:xt.capability.settled)||!1}resolve(gt,xt=null){const Tt=En(this,it,Ys).call(this,gt);Tt.data=xt,Tt.capability.resolve()}clear(){var gt;for(const xt in vt(this,tt)){const{data:Tt}=vt(this,tt)[xt];(gt=Tt==null?void 0:Tt.bitmap)==null||gt.close()}wn(this,tt,Object.create(null))}}tt=new WeakMap,it=new WeakSet,Ys=function(gt){var xt;return(xt=vt(this,tt))[gt]||(xt[gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(gt){Cn(this,mt,null);wn(this,mt,gt),this.onContinue=null}get promise(){return vt(this,mt).capability.promise}cancel(gt=0){vt(this,mt).cancel(null,gt)}get separateAnnots(){const{separateAnnots:gt}=vt(this,mt).operatorList;if(!gt)return!1;const{annotationCanvasMap:xt}=vt(this,mt);return gt.form||gt.canvas&&(xt==null?void 0:xt.size)>0}}mt=new WeakMap,exports.RenderTask=RenderTask;const pt=class pt{constructor({callback:gt,params:xt,objs:Tt,commonObjs:wt,annotationCanvasMap:kt,operatorList:Yt,pageIndex:fn,canvasFactory:an,filterFactory:dn,useRequestAnimationFrame:on=!1,pdfBug:Jt=!1,pageColors:Rt=null}){this.callback=gt,this.params=xt,this.objs=Tt,this.commonObjs=wt,this.annotationCanvasMap=kt,this.operatorListIdx=null,this.operatorList=Yt,this._pageIndex=fn,this.canvasFactory=an,this.filterFactory=dn,this._pdfBug=Jt,this.pageColors=Rt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=on===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=xt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:gt=!1,optionalContentConfig:xt}){var fn,an;if(this.cancelled)return;if(this._canvas){if(vt(pt,ot).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");vt(pt,ot).add(this._canvas)}this._pdfBug&&((fn=globalThis.StepperManager)!=null&&fn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Tt,viewport:wt,transform:kt,background:Yt}=this.params;this.gfx=new _canvas.CanvasGraphics(Tt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:xt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:kt,viewport:wt,transparency:gt,background:Yt}),this.operatorListIdx=0,this.graphicsReady=!0,(an=this.graphicsReadyCallback)==null||an.call(this)}cancel(gt=null,xt=0){var Tt;this.running=!1,this.cancelled=!0,(Tt=this.gfx)==null||Tt.endDrawing(),vt(pt,ot).delete(this._canvas),this.callback(gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,xt))}operatorListChanged(){var gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(gt=this.stepper)==null||gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),vt(pt,ot).delete(this._canvas),this.callback())))}};ot=new WeakMap,Cn(pt,ot,new WeakSet);let InternalRenderTask=pt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(s,i,o)=>{var $,_e,et,Uo,st;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var a=o(1),c=o(4),h=o(8);const g=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=g;class b{constructor(){Cn(this,et);Cn(this,$,!1);Cn(this,_e,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(dt,nt){const tt=vt(this,_e).get(dt);return tt===void 0?nt:Object.assign(nt,tt)}getRawValue(dt){return vt(this,_e).get(dt)}remove(dt){if(vt(this,_e).delete(dt),vt(this,_e).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const nt of vt(this,_e).values())if(nt instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(dt,nt){const tt=vt(this,_e).get(dt);let it=!1;if(tt!==void 0)for(const[at,mt]of Object.entries(nt))tt[at]!==mt&&(it=!0,tt[at]=mt);else it=!0,vt(this,_e).set(dt,nt);it&&En(this,et,Uo).call(this),nt instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(nt.constructor._type)}has(dt){return vt(this,_e).has(dt)}getAll(){return vt(this,_e).size>0?(0,a.objectFromMap)(vt(this,_e)):null}setAll(dt){for(const[nt,tt]of Object.entries(dt))this.setValue(nt,tt)}get size(){return vt(this,_e).size}resetModified(){vt(this,$)&&(wn(this,$,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _(this)}get serializable(){if(vt(this,_e).size===0)return g;const dt=new Map,nt=new h.MurmurHash3_64,tt=[],it=Object.create(null);let at=!1;for(const[mt,ot]of vt(this,_e)){const pt=ot instanceof c.AnnotationEditor?ot.serialize(!1,it):ot;pt&&(dt.set(mt,pt),nt.update(`${mt}:${JSON.stringify(pt)}`),at||(at=!!pt.bitmap))}if(at)for(const mt of dt.values())mt.bitmap&&tt.push(mt.bitmap);return dt.size>0?{map:dt,hash:nt.hexdigest(),transfers:tt}:g}}$=new WeakMap,_e=new WeakMap,et=new WeakSet,Uo=function(){vt(this,$)||(wn(this,$,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=b;class _ extends b{constructor(nt){super();Cn(this,st);const{map:tt,hash:it,transfers:at}=nt.serializable,mt=structuredClone(tt,at?{transfer:at}:null);wn(this,st,{map:mt,hash:it,transfers:at})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return vt(this,st)}}st=new WeakMap,i.PrintAnnotationStorage=_},(s,i,o)=>{var _,$,_e,et,rt,st,lt,dt,nt,tt,it,at,mt,ot,pt,Ks,Zs,xt,Qs,Js,Wo,Vo,Ho,eo,Go;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var a=o(5),c=o(1),h=o(6);const on=class on{constructor(Rt){Cn(this,pt);Cn(this,_,"");Cn(this,$,!1);Cn(this,_e,null);Cn(this,et,null);Cn(this,rt,null);Cn(this,st,!1);Cn(this,lt,null);Cn(this,dt,this.focusin.bind(this));Cn(this,nt,this.focusout.bind(this));Cn(this,tt,!1);Cn(this,it,!1);Cn(this,at,!1);Sr(this,"_initialOptions",Object.create(null));Sr(this,"_uiManager",null);Sr(this,"_focusEventsAllowed",!0);Sr(this,"_l10nPromise",null);Cn(this,mt,!1);Cn(this,ot,on._zIndex++);this.constructor===on&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Rt.parent,this.id=Rt.id,this.width=this.height=null,this.pageIndex=Rt.parent.pageIndex,this.name=Rt.name,this.div=null,this._uiManager=Rt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Rt.isCentered,this._structTreeParentId=null;const{rotation:zt,rawDims:{pageWidth:nn,pageHeight:Nt,pageX:Et,pageY:St}}=this.parent.viewport;this.rotation=zt,this.pageRotation=(360+zt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[nn,Nt],this.pageTranslation=[Et,St];const[jt,en]=this.parentDimensions;this.x=Rt.x/jt,this.y=Rt.y/en,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Rt){const zt=new b({id:Rt.parent.getNextId(),parent:Rt.parent,uiManager:Rt._uiManager});zt.annotationElementId=Rt.annotationElementId,zt.deleted=!0,zt._uiManager.addToAnnotationStorage(zt)}static initialize(Rt,zt=null){if(on._l10nPromise||(on._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Nt=>[Nt,Rt.get(Nt)]))),zt!=null&&zt.strings)for(const Nt of zt.strings)on._l10nPromise.set(Nt,Rt.get(Nt));if(on._borderLineWidth!==-1)return;const nn=getComputedStyle(document.documentElement);on._borderLineWidth=parseFloat(nn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Rt,zt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Rt){return!1}static paste(Rt,zt){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return vt(this,mt)}set _isDraggable(Rt){var zt;wn(this,mt,Rt),(zt=this.div)==null||zt.classList.toggle("draggable",Rt)}center(){const[Rt,zt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*zt/(Rt*2),this.y+=this.width*Rt/(zt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*zt/(Rt*2),this.y-=this.width*Rt/(zt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Rt){this._uiManager.addCommands(Rt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=vt(this,ot)}setParent(Rt){Rt!==null&&(this.pageIndex=Rt.pageIndex,this.pageDimensions=Rt.pageDimensions),this.parent=Rt}focusin(Rt){this._focusEventsAllowed&&(vt(this,tt)?wn(this,tt,!1):this.parent.setSelected(this))}focusout(Rt){var nn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const zt=Rt.relatedTarget;zt!=null&&zt.closest(`#${this.id}`)||(Rt.preventDefault(),(nn=this.parent)!=null&&nn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Rt,zt,nn,Nt){const[Et,St]=this.parentDimensions;[nn,Nt]=this.screenToPageTranslation(nn,Nt),this.x=(Rt+nn)/Et,this.y=(zt+Nt)/St,this.fixAndSetPosition()}translate(Rt,zt){En(this,pt,Ks).call(this,this.parentDimensions,Rt,zt)}translateInPage(Rt,zt){En(this,pt,Ks).call(this,this.pageDimensions,Rt,zt),this.div.scrollIntoView({block:"nearest"})}drag(Rt,zt){const[nn,Nt]=this.parentDimensions;if(this.x+=Rt/nn,this.y+=zt/Nt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:sn,y:rn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,sn,rn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Et,y:St}=this;const[jt,en]=En(this,pt,Zs).call(this);Et+=jt,St+=en,this.div.style.left=`${(100*Et).toFixed(2)}%`,this.div.style.top=`${(100*St).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Rt,zt]=this.pageDimensions;let{x:nn,y:Nt,width:Et,height:St}=this;switch(Et*=Rt,St*=zt,nn*=Rt,Nt*=zt,this.rotation){case 0:nn=Math.max(0,Math.min(Rt-Et,nn)),Nt=Math.max(0,Math.min(zt-St,Nt));break;case 90:nn=Math.max(0,Math.min(Rt-St,nn)),Nt=Math.min(zt,Math.max(Et,Nt));break;case 180:nn=Math.min(Rt,Math.max(Et,nn)),Nt=Math.min(zt,Math.max(St,Nt));break;case 270:nn=Math.min(Rt,Math.max(St,nn)),Nt=Math.max(0,Math.min(zt-Et,Nt));break}this.x=nn/=Rt,this.y=Nt/=zt;const[jt,en]=En(this,pt,Zs).call(this);nn+=jt,Nt+=en;const{style:sn}=this.div;sn.left=`${(100*nn).toFixed(2)}%`,sn.top=`${(100*Nt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Rt,zt){var nn;return En(nn=on,xt,Qs).call(nn,Rt,zt,this.parentRotation)}pageTranslationToScreen(Rt,zt){var nn;return En(nn=on,xt,Qs).call(nn,Rt,zt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Rt,pageDimensions:[zt,nn]}=this,Nt=zt*Rt,Et=nn*Rt;return c.FeatureTest.isCSSRoundSupported?[Math.round(Nt),Math.round(Et)]:[Nt,Et]}setDims(Rt,zt){var Et;const[nn,Nt]=this.parentDimensions;this.div.style.width=`${(100*Rt/nn).toFixed(2)}%`,vt(this,st)||(this.div.style.height=`${(100*zt/Nt).toFixed(2)}%`),(Et=vt(this,_e))==null||Et.classList.toggle("small",Rt<on.SMALL_EDITOR_SIZE||zt<on.SMALL_EDITOR_SIZE)}fixDims(){const{style:Rt}=this.div,{height:zt,width:nn}=Rt,Nt=nn.endsWith("%"),Et=!vt(this,st)&&zt.endsWith("%");if(Nt&&Et)return;const[St,jt]=this.parentDimensions;Nt||(Rt.width=`${(100*parseFloat(nn)/St).toFixed(2)}%`),!vt(this,st)&&!Et&&(Rt.height=`${(100*parseFloat(zt)/jt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(vt(this,_e))return;const Rt=wn(this,_e,document.createElement("button"));Rt.className="altText";const zt=await on._l10nPromise.get("editor_alt_text_button_label");Rt.textContent=zt,Rt.setAttribute("aria-label",zt),Rt.tabIndex="0",Rt.addEventListener("contextmenu",h.noContextMenu),Rt.addEventListener("pointerdown",nn=>nn.stopPropagation()),Rt.addEventListener("click",nn=>{nn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Rt.addEventListener("keydown",nn=>{nn.target===Rt&&nn.key==="Enter"&&(nn.preventDefault(),this._uiManager.editAltText(this))}),En(this,pt,eo).call(this),this.div.append(Rt),on.SMALL_EDITOR_SIZE||(on.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Rt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:vt(this,_),decorative:vt(this,$)}}set altTextData({altText:Rt,decorative:zt}){vt(this,_)===Rt&&vt(this,$)===zt||(wn(this,_,Rt),wn(this,$,zt),En(this,pt,eo).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",vt(this,dt)),this.div.addEventListener("focusout",vt(this,nt));const[Rt,zt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*zt/Rt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Rt/zt).toFixed(2)}%`);const[nn,Nt]=this.getInitialTranslation();return this.translate(nn,Nt),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Rt){const{isMac:zt}=c.FeatureTest.platform;if(Rt.button!==0||Rt.ctrlKey&&zt){Rt.preventDefault();return}wn(this,tt,!0),En(this,pt,Go).call(this,Rt)}moveInDOM(){var Rt;(Rt=this.parent)==null||Rt.moveEditorInDOM(this)}_setParentAndPosition(Rt,zt,nn){Rt.changeParent(this),this.x=zt,this.y=nn,this.fixAndSetPosition()}getRect(Rt,zt){const nn=this.parentScale,[Nt,Et]=this.pageDimensions,[St,jt]=this.pageTranslation,en=Rt/nn,sn=zt/nn,rn=this.x*Nt,vn=this.y*Et,_n=this.width*Nt,In=this.height*Et;switch(this.rotation){case 0:return[rn+en+St,Et-vn-sn-In+jt,rn+en+_n+St,Et-vn-sn+jt];case 90:return[rn+sn+St,Et-vn+en+jt,rn+sn+In+St,Et-vn+en+_n+jt];case 180:return[rn-en-_n+St,Et-vn+sn+jt,rn-en+St,Et-vn+sn+In+jt];case 270:return[rn-sn-In+St,Et-vn-en-_n+jt,rn-sn+St,Et-vn-en+jt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Rt,zt){const[nn,Nt,Et,St]=Rt,jt=Et-nn,en=St-Nt;switch(this.rotation){case 0:return[nn,zt-St,jt,en];case 90:return[nn,zt-Nt,en,jt];case 180:return[Et,zt-Nt,jt,en];case 270:return[Et,zt-St,en,jt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){wn(this,at,!0)}disableEditMode(){wn(this,at,!1)}isInEditMode(){return vt(this,at)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Rt,zt;(Rt=this.div)==null||Rt.addEventListener("focusin",vt(this,dt)),(zt=this.div)==null||zt.addEventListener("focusout",vt(this,nt))}serialize(Rt=!1,zt=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(Rt,zt,nn){const Nt=new this.prototype.constructor({parent:zt,id:zt.getNextId(),uiManager:nn});Nt.rotation=Rt.rotation;const[Et,St]=Nt.pageDimensions,[jt,en,sn,rn]=Nt.getRectInCurrentCoords(Rt.rect,St);return Nt.x=jt/Et,Nt.y=en/St,Nt.width=sn/Et,Nt.height=rn/St,Nt}remove(){var Rt;this.div.removeEventListener("focusin",vt(this,dt)),this.div.removeEventListener("focusout",vt(this,nt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Rt=vt(this,_e))==null||Rt.remove(),wn(this,_e,null),wn(this,et,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(En(this,pt,Wo).call(this),vt(this,lt).classList.remove("hidden"))}select(){var Rt;this.makeResizable(),(Rt=this.div)==null||Rt.classList.add("selectedEditor")}unselect(){var Rt,zt,nn;(Rt=vt(this,lt))==null||Rt.classList.add("hidden"),(zt=this.div)==null||zt.classList.remove("selectedEditor"),(nn=this.div)!=null&&nn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Rt,zt){}disableEditing(){vt(this,_e)&&(vt(this,_e).hidden=!0)}enableEditing(){vt(this,_e)&&(vt(this,_e).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return vt(this,it)}set isEditing(Rt){wn(this,it,Rt),this.parent&&(Rt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Rt,zt){wn(this,st,!0);const nn=Rt/zt,{style:Nt}=this.div;Nt.aspectRatio=nn,Nt.height="auto"}static get MIN_SIZE(){return 16}};_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,rt=new WeakMap,st=new WeakMap,lt=new WeakMap,dt=new WeakMap,nt=new WeakMap,tt=new WeakMap,it=new WeakMap,at=new WeakMap,mt=new WeakMap,ot=new WeakMap,pt=new WeakSet,Ks=function([Rt,zt],nn,Nt){[nn,Nt]=this.screenToPageTranslation(nn,Nt),this.x+=nn/Rt,this.y+=Nt/zt,this.fixAndSetPosition()},Zs=function(){const[Rt,zt]=this.parentDimensions,{_borderLineWidth:nn}=on,Nt=nn/Rt,Et=nn/zt;switch(this.rotation){case 90:return[-Nt,Et];case 180:return[Nt,Et];case 270:return[Nt,-Et];default:return[-Nt,-Et]}},xt=new WeakSet,Qs=function(Rt,zt,nn){switch(nn){case 90:return[zt,-Rt];case 180:return[-Rt,-zt];case 270:return[-zt,Rt];default:return[Rt,zt]}},Js=function(Rt){switch(Rt){case 90:{const[zt,nn]=this.pageDimensions;return[0,-zt/nn,nn/zt,0]}case 180:return[-1,0,0,-1];case 270:{const[zt,nn]=this.pageDimensions;return[0,zt/nn,-nn/zt,0]}default:return[1,0,0,1]}},Wo=function(){if(vt(this,lt))return;wn(this,lt,document.createElement("div")),vt(this,lt).classList.add("resizers");const Rt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Rt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const zt of Rt){const nn=document.createElement("div");vt(this,lt).append(nn),nn.classList.add("resizer",zt),nn.addEventListener("pointerdown",En(this,pt,Vo).bind(this,zt)),nn.addEventListener("contextmenu",h.noContextMenu)}this.div.prepend(vt(this,lt))},Vo=function(Rt,zt){zt.preventDefault();const{isMac:nn}=c.FeatureTest.platform;if(zt.button!==0||zt.ctrlKey&&nn)return;const Nt=En(this,pt,Ho).bind(this,Rt),Et=this._isDraggable;this._isDraggable=!1;const St={passive:!0,capture:!0};window.addEventListener("pointermove",Nt,St);const jt=this.x,en=this.y,sn=this.width,rn=this.height,vn=this.parent.div.style.cursor,_n=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(zt.target).cursor;const In=()=>{this._isDraggable=Et,window.removeEventListener("pointerup",In),window.removeEventListener("blur",In),window.removeEventListener("pointermove",Nt,St),this.parent.div.style.cursor=vn,this.div.style.cursor=_n;const Fn=this.x,$n=this.y,Un=this.width,Wn=this.height;Fn===jt&&$n===en&&Un===sn&&Wn===rn||this.addCommands({cmd:()=>{this.width=Un,this.height=Wn,this.x=Fn,this.y=$n;const[Rn,xn]=this.parentDimensions;this.setDims(Rn*Un,xn*Wn),this.fixAndSetPosition()},undo:()=>{this.width=sn,this.height=rn,this.x=jt,this.y=en;const[Rn,xn]=this.parentDimensions;this.setDims(Rn*sn,xn*rn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",In),window.addEventListener("blur",In)},Ho=function(Rt,zt){const[nn,Nt]=this.parentDimensions,Et=this.x,St=this.y,jt=this.width,en=this.height,sn=on.MIN_SIZE/nn,rn=on.MIN_SIZE/Nt,vn=nr=>Math.round(nr*1e4)/1e4,_n=En(this,pt,Js).call(this,this.rotation),In=(nr,ar)=>[_n[0]*nr+_n[2]*ar,_n[1]*nr+_n[3]*ar],Fn=En(this,pt,Js).call(this,360-this.rotation),$n=(nr,ar)=>[Fn[0]*nr+Fn[2]*ar,Fn[1]*nr+Fn[3]*ar];let Un,Wn,Rn=!1,xn=!1;switch(Rt){case"topLeft":Rn=!0,Un=(nr,ar)=>[0,0],Wn=(nr,ar)=>[nr,ar];break;case"topMiddle":Un=(nr,ar)=>[nr/2,0],Wn=(nr,ar)=>[nr/2,ar];break;case"topRight":Rn=!0,Un=(nr,ar)=>[nr,0],Wn=(nr,ar)=>[0,ar];break;case"middleRight":xn=!0,Un=(nr,ar)=>[nr,ar/2],Wn=(nr,ar)=>[0,ar/2];break;case"bottomRight":Rn=!0,Un=(nr,ar)=>[nr,ar],Wn=(nr,ar)=>[0,0];break;case"bottomMiddle":Un=(nr,ar)=>[nr/2,ar],Wn=(nr,ar)=>[nr/2,0];break;case"bottomLeft":Rn=!0,Un=(nr,ar)=>[0,ar],Wn=(nr,ar)=>[nr,0];break;case"middleLeft":xn=!0,Un=(nr,ar)=>[0,ar/2],Wn=(nr,ar)=>[nr,ar/2];break}const tn=Un(jt,en),hn=Wn(jt,en);let yn=In(...hn);const On=vn(Et+yn[0]),jn=vn(St+yn[1]);let zn=1,Vn=1,[Tn,Kn]=this.screenToPageTranslation(zt.movementX,zt.movementY);if([Tn,Kn]=$n(Tn/nn,Kn/Nt),Rn){const nr=Math.hypot(jt,en);zn=Vn=Math.max(Math.min(Math.hypot(hn[0]-tn[0]-Tn,hn[1]-tn[1]-Kn)/nr,1/jt,1/en),sn/jt,rn/en)}else xn?zn=Math.max(sn,Math.min(1,Math.abs(hn[0]-tn[0]-Tn)))/jt:Vn=Math.max(rn,Math.min(1,Math.abs(hn[1]-tn[1]-Kn)))/en;const Xn=vn(jt*zn),hr=vn(en*Vn);yn=In(...Wn(Xn,hr));const cr=On-yn[0],fr=jn-yn[1];this.width=Xn,this.height=hr,this.x=cr,this.y=fr,this.setDims(nn*Xn,Nt*hr),this.fixAndSetPosition()},eo=async function(){var nn;const Rt=vt(this,_e);if(!Rt)return;if(!vt(this,_)&&!vt(this,$)){Rt.classList.remove("done"),(nn=vt(this,et))==null||nn.remove();return}on._l10nPromise.get("editor_alt_text_edit_button_label").then(Nt=>{Rt.setAttribute("aria-label",Nt)});let zt=vt(this,et);if(!zt){wn(this,et,zt=document.createElement("span")),zt.className="tooltip",zt.setAttribute("role","tooltip");const Nt=zt.id=`alt-text-tooltip-${this.id}`;Rt.setAttribute("aria-describedby",Nt);const Et=100;Rt.addEventListener("mouseenter",()=>{wn(this,rt,setTimeout(()=>{wn(this,rt,null),vt(this,et).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Et))}),Rt.addEventListener("mouseleave",()=>{var St;clearTimeout(vt(this,rt)),wn(this,rt,null),(St=vt(this,et))==null||St.classList.remove("show")})}Rt.classList.add("done"),zt.innerText=vt(this,$)?await on._l10nPromise.get("editor_alt_text_decorative_tooltip"):vt(this,_),zt.parentNode||Rt.append(zt)},Go=function(Rt){if(!this._isDraggable)return;const zt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let nn,Nt;zt&&(nn={passive:!0,capture:!0},Nt=St=>{const[jt,en]=this.screenToPageTranslation(St.movementX,St.movementY);this._uiManager.dragSelectedEditors(jt,en)},window.addEventListener("pointermove",Nt,nn));const Et=()=>{if(window.removeEventListener("pointerup",Et),window.removeEventListener("blur",Et),zt&&window.removeEventListener("pointermove",Nt,nn),wn(this,tt,!1),!this._uiManager.endDragSession()){const{isMac:St}=c.FeatureTest.platform;Rt.ctrlKey&&!St||Rt.shiftKey||Rt.metaKey&&St?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Et),window.addEventListener("blur",Et)},Cn(on,xt),Sr(on,"_borderLineWidth",-1),Sr(on,"_colorManager",new a.ColorManager),Sr(on,"_zIndex",1),Sr(on,"SMALL_EDITOR_SIZE",0);let g=on;i.AnnotationEditor=g;class b extends g{constructor(Rt){super(Rt),this.annotationElementId=Rt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(s,i,o)=>{var st,lt,dt,nt,tt,to,mt,ot,pt,ht,gt,Xo,wt,kt,Yt,fn,an,dn,on,Jt,Rt,zt,nn,Nt,Et,St,jt,en,sn,rn,vn,_n,In,Fn,$n,Un,Wn,Rn,xn,tn,hn,yn,On,jn,zn,Vn,Tn,qo,no,ro,Ns,io,so,Lr,ys,Yo,Ko,oo,bs,ao;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=h,i.opacityToHex=g;var a=o(1),c=o(6);function h(gn,Bt,At){for(const Pn of At)Bt.addEventListener(Pn,gn[Pn].bind(gn))}function g(gn){return Math.round(Math.min(255,Math.max(1,255*gn))).toString(16).padStart(2,"0")}class b{constructor(){Cn(this,st,0)}getId(){return`${a.AnnotationEditorPrefix}${Wr(this,st)._++}`}}st=new WeakMap;const at=class at{constructor(){Cn(this,tt);Cn(this,lt,(0,a.getUuid)());Cn(this,dt,0);Cn(this,nt,null)}static get _isSVGFittingCanvas(){const Bt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Pn=new OffscreenCanvas(1,3).getContext("2d"),qn=new Image;qn.src=Bt;const yt=qn.decode().then(()=>(Pn.drawImage(qn,0,0,1,1,0,0,1,3),new Uint32Array(Pn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",yt)}async getFromFile(Bt){const{lastModified:At,name:Pn,size:qn,type:yt}=Bt;return En(this,tt,to).call(this,`${At}_${Pn}_${qn}_${yt}`,Bt)}async getFromUrl(Bt){return En(this,tt,to).call(this,Bt,Bt)}async getFromId(Bt){vt(this,nt)||wn(this,nt,new Map);const At=vt(this,nt).get(Bt);return At?At.bitmap?(At.refCounter+=1,At):At.file?this.getFromFile(At.file):this.getFromUrl(At.url):null}getSvgUrl(Bt){const At=vt(this,nt).get(Bt);return At!=null&&At.isSvg?At.svgUrl:null}deleteId(Bt){vt(this,nt)||wn(this,nt,new Map);const At=vt(this,nt).get(Bt);At&&(At.refCounter-=1,At.refCounter===0&&(At.bitmap=null))}isValidId(Bt){return Bt.startsWith(`image_${vt(this,lt)}_`)}};lt=new WeakMap,dt=new WeakMap,nt=new WeakMap,tt=new WeakSet,to=async function(Bt,At){vt(this,nt)||wn(this,nt,new Map);let Pn=vt(this,nt).get(Bt);if(Pn===null)return null;if(Pn!=null&&Pn.bitmap)return Pn.refCounter+=1,Pn;try{Pn||(Pn={bitmap:null,id:`image_${vt(this,lt)}_${Wr(this,dt)._++}`,refCounter:0,isSvg:!1});let qn;if(typeof At=="string"){Pn.url=At;const yt=await fetch(At);if(!yt.ok)throw new Error(yt.statusText);qn=await yt.blob()}else qn=Pn.file=At;if(qn.type==="image/svg+xml"){const yt=at._isSVGFittingCanvas,bn=new FileReader,Mt=new Image,bt=new Promise((Lt,un)=>{Mt.onload=()=>{Pn.bitmap=Mt,Pn.isSvg=!0,Lt()},bn.onload=async()=>{const Sn=Pn.svgUrl=bn.result;Mt.src=await yt?`${Sn}#svgView(preserveAspectRatio(none))`:Sn},Mt.onerror=bn.onerror=un});bn.readAsDataURL(qn),await bt}else Pn.bitmap=await createImageBitmap(qn);Pn.refCounter=1}catch(qn){console.error(qn),Pn=null}return vt(this,nt).set(Bt,Pn),Pn&&vt(this,nt).set(Pn.id,Pn),Pn};let _=at;class ${constructor(Bt=128){Cn(this,mt,[]);Cn(this,ot,!1);Cn(this,pt);Cn(this,ht,-1);wn(this,pt,Bt)}add({cmd:Bt,undo:At,mustExec:Pn,type:qn=NaN,overwriteIfSameType:yt=!1,keepUndo:bn=!1}){if(Pn&&Bt(),vt(this,ot))return;const Mt={cmd:Bt,undo:At,type:qn};if(vt(this,ht)===-1){vt(this,mt).length>0&&(vt(this,mt).length=0),wn(this,ht,0),vt(this,mt).push(Mt);return}if(yt&&vt(this,mt)[vt(this,ht)].type===qn){bn&&(Mt.undo=vt(this,mt)[vt(this,ht)].undo),vt(this,mt)[vt(this,ht)]=Mt;return}const bt=vt(this,ht)+1;bt===vt(this,pt)?vt(this,mt).splice(0,1):(wn(this,ht,bt),bt<vt(this,mt).length&&vt(this,mt).splice(bt)),vt(this,mt).push(Mt)}undo(){vt(this,ht)!==-1&&(wn(this,ot,!0),vt(this,mt)[vt(this,ht)].undo(),wn(this,ot,!1),wn(this,ht,vt(this,ht)-1))}redo(){vt(this,ht)<vt(this,mt).length-1&&(wn(this,ht,vt(this,ht)+1),wn(this,ot,!0),vt(this,mt)[vt(this,ht)].cmd(),wn(this,ot,!1))}hasSomethingToUndo(){return vt(this,ht)!==-1}hasSomethingToRedo(){return vt(this,ht)<vt(this,mt).length-1}destroy(){wn(this,mt,null)}}mt=new WeakMap,ot=new WeakMap,pt=new WeakMap,ht=new WeakMap,i.CommandManager=$;class _e{constructor(Bt){Cn(this,gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:At}=a.FeatureTest.platform;for(const[Pn,qn,yt={}]of Bt)for(const bn of Pn){const Mt=bn.startsWith("mac+");At&&Mt?(this.callbacks.set(bn.slice(4),{callback:qn,options:yt}),this.allKeys.add(bn.split("+").at(-1))):!At&&!Mt&&(this.callbacks.set(bn,{callback:qn,options:yt}),this.allKeys.add(bn.split("+").at(-1)))}}exec(Bt,At){if(!this.allKeys.has(At.key))return;const Pn=this.callbacks.get(En(this,gt,Xo).call(this,At));if(!Pn)return;const{callback:qn,options:{bubbles:yt=!1,args:bn=[],checker:Mt=null}}=Pn;Mt&&!Mt(Bt,At)||(qn.bind(Bt,...bn)(),yt||(At.stopPropagation(),At.preventDefault()))}}gt=new WeakSet,Xo=function(Bt){Bt.altKey&&this.buffer.push("alt"),Bt.ctrlKey&&this.buffer.push("ctrl"),Bt.metaKey&&this.buffer.push("meta"),Bt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bt.key);const At=this.buffer.join("+");return this.buffer.length=0,At},i.KeyboardManager=_e;const Tt=class Tt{get _colors(){const Bt=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(Bt),(0,a.shadow)(this,"_colors",Bt)}convert(Bt){const At=(0,c.getRGB)(Bt);if(!window.matchMedia("(forced-colors: active)").matches)return At;for(const[Pn,qn]of this._colors)if(qn.every((yt,bn)=>yt===At[bn]))return Tt._colorsMapping.get(Pn);return At}getHexCode(Bt){const At=this._colors.get(Bt);return At?a.Util.makeHexColor(...At):Bt}};Sr(Tt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let et=Tt;i.ColorManager=et;const Gn=class Gn{constructor(Bt,At,Pn,qn,yt,bn){Cn(this,Tn);Cn(this,wt,null);Cn(this,kt,new Map);Cn(this,Yt,new Map);Cn(this,fn,null);Cn(this,an,null);Cn(this,dn,new $);Cn(this,on,0);Cn(this,Jt,new Set);Cn(this,Rt,null);Cn(this,zt,null);Cn(this,nn,new Set);Cn(this,Nt,null);Cn(this,Et,new b);Cn(this,St,!1);Cn(this,jt,!1);Cn(this,en,null);Cn(this,sn,a.AnnotationEditorType.NONE);Cn(this,rn,new Set);Cn(this,vn,null);Cn(this,_n,this.blur.bind(this));Cn(this,In,this.focus.bind(this));Cn(this,Fn,this.copy.bind(this));Cn(this,$n,this.cut.bind(this));Cn(this,Un,this.paste.bind(this));Cn(this,Wn,this.keydown.bind(this));Cn(this,Rn,this.onEditingAction.bind(this));Cn(this,xn,this.onPageChanging.bind(this));Cn(this,tn,this.onScaleChanging.bind(this));Cn(this,hn,this.onRotationChanging.bind(this));Cn(this,yn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Cn(this,On,[0,0]);Cn(this,jn,null);Cn(this,zn,null);Cn(this,Vn,null);wn(this,zn,Bt),wn(this,Vn,At),wn(this,fn,Pn),this._eventBus=qn,this._eventBus._on("editingaction",vt(this,Rn)),this._eventBus._on("pagechanging",vt(this,xn)),this._eventBus._on("scalechanging",vt(this,tn)),this._eventBus._on("rotationchanging",vt(this,hn)),wn(this,an,yt.annotationStorage),wn(this,Nt,yt.filterFactory),wn(this,vn,bn),this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bt=Gn.prototype,At=yt=>{const{activeElement:bn}=document;return bn&&vt(yt,zn).contains(bn)&&yt.hasSomethingToControl()},Pn=this.TRANSLATE_SMALL,qn=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new _e([[["ctrl+a","mac+meta+a"],Bt.selectAll],[["ctrl+z","mac+meta+z"],Bt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bt.delete],[["Escape","mac+Escape"],Bt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bt.translateSelectedEditors,{args:[-Pn,0],checker:At}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bt.translateSelectedEditors,{args:[-qn,0],checker:At}],[["ArrowRight","mac+ArrowRight"],Bt.translateSelectedEditors,{args:[Pn,0],checker:At}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bt.translateSelectedEditors,{args:[qn,0],checker:At}],[["ArrowUp","mac+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-Pn],checker:At}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-qn],checker:At}],[["ArrowDown","mac+ArrowDown"],Bt.translateSelectedEditors,{args:[0,Pn],checker:At}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bt.translateSelectedEditors,{args:[0,qn],checker:At}]]))}destroy(){En(this,Tn,Ns).call(this),En(this,Tn,no).call(this),this._eventBus._off("editingaction",vt(this,Rn)),this._eventBus._off("pagechanging",vt(this,xn)),this._eventBus._off("scalechanging",vt(this,tn)),this._eventBus._off("rotationchanging",vt(this,hn));for(const Bt of vt(this,Yt).values())Bt.destroy();vt(this,Yt).clear(),vt(this,kt).clear(),vt(this,nn).clear(),wn(this,wt,null),vt(this,rn).clear(),vt(this,dn).destroy(),vt(this,fn).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",vt(this,vn)?vt(this,Nt).addHCMFilter(vt(this,vn).foreground,vt(this,vn).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(vt(this,zn)).direction)}editAltText(Bt){var At;(At=vt(this,fn))==null||At.editAltText(this,Bt)}onPageChanging({pageNumber:Bt}){wn(this,on,Bt-1)}focusMainContainer(){vt(this,zn).focus()}findParent(Bt,At){for(const Pn of vt(this,Yt).values()){const{x:qn,y:yt,width:bn,height:Mt}=Pn.div.getBoundingClientRect();if(Bt>=qn&&Bt<=qn+bn&&At>=yt&&At<=yt+Mt)return Pn}return null}disableUserSelect(Bt=!1){vt(this,Vn).classList.toggle("noUserSelect",Bt)}addShouldRescale(Bt){vt(this,nn).add(Bt)}removeShouldRescale(Bt){vt(this,nn).delete(Bt)}onScaleChanging({scale:Bt}){this.commitOrRemove(),this.viewParameters.realScale=Bt*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const At of vt(this,nn))At.onScaleChanging()}onRotationChanging({pagesRotation:Bt}){this.commitOrRemove(),this.viewParameters.rotation=Bt}addToAnnotationStorage(Bt){!Bt.isEmpty()&&vt(this,an)&&!vt(this,an).has(Bt.id)&&vt(this,an).setValue(Bt.id,Bt)}blur(){if(!this.hasSelection)return;const{activeElement:Bt}=document;for(const At of vt(this,rn))if(At.div.contains(Bt)){wn(this,en,[At,Bt]),At._focusEventsAllowed=!1;break}}focus(){if(!vt(this,en))return;const[Bt,At]=vt(this,en);wn(this,en,null),At.addEventListener("focusin",()=>{Bt._focusEventsAllowed=!0},{once:!0}),At.focus()}addEditListeners(){En(this,Tn,ro).call(this),En(this,Tn,io).call(this)}removeEditListeners(){En(this,Tn,Ns).call(this),En(this,Tn,so).call(this)}copy(Bt){var Pn;if(Bt.preventDefault(),(Pn=vt(this,wt))==null||Pn.commitOrRemove(),!this.hasSelection)return;const At=[];for(const qn of vt(this,rn)){const yt=qn.serialize(!0);yt&&At.push(yt)}At.length!==0&&Bt.clipboardData.setData("application/pdfjs",JSON.stringify(At))}cut(Bt){this.copy(Bt),this.delete()}paste(Bt){Bt.preventDefault();const{clipboardData:At}=Bt;for(const yt of At.items)for(const bn of vt(this,zt))if(bn.isHandlingMimeForPasting(yt.type)){bn.paste(yt,this.currentLayer);return}let Pn=At.getData("application/pdfjs");if(!Pn)return;try{Pn=JSON.parse(Pn)}catch(yt){(0,a.warn)(`paste: "${yt.message}".`);return}if(!Array.isArray(Pn))return;this.unselectAll();const qn=this.currentLayer;try{const yt=[];for(const bt of Pn){const Lt=qn.deserialize(bt);if(!Lt)return;yt.push(Lt)}const bn=()=>{for(const bt of yt)En(this,Tn,oo).call(this,bt);En(this,Tn,ao).call(this,yt)},Mt=()=>{for(const bt of yt)bt.remove()};this.addCommands({cmd:bn,undo:Mt,mustExec:!0})}catch(yt){(0,a.warn)(`paste: "${yt.message}".`)}}keydown(Bt){var At;(At=this.getActive())!=null&&At.shouldGetKeyboardEvents()||Gn._keyboardManager.exec(this,Bt)}onEditingAction(Bt){["undo","redo","delete","selectAll"].includes(Bt.name)&&this[Bt.name]()}setEditingState(Bt){Bt?(En(this,Tn,qo).call(this),En(this,Tn,ro).call(this),En(this,Tn,io).call(this),En(this,Tn,Lr).call(this,{isEditing:vt(this,sn)!==a.AnnotationEditorType.NONE,isEmpty:En(this,Tn,bs).call(this),hasSomethingToUndo:vt(this,dn).hasSomethingToUndo(),hasSomethingToRedo:vt(this,dn).hasSomethingToRedo(),hasSelectedEditor:!1})):(En(this,Tn,no).call(this),En(this,Tn,Ns).call(this),En(this,Tn,so).call(this),En(this,Tn,Lr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bt){if(!vt(this,zt)){wn(this,zt,Bt);for(const At of vt(this,zt))En(this,Tn,ys).call(this,At.defaultPropertiesToUpdate)}}getId(){return vt(this,Et).getId()}get currentLayer(){return vt(this,Yt).get(vt(this,on))}getLayer(Bt){return vt(this,Yt).get(Bt)}get currentPageIndex(){return vt(this,on)}addLayer(Bt){vt(this,Yt).set(Bt.pageIndex,Bt),vt(this,St)?Bt.enable():Bt.disable()}removeLayer(Bt){vt(this,Yt).delete(Bt.pageIndex)}updateMode(Bt,At=null){if(vt(this,sn)!==Bt){if(wn(this,sn,Bt),Bt===a.AnnotationEditorType.NONE){this.setEditingState(!1),En(this,Tn,Ko).call(this);return}this.setEditingState(!0),En(this,Tn,Yo).call(this),this.unselectAll();for(const Pn of vt(this,Yt).values())Pn.updateMode(Bt);if(At){for(const Pn of vt(this,kt).values())if(Pn.annotationElementId===At){this.setSelected(Pn),Pn.enterInEditMode();break}}}}updateToolbar(Bt){Bt!==vt(this,sn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bt})}updateParams(Bt,At){if(vt(this,zt)){if(Bt===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bt);return}for(const Pn of vt(this,rn))Pn.updateParams(Bt,At);for(const Pn of vt(this,zt))Pn.updateDefaultParams(Bt,At)}}enableWaiting(Bt=!1){if(vt(this,jt)!==Bt){wn(this,jt,Bt);for(const At of vt(this,Yt).values())Bt?At.disableClick():At.enableClick(),At.div.classList.toggle("waiting",Bt)}}getEditors(Bt){const At=[];for(const Pn of vt(this,kt).values())Pn.pageIndex===Bt&&At.push(Pn);return At}getEditor(Bt){return vt(this,kt).get(Bt)}addEditor(Bt){vt(this,kt).set(Bt.id,Bt)}removeEditor(Bt){var At;vt(this,kt).delete(Bt.id),this.unselect(Bt),(!Bt.annotationElementId||!vt(this,Jt).has(Bt.annotationElementId))&&((At=vt(this,an))==null||At.remove(Bt.id))}addDeletedAnnotationElement(Bt){vt(this,Jt).add(Bt.annotationElementId),Bt.deleted=!0}isDeletedAnnotationElement(Bt){return vt(this,Jt).has(Bt)}removeDeletedAnnotationElement(Bt){vt(this,Jt).delete(Bt.annotationElementId),Bt.deleted=!1}setActiveEditor(Bt){vt(this,wt)!==Bt&&(wn(this,wt,Bt),Bt&&En(this,Tn,ys).call(this,Bt.propertiesToUpdate))}toggleSelected(Bt){if(vt(this,rn).has(Bt)){vt(this,rn).delete(Bt),Bt.unselect(),En(this,Tn,Lr).call(this,{hasSelectedEditor:this.hasSelection});return}vt(this,rn).add(Bt),Bt.select(),En(this,Tn,ys).call(this,Bt.propertiesToUpdate),En(this,Tn,Lr).call(this,{hasSelectedEditor:!0})}setSelected(Bt){for(const At of vt(this,rn))At!==Bt&&At.unselect();vt(this,rn).clear(),vt(this,rn).add(Bt),Bt.select(),En(this,Tn,ys).call(this,Bt.propertiesToUpdate),En(this,Tn,Lr).call(this,{hasSelectedEditor:!0})}isSelected(Bt){return vt(this,rn).has(Bt)}unselect(Bt){Bt.unselect(),vt(this,rn).delete(Bt),En(this,Tn,Lr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return vt(this,rn).size!==0}undo(){vt(this,dn).undo(),En(this,Tn,Lr).call(this,{hasSomethingToUndo:vt(this,dn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:En(this,Tn,bs).call(this)})}redo(){vt(this,dn).redo(),En(this,Tn,Lr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:vt(this,dn).hasSomethingToRedo(),isEmpty:En(this,Tn,bs).call(this)})}addCommands(Bt){vt(this,dn).add(Bt),En(this,Tn,Lr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:En(this,Tn,bs).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bt=[...vt(this,rn)],At=()=>{for(const qn of Bt)qn.remove()},Pn=()=>{for(const qn of Bt)En(this,Tn,oo).call(this,qn)};this.addCommands({cmd:At,undo:Pn,mustExec:!0})}commitOrRemove(){var Bt;(Bt=vt(this,wt))==null||Bt.commitOrRemove()}hasSomethingToControl(){return vt(this,wt)||this.hasSelection}selectAll(){for(const Bt of vt(this,rn))Bt.commit();En(this,Tn,ao).call(this,vt(this,kt).values())}unselectAll(){if(vt(this,wt)){vt(this,wt).commitOrRemove();return}if(this.hasSelection){for(const Bt of vt(this,rn))Bt.unselect();vt(this,rn).clear(),En(this,Tn,Lr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bt,At,Pn=!1){if(Pn||this.commitOrRemove(),!this.hasSelection)return;vt(this,On)[0]+=Bt,vt(this,On)[1]+=At;const[qn,yt]=vt(this,On),bn=[...vt(this,rn)],Mt=1e3;vt(this,jn)&&clearTimeout(vt(this,jn)),wn(this,jn,setTimeout(()=>{wn(this,jn,null),vt(this,On)[0]=vt(this,On)[1]=0,this.addCommands({cmd:()=>{for(const bt of bn)vt(this,kt).has(bt.id)&&bt.translateInPage(qn,yt)},undo:()=>{for(const bt of bn)vt(this,kt).has(bt.id)&&bt.translateInPage(-qn,-yt)},mustExec:!1})},Mt));for(const bt of bn)bt.translateInPage(Bt,At)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),wn(this,Rt,new Map);for(const Bt of vt(this,rn))vt(this,Rt).set(Bt,{savedX:Bt.x,savedY:Bt.y,savedPageIndex:Bt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!vt(this,Rt))return!1;this.disableUserSelect(!1);const Bt=vt(this,Rt);wn(this,Rt,null);let At=!1;for(const[{x:qn,y:yt,pageIndex:bn},Mt]of Bt)Mt.newX=qn,Mt.newY=yt,Mt.newPageIndex=bn,At||(At=qn!==Mt.savedX||yt!==Mt.savedY||bn!==Mt.savedPageIndex);if(!At)return!1;const Pn=(qn,yt,bn,Mt)=>{if(vt(this,kt).has(qn.id)){const bt=vt(this,Yt).get(Mt);bt?qn._setParentAndPosition(bt,yt,bn):(qn.pageIndex=Mt,qn.x=yt,qn.y=bn)}};return this.addCommands({cmd:()=>{for(const[qn,{newX:yt,newY:bn,newPageIndex:Mt}]of Bt)Pn(qn,yt,bn,Mt)},undo:()=>{for(const[qn,{savedX:yt,savedY:bn,savedPageIndex:Mt}]of Bt)Pn(qn,yt,bn,Mt)},mustExec:!0}),!0}dragSelectedEditors(Bt,At){if(vt(this,Rt))for(const Pn of vt(this,Rt).keys())Pn.drag(Bt,At)}rebuild(Bt){if(Bt.parent===null){const At=this.getLayer(Bt.pageIndex);At?(At.changeParent(Bt),At.addOrRebuild(Bt)):(this.addEditor(Bt),this.addToAnnotationStorage(Bt),Bt.rebuild())}else Bt.parent.addOrRebuild(Bt)}isActive(Bt){return vt(this,wt)===Bt}getActive(){return vt(this,wt)}getMode(){return vt(this,sn)}get imageManager(){return(0,a.shadow)(this,"imageManager",new _)}};wt=new WeakMap,kt=new WeakMap,Yt=new WeakMap,fn=new WeakMap,an=new WeakMap,dn=new WeakMap,on=new WeakMap,Jt=new WeakMap,Rt=new WeakMap,zt=new WeakMap,nn=new WeakMap,Nt=new WeakMap,Et=new WeakMap,St=new WeakMap,jt=new WeakMap,en=new WeakMap,sn=new WeakMap,rn=new WeakMap,vn=new WeakMap,_n=new WeakMap,In=new WeakMap,Fn=new WeakMap,$n=new WeakMap,Un=new WeakMap,Wn=new WeakMap,Rn=new WeakMap,xn=new WeakMap,tn=new WeakMap,hn=new WeakMap,yn=new WeakMap,On=new WeakMap,jn=new WeakMap,zn=new WeakMap,Vn=new WeakMap,Tn=new WeakSet,qo=function(){window.addEventListener("focus",vt(this,In)),window.addEventListener("blur",vt(this,_n))},no=function(){window.removeEventListener("focus",vt(this,In)),window.removeEventListener("blur",vt(this,_n))},ro=function(){window.addEventListener("keydown",vt(this,Wn),{capture:!0})},Ns=function(){window.removeEventListener("keydown",vt(this,Wn),{capture:!0})},io=function(){document.addEventListener("copy",vt(this,Fn)),document.addEventListener("cut",vt(this,$n)),document.addEventListener("paste",vt(this,Un))},so=function(){document.removeEventListener("copy",vt(this,Fn)),document.removeEventListener("cut",vt(this,$n)),document.removeEventListener("paste",vt(this,Un))},Lr=function(Bt){Object.entries(Bt).some(([Pn,qn])=>vt(this,yn)[Pn]!==qn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(vt(this,yn),Bt)})},ys=function(Bt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bt})},Yo=function(){if(!vt(this,St)){wn(this,St,!0);for(const Bt of vt(this,Yt).values())Bt.enable()}},Ko=function(){if(this.unselectAll(),vt(this,St)){wn(this,St,!1);for(const Bt of vt(this,Yt).values())Bt.disable()}},oo=function(Bt){const At=vt(this,Yt).get(Bt.pageIndex);At?At.addOrRebuild(Bt):this.addEditor(Bt)},bs=function(){if(vt(this,kt).size===0)return!0;if(vt(this,kt).size===1)for(const Bt of vt(this,kt).values())return Bt.isEmpty();return!1},ao=function(Bt){vt(this,rn).clear();for(const At of Bt)At.isEmpty()||(vt(this,rn).add(At),At.select());En(this,Tn,Lr).call(this,{hasSelectedEditor:!0})},Sr(Gn,"TRANSLATE_SMALL",1),Sr(Gn,"TRANSLATE_BIG",10);let rt=Gn;i.AnnotationEditorUIManager=rt},(s,i,o)=>{var on,Jt,Rt,zt,nn,Nt,Et,St,jt,en,sn,rn,ns,rs,lo,Os,Is,Es,_s;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=ht,i.getColorValues=kt,i.getCurrentTransform=Yt,i.getCurrentTransformInverse=fn,i.getFilenameFromUrl=tt,i.getPdfFilenameFromUrl=it,i.getRGB=wt,i.getXfaPageViewport=Tt,i.isDataScheme=dt,i.isPdfFile=nt,i.isValidFetchUrl=mt,i.loadScript=pt,i.noContextMenu=ot,i.setLayerDimensions=an;var a=o(7),c=o(1);const h="http://www.w3.org/2000/svg",dn=class dn{};Sr(dn,"CSS",96),Sr(dn,"PDF",72),Sr(dn,"PDF_TO_CSS_UNITS",dn.CSS/dn.PDF);let g=dn;i.PixelsPerInch=g;class b extends a.BaseFilterFactory{constructor({docId:tn,ownerDocument:hn=globalThis.document}={}){super();Cn(this,rn);Cn(this,on);Cn(this,Jt);Cn(this,Rt);Cn(this,zt);Cn(this,nn);Cn(this,Nt);Cn(this,Et);Cn(this,St);Cn(this,jt);Cn(this,en);Cn(this,sn,0);wn(this,Rt,tn),wn(this,zt,hn)}addFilter(tn){if(!tn)return"none";let hn=vt(this,rn,ns).get(tn);if(hn)return hn;let yn,On,jn,zn;if(tn.length===1){const Xn=tn[0],hr=new Array(256);for(let cr=0;cr<256;cr++)hr[cr]=Xn[cr]/255;zn=yn=On=jn=hr.join(",")}else{const[Xn,hr,cr]=tn,fr=new Array(256),nr=new Array(256),ar=new Array(256);for(let dr=0;dr<256;dr++)fr[dr]=Xn[dr]/255,nr[dr]=hr[dr]/255,ar[dr]=cr[dr]/255;yn=fr.join(","),On=nr.join(","),jn=ar.join(","),zn=`${yn}${On}${jn}`}if(hn=vt(this,rn,ns).get(zn),hn)return vt(this,rn,ns).set(tn,hn),hn;const Vn=`g_${vt(this,Rt)}_transfer_map_${Wr(this,sn)._++}`,Tn=`url(#${Vn})`;vt(this,rn,ns).set(tn,Tn),vt(this,rn,ns).set(zn,Tn);const Kn=En(this,rn,Os).call(this,Vn);return En(this,rn,Es).call(this,yn,On,jn,Kn),Tn}addHCMFilter(tn,hn){var hr;const yn=`${tn}-${hn}`;if(vt(this,Nt)===yn)return vt(this,Et);if(wn(this,Nt,yn),wn(this,Et,"none"),(hr=vt(this,nn))==null||hr.remove(),!tn||!hn)return vt(this,Et);const On=En(this,rn,_s).call(this,tn);tn=c.Util.makeHexColor(...On);const jn=En(this,rn,_s).call(this,hn);if(hn=c.Util.makeHexColor(...jn),vt(this,rn,rs).style.color="",tn==="#000000"&&hn==="#ffffff"||tn===hn)return vt(this,Et);const zn=new Array(256);for(let cr=0;cr<=255;cr++){const fr=cr/255;zn[cr]=fr<=.03928?fr/12.92:((fr+.055)/1.055)**2.4}const Vn=zn.join(","),Tn=`g_${vt(this,Rt)}_hcm_filter`,Kn=wn(this,St,En(this,rn,Os).call(this,Tn));En(this,rn,Es).call(this,Vn,Vn,Vn,Kn),En(this,rn,lo).call(this,Kn);const Xn=(cr,fr)=>{const nr=On[cr]/255,ar=jn[cr]/255,dr=new Array(fr+1);for(let gr=0;gr<=fr;gr++)dr[gr]=nr+gr/fr*(ar-nr);return dr.join(",")};return En(this,rn,Es).call(this,Xn(0,5),Xn(1,5),Xn(2,5),Kn),wn(this,Et,`url(#${Tn})`),vt(this,Et)}addHighlightHCMFilter(tn,hn,yn,On){var ar;const jn=`${tn}-${hn}-${yn}-${On}`;if(vt(this,jt)===jn)return vt(this,en);if(wn(this,jt,jn),wn(this,en,"none"),(ar=vt(this,St))==null||ar.remove(),!tn||!hn)return vt(this,en);const[zn,Vn]=[tn,hn].map(En(this,rn,_s).bind(this));let Tn=Math.round(.2126*zn[0]+.7152*zn[1]+.0722*zn[2]),Kn=Math.round(.2126*Vn[0]+.7152*Vn[1]+.0722*Vn[2]),[Xn,hr]=[yn,On].map(En(this,rn,_s).bind(this));Kn<Tn&&([Tn,Kn,Xn,hr]=[Kn,Tn,hr,Xn]),vt(this,rn,rs).style.color="";const cr=(dr,gr,Hn)=>{const Pt=new Array(256),pn=(Kn-Tn)/Hn,An=dr/255,Gn=(gr-dr)/(255*Hn);let gn=0;for(let Bt=0;Bt<=Hn;Bt++){const At=Math.round(Tn+Bt*pn),Pn=An+Bt*Gn;for(let qn=gn;qn<=At;qn++)Pt[qn]=Pn;gn=At+1}for(let Bt=gn;Bt<256;Bt++)Pt[Bt]=Pt[gn-1];return Pt.join(",")},fr=`g_${vt(this,Rt)}_hcm_highlight_filter`,nr=wn(this,St,En(this,rn,Os).call(this,fr));return En(this,rn,lo).call(this,nr),En(this,rn,Es).call(this,cr(Xn[0],hr[0],5),cr(Xn[1],hr[1],5),cr(Xn[2],hr[2],5),nr),wn(this,en,`url(#${fr})`),vt(this,en)}destroy(tn=!1){tn&&(vt(this,Et)||vt(this,en))||(vt(this,Jt)&&(vt(this,Jt).parentNode.parentNode.remove(),wn(this,Jt,null)),vt(this,on)&&(vt(this,on).clear(),wn(this,on,null)),wn(this,sn,0))}}on=new WeakMap,Jt=new WeakMap,Rt=new WeakMap,zt=new WeakMap,nn=new WeakMap,Nt=new WeakMap,Et=new WeakMap,St=new WeakMap,jt=new WeakMap,en=new WeakMap,sn=new WeakMap,rn=new WeakSet,ns=function(){return vt(this,on)||wn(this,on,new Map)},rs=function(){if(!vt(this,Jt)){const tn=vt(this,zt).createElement("div"),{style:hn}=tn;hn.visibility="hidden",hn.contain="strict",hn.width=hn.height=0,hn.position="absolute",hn.top=hn.left=0,hn.zIndex=-1;const yn=vt(this,zt).createElementNS(h,"svg");yn.setAttribute("width",0),yn.setAttribute("height",0),wn(this,Jt,vt(this,zt).createElementNS(h,"defs")),tn.append(yn),yn.append(vt(this,Jt)),vt(this,zt).body.append(tn)}return vt(this,Jt)},lo=function(tn){const hn=vt(this,zt).createElementNS(h,"feColorMatrix");hn.setAttribute("type","matrix"),hn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),tn.append(hn)},Os=function(tn){const hn=vt(this,zt).createElementNS(h,"filter");return hn.setAttribute("color-interpolation-filters","sRGB"),hn.setAttribute("id",tn),vt(this,rn,rs).append(hn),hn},Is=function(tn,hn,yn){const On=vt(this,zt).createElementNS(h,hn);On.setAttribute("type","discrete"),On.setAttribute("tableValues",yn),tn.append(On)},Es=function(tn,hn,yn,On){const jn=vt(this,zt).createElementNS(h,"feComponentTransfer");On.append(jn),En(this,rn,Is).call(this,jn,"feFuncR",tn),En(this,rn,Is).call(this,jn,"feFuncG",hn),En(this,rn,Is).call(this,jn,"feFuncB",yn)},_s=function(tn){return vt(this,rn,rs).style.color=tn,wt(getComputedStyle(vt(this,rn,rs)).getPropertyValue("color"))},i.DOMFilterFactory=b;class _ extends a.BaseCanvasFactory{constructor({ownerDocument:xn=globalThis.document}={}){super(),this._document=xn}_createCanvas(xn,tn){const hn=this._document.createElement("canvas");return hn.width=xn,hn.height=tn,hn}}i.DOMCanvasFactory=_;async function $(Rn,xn=!1){if(mt(Rn,document.baseURI)){const tn=await fetch(Rn);if(!tn.ok)throw new Error(tn.statusText);return xn?new Uint8Array(await tn.arrayBuffer()):(0,c.stringToBytes)(await tn.text())}return new Promise((tn,hn)=>{const yn=new XMLHttpRequest;yn.open("GET",Rn,!0),xn&&(yn.responseType="arraybuffer"),yn.onreadystatechange=()=>{if(yn.readyState===XMLHttpRequest.DONE){if(yn.status===200||yn.status===0){let On;if(xn&&yn.response?On=new Uint8Array(yn.response):!xn&&yn.responseText&&(On=(0,c.stringToBytes)(yn.responseText)),On){tn(On);return}}hn(new Error(yn.statusText))}},yn.send(null)})}class _e extends a.BaseCMapReaderFactory{_fetchData(xn,tn){return $(xn,this.isCompressed).then(hn=>({cMapData:hn,compressionType:tn}))}}i.DOMCMapReaderFactory=_e;class et extends a.BaseStandardFontDataFactory{_fetchData(xn){return $(xn,!0)}}i.DOMStandardFontDataFactory=et;class rt extends a.BaseSVGFactory{_createSVG(xn){return document.createElementNS(h,xn)}}i.DOMSVGFactory=rt;class st{constructor({viewBox:xn,scale:tn,rotation:hn,offsetX:yn=0,offsetY:On=0,dontFlip:jn=!1}){this.viewBox=xn,this.scale=tn,this.rotation=hn,this.offsetX=yn,this.offsetY=On;const zn=(xn[2]+xn[0])/2,Vn=(xn[3]+xn[1])/2;let Tn,Kn,Xn,hr;switch(hn%=360,hn<0&&(hn+=360),hn){case 180:Tn=-1,Kn=0,Xn=0,hr=1;break;case 90:Tn=0,Kn=1,Xn=1,hr=0;break;case 270:Tn=0,Kn=-1,Xn=-1,hr=0;break;case 0:Tn=1,Kn=0,Xn=0,hr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}jn&&(Xn=-Xn,hr=-hr);let cr,fr,nr,ar;Tn===0?(cr=Math.abs(Vn-xn[1])*tn+yn,fr=Math.abs(zn-xn[0])*tn+On,nr=(xn[3]-xn[1])*tn,ar=(xn[2]-xn[0])*tn):(cr=Math.abs(zn-xn[0])*tn+yn,fr=Math.abs(Vn-xn[1])*tn+On,nr=(xn[2]-xn[0])*tn,ar=(xn[3]-xn[1])*tn),this.transform=[Tn*tn,Kn*tn,Xn*tn,hr*tn,cr-Tn*tn*zn-Xn*tn*Vn,fr-Kn*tn*zn-hr*tn*Vn],this.width=nr,this.height=ar}get rawDims(){const{viewBox:xn}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:xn[2]-xn[0],pageHeight:xn[3]-xn[1],pageX:xn[0],pageY:xn[1]})}clone({scale:xn=this.scale,rotation:tn=this.rotation,offsetX:hn=this.offsetX,offsetY:yn=this.offsetY,dontFlip:On=!1}={}){return new st({viewBox:this.viewBox.slice(),scale:xn,rotation:tn,offsetX:hn,offsetY:yn,dontFlip:On})}convertToViewportPoint(xn,tn){return c.Util.applyTransform([xn,tn],this.transform)}convertToViewportRectangle(xn){const tn=c.Util.applyTransform([xn[0],xn[1]],this.transform),hn=c.Util.applyTransform([xn[2],xn[3]],this.transform);return[tn[0],tn[1],hn[0],hn[1]]}convertToPdfPoint(xn,tn){return c.Util.applyInverseTransform([xn,tn],this.transform)}}i.PageViewport=st;class lt extends c.BaseException{constructor(xn,tn=0){super(xn,"RenderingCancelledException"),this.extraDelay=tn}}i.RenderingCancelledException=lt;function dt(Rn){const xn=Rn.length;let tn=0;for(;tn<xn&&Rn[tn].trim()==="";)tn++;return Rn.substring(tn,tn+5).toLowerCase()==="data:"}function nt(Rn){return typeof Rn=="string"&&/\.pdf$/i.test(Rn)}function tt(Rn,xn=!1){return xn||([Rn]=Rn.split(/[#?]/,1)),Rn.substring(Rn.lastIndexOf("/")+1)}function it(Rn,xn="document.pdf"){if(typeof Rn!="string")return xn;if(dt(Rn))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),xn;const tn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,hn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,yn=tn.exec(Rn);let On=hn.exec(yn[1])||hn.exec(yn[2])||hn.exec(yn[3]);if(On&&(On=On[0],On.includes("%")))try{On=hn.exec(decodeURIComponent(On))[0]}catch{}return On||xn}class at{constructor(){Sr(this,"started",Object.create(null));Sr(this,"times",[])}time(xn){xn in this.started&&(0,c.warn)(`Timer is already running for ${xn}`),this.started[xn]=Date.now()}timeEnd(xn){xn in this.started||(0,c.warn)(`Timer has not been started for ${xn}`),this.times.push({name:xn,start:this.started[xn],end:Date.now()}),delete this.started[xn]}toString(){const xn=[];let tn=0;for(const{name:hn}of this.times)tn=Math.max(hn.length,tn);for(const{name:hn,start:yn,end:On}of this.times)xn.push(`${hn.padEnd(tn)} ${On-yn}ms
`);return xn.join("")}}i.StatTimer=at;function mt(Rn,xn){try{const{protocol:tn}=xn?new URL(Rn,xn):new URL(Rn);return tn==="http:"||tn==="https:"}catch{return!1}}function ot(Rn){Rn.preventDefault()}function pt(Rn,xn=!1){return new Promise((tn,hn)=>{const yn=document.createElement("script");yn.src=Rn,yn.onload=function(On){xn&&yn.remove(),tn(On)},yn.onerror=function(){hn(new Error(`Cannot load script at: ${yn.src}`))},(document.head||document.documentElement).append(yn)})}function ht(Rn){console.log("Deprecated API usage: "+Rn)}let gt;class xt{static toDateObject(xn){if(!xn||typeof xn!="string")return null;gt||(gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const tn=gt.exec(xn);if(!tn)return null;const hn=parseInt(tn[1],10);let yn=parseInt(tn[2],10);yn=yn>=1&&yn<=12?yn-1:0;let On=parseInt(tn[3],10);On=On>=1&&On<=31?On:1;let jn=parseInt(tn[4],10);jn=jn>=0&&jn<=23?jn:0;let zn=parseInt(tn[5],10);zn=zn>=0&&zn<=59?zn:0;let Vn=parseInt(tn[6],10);Vn=Vn>=0&&Vn<=59?Vn:0;const Tn=tn[7]||"Z";let Kn=parseInt(tn[8],10);Kn=Kn>=0&&Kn<=23?Kn:0;let Xn=parseInt(tn[9],10)||0;return Xn=Xn>=0&&Xn<=59?Xn:0,Tn==="-"?(jn+=Kn,zn+=Xn):Tn==="+"&&(jn-=Kn,zn-=Xn),new Date(Date.UTC(hn,yn,On,jn,zn,Vn))}}i.PDFDateString=xt;function Tt(Rn,{scale:xn=1,rotation:tn=0}){const{width:hn,height:yn}=Rn.attributes.style,On=[0,0,parseInt(hn),parseInt(yn)];return new st({viewBox:On,scale:xn,rotation:tn})}function wt(Rn){if(Rn.startsWith("#")){const xn=parseInt(Rn.slice(1),16);return[(xn&16711680)>>16,(xn&65280)>>8,xn&255]}return Rn.startsWith("rgb(")?Rn.slice(4,-1).split(",").map(xn=>parseInt(xn)):Rn.startsWith("rgba(")?Rn.slice(5,-1).split(",").map(xn=>parseInt(xn)).slice(0,3):((0,c.warn)(`Not a valid color format: "${Rn}"`),[0,0,0])}function kt(Rn){const xn=document.createElement("span");xn.style.visibility="hidden",document.body.append(xn);for(const tn of Rn.keys()){xn.style.color=tn;const hn=window.getComputedStyle(xn).color;Rn.set(tn,wt(hn))}xn.remove()}function Yt(Rn){const{a:xn,b:tn,c:hn,d:yn,e:On,f:jn}=Rn.getTransform();return[xn,tn,hn,yn,On,jn]}function fn(Rn){const{a:xn,b:tn,c:hn,d:yn,e:On,f:jn}=Rn.getTransform().invertSelf();return[xn,tn,hn,yn,On,jn]}function an(Rn,xn,tn=!1,hn=!0){if(xn instanceof st){const{pageWidth:yn,pageHeight:On}=xn.rawDims,{style:jn}=Rn,zn=c.FeatureTest.isCSSRoundSupported,Vn=`var(--scale-factor) * ${yn}px`,Tn=`var(--scale-factor) * ${On}px`,Kn=zn?`round(${Vn}, 1px)`:`calc(${Vn})`,Xn=zn?`round(${Tn}, 1px)`:`calc(${Tn})`;!tn||xn.rotation%180===0?(jn.width=Kn,jn.height=Xn):(jn.width=Xn,jn.height=Kn)}hn&&Rn.setAttribute("data-main-rotation",xn.rotation)}},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var a=o(1);class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_e){return"none"}addHCMFilter(_e,et){return"none"}addHighlightHCMFilter(_e,et,rt,st){return"none"}destroy(_e=!1){}}i.BaseFilterFactory=c;class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_e,et){if(_e<=0||et<=0)throw new Error("Invalid canvas size");const rt=this._createCanvas(_e,et);return{canvas:rt,context:rt.getContext("2d")}}reset(_e,et,rt){if(!_e.canvas)throw new Error("Canvas is not specified");if(et<=0||rt<=0)throw new Error("Invalid canvas size");_e.canvas.width=et,_e.canvas.height=rt}destroy(_e){if(!_e.canvas)throw new Error("Canvas is not specified");_e.canvas.width=0,_e.canvas.height=0,_e.canvas=null,_e.context=null}_createCanvas(_e,et){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=h;class g{constructor({baseUrl:_e=null,isCompressed:et=!0}){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_e,this.isCompressed=et}async fetch({name:_e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_e)throw new Error("CMap name must be specified.");const et=this.baseUrl+_e+(this.isCompressed?".bcmap":""),rt=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(et,rt).catch(st=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${et}`)})}_fetchData(_e,et){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=g;class b{constructor({baseUrl:_e=null}){this.constructor===b&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_e}async fetch({filename:_e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_e)throw new Error("Font filename must be specified.");const et=`${this.baseUrl}${_e}`;return this._fetchData(et).catch(rt=>{throw new Error(`Unable to load font data at: ${et}`)})}_fetchData(_e){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=b;class _{constructor(){this.constructor===_&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(_e,et,rt=!1){if(_e<=0||et<=0)throw new Error("Invalid SVG dimensions");const st=this._createSVG("svg:svg");return st.setAttribute("version","1.1"),rt||(st.setAttribute("width",`${_e}px`),st.setAttribute("height",`${et}px`)),st.setAttribute("preserveAspectRatio","none"),st.setAttribute("viewBox",`0 0 ${_e} ${et}`),st}createElement(_e){if(typeof _e!="string")throw new Error("Invalid SVG element type");return this._createSVG(_e)}_createSVG(_e){(0,a.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=_},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var a=o(1);const c=3285377520,h=4294901760,g=65535;class b{constructor($){this.h1=$?$&4294967295:c,this.h2=$?$&4294967295:c}update($){let _e,et;if(typeof $=="string"){_e=new Uint8Array($.length*2),et=0;for(let ht=0,gt=$.length;ht<gt;ht++){const xt=$.charCodeAt(ht);xt<=255?_e[et++]=xt:(_e[et++]=xt>>>8,_e[et++]=xt&255)}}else if((0,a.isArrayBuffer)($))_e=$.slice(),et=_e.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const rt=et>>2,st=et-rt*4,lt=new Uint32Array(_e.buffer,0,rt);let dt=0,nt=0,tt=this.h1,it=this.h2;const at=3432918353,mt=461845907,ot=at&g,pt=mt&g;for(let ht=0;ht<rt;ht++)ht&1?(dt=lt[ht],dt=dt*at&h|dt*ot&g,dt=dt<<15|dt>>>17,dt=dt*mt&h|dt*pt&g,tt^=dt,tt=tt<<13|tt>>>19,tt=tt*5+3864292196):(nt=lt[ht],nt=nt*at&h|nt*ot&g,nt=nt<<15|nt>>>17,nt=nt*mt&h|nt*pt&g,it^=nt,it=it<<13|it>>>19,it=it*5+3864292196);switch(dt=0,st){case 3:dt^=_e[rt*4+2]<<16;case 2:dt^=_e[rt*4+1]<<8;case 1:dt^=_e[rt*4],dt=dt*at&h|dt*ot&g,dt=dt<<15|dt>>>17,dt=dt*mt&h|dt*pt&g,rt&1?tt^=dt:it^=dt}this.h1=tt,this.h2=it}hexdigest(){let $=this.h1,_e=this.h2;return $^=_e>>>1,$=$*3981806797&h|$*36045&g,_e=_e*4283543511&h|((_e<<16|$>>>16)*2950163797&h)>>>16,$^=_e>>>1,$=$*444984403&h|$*60499&g,_e=_e*3301882366&h|((_e<<16|$>>>16)*3120437893&h)>>>16,$^=_e>>>1,($>>>0).toString(16).padStart(8,"0")+(_e>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=b},(s,i,o)=>{var g;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var a=o(1);class c{constructor({ownerDocument:_=globalThis.document,styleElement:$=null}){Cn(this,g,new Set);this._document=_,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_){this.nativeFontFaces.add(_),this._document.fonts.add(_)}removeNativeFontFace(_){this.nativeFontFaces.delete(_),this._document.fonts.delete(_)}insertRule(_){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const $=this.styleElement.sheet;$.insertRule(_,$.cssRules.length)}clear(){for(const _ of this.nativeFontFaces)this._document.fonts.delete(_);this.nativeFontFaces.clear(),vt(this,g).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_){if(!(!_||vt(this,g).has(_.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:$,src:_e,style:et}=_,rt=new FontFace($,_e,et);this.addNativeFontFace(rt);try{await rt.load(),vt(this,g).add($)}catch{(0,a.warn)(`Cannot load system font: ${_.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(rt)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_){if(_.attached||_.missingFile&&!_.systemFontInfo)return;if(_.attached=!0,_.systemFontInfo){await this.loadSystemFont(_.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _e=_.createNativeFontFace();if(_e){this.addNativeFontFace(_e);try{await _e.loaded}catch(et){throw(0,a.warn)(`Failed to load font '${_e.family}': '${et}'.`),_.disableFontFace=!0,et}}return}const $=_.createFontFaceRule();if($){if(this.insertRule($),this.isSyncFontLoadingSupported)return;await new Promise(_e=>{const et=this._queueLoadingCallback(_e);this._prepareFontLoadEvent(_,et)})}}get isFontLoadingAPISupported(){var $;const _=!!(($=this._document)!=null&&$.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",_)}get isSyncFontLoadingSupported(){let _=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",_)}_queueLoadingCallback(_){function $(){for((0,a.assert)(!et.done,"completeRequest() cannot be called twice."),et.done=!0;_e.length>0&&_e[0].done;){const rt=_e.shift();setTimeout(rt.callback,0)}}const{loadingRequests:_e}=this,et={done:!1,complete:$,callback:_};return _e.push(et),et}get _loadTestFont(){const _=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",_)}_prepareFontLoadEvent(_,$){function _e(wt,kt){return wt.charCodeAt(kt)<<24|wt.charCodeAt(kt+1)<<16|wt.charCodeAt(kt+2)<<8|wt.charCodeAt(kt+3)&255}function et(wt,kt,Yt,fn){const an=wt.substring(0,kt),dn=wt.substring(kt+Yt);return an+fn+dn}let rt,st;const lt=this._document.createElement("canvas");lt.width=1,lt.height=1;const dt=lt.getContext("2d");let nt=0;function tt(wt,kt){if(++nt>30){(0,a.warn)("Load test font never loaded."),kt();return}if(dt.font="30px "+wt,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){kt();return}setTimeout(tt.bind(null,wt,kt))}const it=`lt${Date.now()}${this.loadTestFontId++}`;let at=this._loadTestFont;at=et(at,976,it.length,it);const ot=16,pt=1482184792;let ht=_e(at,ot);for(rt=0,st=it.length-3;rt<st;rt+=4)ht=ht-pt+_e(it,rt)|0;rt<it.length&&(ht=ht-pt+_e(it+"XXX",rt)|0),at=et(at,ot,4,(0,a.string32)(ht));const gt=`url(data:font/opentype;base64,${btoa(at)});`,xt=`@font-face {font-family:"${it}";src:${gt}}`;this.insertRule(xt);const Tt=this._document.createElement("div");Tt.style.visibility="hidden",Tt.style.width=Tt.style.height="10px",Tt.style.position="absolute",Tt.style.top=Tt.style.left="0px";for(const wt of[_.loadedName,it]){const kt=this._document.createElement("span");kt.textContent="Hi",kt.style.fontFamily=wt,Tt.append(kt)}this._document.body.append(Tt),tt(it,()=>{Tt.remove(),$.complete()})}}g=new WeakMap,i.FontLoader=c;class h{constructor(_,{isEvalSupported:$=!0,disableFontFace:_e=!1,ignoreErrors:et=!1,inspectFont:rt=null}){this.compiledGlyphs=Object.create(null);for(const st in _)this[st]=_[st];this.isEvalSupported=$!==!1,this.disableFontFace=_e===!0,this.ignoreErrors=et===!0,this._inspectFont=rt}createNativeFontFace(){var $;if(!this.data||this.disableFontFace)return null;let _;if(!this.cssFontInfo)_=new FontFace(this.loadedName,this.data,{});else{const _e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_=new FontFace(this.cssFontInfo.fontFamily,this.data,_e)}return($=this._inspectFont)==null||$.call(this,this),_}createFontFaceRule(){var et;if(!this.data||this.disableFontFace)return null;const _=(0,a.bytesToString)(this.data),$=`url(data:${this.mimetype};base64,${btoa(_)});`;let _e;if(!this.cssFontInfo)_e=`@font-face {font-family:"${this.loadedName}";src:${$}}`;else{let rt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(rt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${rt}src:${$}}`}return(et=this._inspectFont)==null||et.call(this,this,$),_e}getPathGenerator(_,$){if(this.compiledGlyphs[$]!==void 0)return this.compiledGlyphs[$];let _e;try{_e=_.get(this.loadedName+"_path_"+$)}catch(et){if(!this.ignoreErrors)throw et;return(0,a.warn)(`getPathGenerator - ignoring character: "${et}".`),this.compiledGlyphs[$]=function(rt,st){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const et=[];for(const rt of _e){const st=rt.args!==void 0?rt.args.join(","):"";et.push("c.",rt.cmd,"(",st,`);
`)}return this.compiledGlyphs[$]=new Function("c","size",et.join(""))}return this.compiledGlyphs[$]=function(et,rt){for(const st of _e)st.cmd==="scale"&&(st.args=[rt,-rt]),et[st.cmd].apply(et,st.args)}}}i.FontFaceObject=h},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var a=o(7);o(1);const c=function($){return new Promise((_e,et)=>{require$$5.readFile($,(st,lt)=>{if(st||!lt){et(new Error(st));return}_e(new Uint8Array(lt))})})};class h extends a.BaseFilterFactory{}i.NodeFilterFactory=h;class g extends a.BaseCanvasFactory{_createCanvas(_e,et){return require$$5.createCanvas(_e,et)}}i.NodeCanvasFactory=g;class b extends a.BaseCMapReaderFactory{_fetchData(_e,et){return c(_e).then(rt=>({cMapData:rt,compressionType:et}))}}i.NodeCMapReaderFactory=b;class _ extends a.BaseStandardFontDataFactory{_fetchData(_e){return c(_e)}}i.NodeStandardFontDataFactory=_},(s,i,o)=>{var Jt,co,uo;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var a=o(1),c=o(6),h=o(12),g=o(13);const b=16,_=100,$=4096,_e=15,et=10,rt=1e3,st=16;function lt(Nt,Et){if(Nt._removeMirroring)throw new Error("Context is already forwarding operations.");Nt.__originalSave=Nt.save,Nt.__originalRestore=Nt.restore,Nt.__originalRotate=Nt.rotate,Nt.__originalScale=Nt.scale,Nt.__originalTranslate=Nt.translate,Nt.__originalTransform=Nt.transform,Nt.__originalSetTransform=Nt.setTransform,Nt.__originalResetTransform=Nt.resetTransform,Nt.__originalClip=Nt.clip,Nt.__originalMoveTo=Nt.moveTo,Nt.__originalLineTo=Nt.lineTo,Nt.__originalBezierCurveTo=Nt.bezierCurveTo,Nt.__originalRect=Nt.rect,Nt.__originalClosePath=Nt.closePath,Nt.__originalBeginPath=Nt.beginPath,Nt._removeMirroring=()=>{Nt.save=Nt.__originalSave,Nt.restore=Nt.__originalRestore,Nt.rotate=Nt.__originalRotate,Nt.scale=Nt.__originalScale,Nt.translate=Nt.__originalTranslate,Nt.transform=Nt.__originalTransform,Nt.setTransform=Nt.__originalSetTransform,Nt.resetTransform=Nt.__originalResetTransform,Nt.clip=Nt.__originalClip,Nt.moveTo=Nt.__originalMoveTo,Nt.lineTo=Nt.__originalLineTo,Nt.bezierCurveTo=Nt.__originalBezierCurveTo,Nt.rect=Nt.__originalRect,Nt.closePath=Nt.__originalClosePath,Nt.beginPath=Nt.__originalBeginPath,delete Nt._removeMirroring},Nt.save=function(){Et.save(),this.__originalSave()},Nt.restore=function(){Et.restore(),this.__originalRestore()},Nt.translate=function(jt,en){Et.translate(jt,en),this.__originalTranslate(jt,en)},Nt.scale=function(jt,en){Et.scale(jt,en),this.__originalScale(jt,en)},Nt.transform=function(jt,en,sn,rn,vn,_n){Et.transform(jt,en,sn,rn,vn,_n),this.__originalTransform(jt,en,sn,rn,vn,_n)},Nt.setTransform=function(jt,en,sn,rn,vn,_n){Et.setTransform(jt,en,sn,rn,vn,_n),this.__originalSetTransform(jt,en,sn,rn,vn,_n)},Nt.resetTransform=function(){Et.resetTransform(),this.__originalResetTransform()},Nt.rotate=function(jt){Et.rotate(jt),this.__originalRotate(jt)},Nt.clip=function(jt){Et.clip(jt),this.__originalClip(jt)},Nt.moveTo=function(St,jt){Et.moveTo(St,jt),this.__originalMoveTo(St,jt)},Nt.lineTo=function(St,jt){Et.lineTo(St,jt),this.__originalLineTo(St,jt)},Nt.bezierCurveTo=function(St,jt,en,sn,rn,vn){Et.bezierCurveTo(St,jt,en,sn,rn,vn),this.__originalBezierCurveTo(St,jt,en,sn,rn,vn)},Nt.rect=function(St,jt,en,sn){Et.rect(St,jt,en,sn),this.__originalRect(St,jt,en,sn)},Nt.closePath=function(){Et.closePath(),this.__originalClosePath()},Nt.beginPath=function(){Et.beginPath(),this.__originalBeginPath()}}class dt{constructor(Et){this.canvasFactory=Et,this.cache=Object.create(null)}getCanvas(Et,St,jt){let en;return this.cache[Et]!==void 0?(en=this.cache[Et],this.canvasFactory.reset(en,St,jt)):(en=this.canvasFactory.create(St,jt),this.cache[Et]=en),en}delete(Et){delete this.cache[Et]}clear(){for(const Et in this.cache){const St=this.cache[Et];this.canvasFactory.destroy(St),delete this.cache[Et]}}}function nt(Nt,Et,St,jt,en,sn,rn,vn,_n,In){const[Fn,$n,Un,Wn,Rn,xn]=(0,c.getCurrentTransform)(Nt);if($n===0&&Un===0){const yn=rn*Fn+Rn,On=Math.round(yn),jn=vn*Wn+xn,zn=Math.round(jn),Vn=(rn+_n)*Fn+Rn,Tn=Math.abs(Math.round(Vn)-On)||1,Kn=(vn+In)*Wn+xn,Xn=Math.abs(Math.round(Kn)-zn)||1;return Nt.setTransform(Math.sign(Fn),0,0,Math.sign(Wn),On,zn),Nt.drawImage(Et,St,jt,en,sn,0,0,Tn,Xn),Nt.setTransform(Fn,$n,Un,Wn,Rn,xn),[Tn,Xn]}if(Fn===0&&Wn===0){const yn=vn*Un+Rn,On=Math.round(yn),jn=rn*$n+xn,zn=Math.round(jn),Vn=(vn+In)*Un+Rn,Tn=Math.abs(Math.round(Vn)-On)||1,Kn=(rn+_n)*$n+xn,Xn=Math.abs(Math.round(Kn)-zn)||1;return Nt.setTransform(0,Math.sign($n),Math.sign(Un),0,On,zn),Nt.drawImage(Et,St,jt,en,sn,0,0,Xn,Tn),Nt.setTransform(Fn,$n,Un,Wn,Rn,xn),[Xn,Tn]}Nt.drawImage(Et,St,jt,en,sn,rn,vn,_n,In);const tn=Math.hypot(Fn,$n),hn=Math.hypot(Un,Wn);return[tn*_n,hn*In]}function tt(Nt){const{width:Et,height:St}=Nt;if(Et>rt||St>rt)return null;const jt=1e3,en=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),sn=Et+1;let rn=new Uint8Array(sn*(St+1)),vn,_n,In;const Fn=Et+7&-8;let $n=new Uint8Array(Fn*St),Un=0;for(const hn of Nt.data){let yn=128;for(;yn>0;)$n[Un++]=hn&yn?0:255,yn>>=1}let Wn=0;for(Un=0,$n[Un]!==0&&(rn[0]=1,++Wn),_n=1;_n<Et;_n++)$n[Un]!==$n[Un+1]&&(rn[_n]=$n[Un]?2:1,++Wn),Un++;for($n[Un]!==0&&(rn[_n]=2,++Wn),vn=1;vn<St;vn++){Un=vn*Fn,In=vn*sn,$n[Un-Fn]!==$n[Un]&&(rn[In]=$n[Un]?1:8,++Wn);let hn=($n[Un]?4:0)+($n[Un-Fn]?8:0);for(_n=1;_n<Et;_n++)hn=(hn>>2)+($n[Un+1]?4:0)+($n[Un-Fn+1]?8:0),en[hn]&&(rn[In+_n]=en[hn],++Wn),Un++;if($n[Un-Fn]!==$n[Un]&&(rn[In+_n]=$n[Un]?2:4,++Wn),Wn>jt)return null}for(Un=Fn*(St-1),In=vn*sn,$n[Un]!==0&&(rn[In]=8,++Wn),_n=1;_n<Et;_n++)$n[Un]!==$n[Un+1]&&(rn[In+_n]=$n[Un]?4:8,++Wn),Un++;if($n[Un]!==0&&(rn[In+_n]=4,++Wn),Wn>jt)return null;const Rn=new Int32Array([0,sn,-1,0,-sn,0,0,0,1]),xn=new Path2D;for(vn=0;Wn&&vn<=St;vn++){let hn=vn*sn;const yn=hn+Et;for(;hn<yn&&!rn[hn];)hn++;if(hn===yn)continue;xn.moveTo(hn%sn,vn);const On=hn;let jn=rn[hn];do{const zn=Rn[jn];do hn+=zn;while(!rn[hn]);const Vn=rn[hn];Vn!==5&&Vn!==10?(jn=Vn,rn[hn]=0):(jn=Vn&51*jn>>4,rn[hn]&=jn>>2|jn<<2),xn.lineTo(hn%sn,hn/sn|0),rn[hn]||--Wn}while(On!==hn);--vn}return $n=null,rn=null,function(hn){hn.save(),hn.scale(1/Et,-1/St),hn.translate(0,-St),hn.fill(xn),hn.beginPath(),hn.restore()}}class it{constructor(Et,St){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Et,St])}clone(){const Et=Object.create(this);return Et.clipBox=this.clipBox.slice(),Et}setCurrentPoint(Et,St){this.x=Et,this.y=St}updatePathMinMax(Et,St,jt){[St,jt]=a.Util.applyTransform([St,jt],Et),this.minX=Math.min(this.minX,St),this.minY=Math.min(this.minY,jt),this.maxX=Math.max(this.maxX,St),this.maxY=Math.max(this.maxY,jt)}updateRectMinMax(Et,St){const jt=a.Util.applyTransform(St,Et),en=a.Util.applyTransform(St.slice(2),Et);this.minX=Math.min(this.minX,jt[0],en[0]),this.minY=Math.min(this.minY,jt[1],en[1]),this.maxX=Math.max(this.maxX,jt[0],en[0]),this.maxY=Math.max(this.maxY,jt[1],en[1])}updateScalingPathMinMax(Et,St){a.Util.scaleMinMax(Et,St),this.minX=Math.min(this.minX,St[0]),this.maxX=Math.max(this.maxX,St[1]),this.minY=Math.min(this.minY,St[2]),this.maxY=Math.max(this.maxY,St[3])}updateCurvePathMinMax(Et,St,jt,en,sn,rn,vn,_n,In,Fn){const $n=a.Util.bezierBoundingBox(St,jt,en,sn,rn,vn,_n,In);if(Fn){Fn[0]=Math.min(Fn[0],$n[0],$n[2]),Fn[1]=Math.max(Fn[1],$n[0],$n[2]),Fn[2]=Math.min(Fn[2],$n[1],$n[3]),Fn[3]=Math.max(Fn[3],$n[1],$n[3]);return}this.updateRectMinMax(Et,$n)}getPathBoundingBox(Et=h.PathType.FILL,St=null){const jt=[this.minX,this.minY,this.maxX,this.maxY];if(Et===h.PathType.STROKE){St||(0,a.unreachable)("Stroke bounding box must include transform.");const en=a.Util.singularValueDecompose2dScale(St),sn=en[0]*this.lineWidth/2,rn=en[1]*this.lineWidth/2;jt[0]-=sn,jt[1]-=rn,jt[2]+=sn,jt[3]+=rn}return jt}updateClipFromPath(){const Et=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Et||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Et){this.clipBox=Et,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Et=h.PathType.FILL,St=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(Et,St))}}function at(Nt,Et){if(typeof ImageData<"u"&&Et instanceof ImageData){Nt.putImageData(Et,0,0);return}const St=Et.height,jt=Et.width,en=St%st,sn=(St-en)/st,rn=en===0?sn:sn+1,vn=Nt.createImageData(jt,st);let _n=0,In;const Fn=Et.data,$n=vn.data;let Un,Wn,Rn,xn;if(Et.kind===a.ImageKind.GRAYSCALE_1BPP){const tn=Fn.byteLength,hn=new Uint32Array($n.buffer,0,$n.byteLength>>2),yn=hn.length,On=jt+7>>3,jn=4294967295,zn=a.FeatureTest.isLittleEndian?4278190080:255;for(Un=0;Un<rn;Un++){for(Rn=Un<sn?st:en,In=0,Wn=0;Wn<Rn;Wn++){const Vn=tn-_n;let Tn=0;const Kn=Vn>On?jt:Vn*8-7,Xn=Kn&-8;let hr=0,cr=0;for(;Tn<Xn;Tn+=8)cr=Fn[_n++],hn[In++]=cr&128?jn:zn,hn[In++]=cr&64?jn:zn,hn[In++]=cr&32?jn:zn,hn[In++]=cr&16?jn:zn,hn[In++]=cr&8?jn:zn,hn[In++]=cr&4?jn:zn,hn[In++]=cr&2?jn:zn,hn[In++]=cr&1?jn:zn;for(;Tn<Kn;Tn++)hr===0&&(cr=Fn[_n++],hr=128),hn[In++]=cr&hr?jn:zn,hr>>=1}for(;In<yn;)hn[In++]=0;Nt.putImageData(vn,0,Un*st)}}else if(Et.kind===a.ImageKind.RGBA_32BPP){for(Wn=0,xn=jt*st*4,Un=0;Un<sn;Un++)$n.set(Fn.subarray(_n,_n+xn)),_n+=xn,Nt.putImageData(vn,0,Wn),Wn+=st;Un<rn&&(xn=jt*en*4,$n.set(Fn.subarray(_n,_n+xn)),Nt.putImageData(vn,0,Wn))}else if(Et.kind===a.ImageKind.RGB_24BPP)for(Rn=st,xn=jt*Rn,Un=0;Un<rn;Un++){for(Un>=sn&&(Rn=en,xn=jt*Rn),In=0,Wn=xn;Wn--;)$n[In++]=Fn[_n++],$n[In++]=Fn[_n++],$n[In++]=Fn[_n++],$n[In++]=255;Nt.putImageData(vn,0,Un*st)}else throw new Error(`bad image kind: ${Et.kind}`)}function mt(Nt,Et){if(Et.bitmap){Nt.drawImage(Et.bitmap,0,0);return}const St=Et.height,jt=Et.width,en=St%st,sn=(St-en)/st,rn=en===0?sn:sn+1,vn=Nt.createImageData(jt,st);let _n=0;const In=Et.data,Fn=vn.data;for(let $n=0;$n<rn;$n++){const Un=$n<sn?st:en;({srcPos:_n}=(0,g.convertBlackAndWhiteToRGBA)({src:In,srcPos:_n,dest:Fn,width:jt,height:Un,nonBlackColor:0})),Nt.putImageData(vn,0,$n*st)}}function ot(Nt,Et){const St=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const jt of St)Nt[jt]!==void 0&&(Et[jt]=Nt[jt]);Nt.setLineDash!==void 0&&(Et.setLineDash(Nt.getLineDash()),Et.lineDashOffset=Nt.lineDashOffset)}function pt(Nt){if(Nt.strokeStyle=Nt.fillStyle="#000000",Nt.fillRule="nonzero",Nt.globalAlpha=1,Nt.lineWidth=1,Nt.lineCap="butt",Nt.lineJoin="miter",Nt.miterLimit=10,Nt.globalCompositeOperation="source-over",Nt.font="10px sans-serif",Nt.setLineDash!==void 0&&(Nt.setLineDash([]),Nt.lineDashOffset=0),!a.isNodeJS){const{filter:Et}=Nt;Et!=="none"&&Et!==""&&(Nt.filter="none")}}function ht(Nt,Et,St,jt){const en=Nt.length;for(let sn=3;sn<en;sn+=4){const rn=Nt[sn];if(rn===0)Nt[sn-3]=Et,Nt[sn-2]=St,Nt[sn-1]=jt;else if(rn<255){const vn=255-rn;Nt[sn-3]=Nt[sn-3]*rn+Et*vn>>8,Nt[sn-2]=Nt[sn-2]*rn+St*vn>>8,Nt[sn-1]=Nt[sn-1]*rn+jt*vn>>8}}}function gt(Nt,Et,St){const jt=Nt.length,en=1/255;for(let sn=3;sn<jt;sn+=4){const rn=St?St[Nt[sn]]:Nt[sn];Et[sn]=Et[sn]*rn*en|0}}function xt(Nt,Et,St){const jt=Nt.length;for(let en=3;en<jt;en+=4){const sn=Nt[en-3]*77+Nt[en-2]*152+Nt[en-1]*28;Et[en]=St?Et[en]*St[sn>>8]>>8:Et[en]*sn>>16}}function Tt(Nt,Et,St,jt,en,sn,rn,vn,_n,In,Fn){const $n=!!sn,Un=$n?sn[0]:0,Wn=$n?sn[1]:0,Rn=$n?sn[2]:0,xn=en==="Luminosity"?xt:gt,hn=Math.min(jt,Math.ceil(1048576/St));for(let yn=0;yn<jt;yn+=hn){const On=Math.min(hn,jt-yn),jn=Nt.getImageData(vn-In,yn+(_n-Fn),St,On),zn=Et.getImageData(vn,yn+_n,St,On);$n&&ht(jn.data,Un,Wn,Rn),xn(jn.data,zn.data,rn),Et.putImageData(zn,vn,yn+_n)}}function wt(Nt,Et,St,jt){const en=jt[0],sn=jt[1],rn=jt[2]-en,vn=jt[3]-sn;rn===0||vn===0||(Tt(Et.context,St,rn,vn,Et.subtype,Et.backdrop,Et.transferMap,en,sn,Et.offsetX,Et.offsetY),Nt.save(),Nt.globalAlpha=1,Nt.globalCompositeOperation="source-over",Nt.setTransform(1,0,0,1,0,0),Nt.drawImage(St.canvas,0,0),Nt.restore())}function kt(Nt,Et){const St=a.Util.singularValueDecompose2dScale(Nt);St[0]=Math.fround(St[0]),St[1]=Math.fround(St[1]);const jt=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return Et!==void 0?Et:St[0]<=jt||St[1]<=jt}const Yt=["butt","round","square"],fn=["miter","round","bevel"],an={},dn={},nn=class nn{constructor(Et,St,jt,en,sn,{optionalContentConfig:rn,markedContentStack:vn=null},_n,In){Cn(this,Jt);this.ctx=Et,this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=St,this.objs=jt,this.canvasFactory=en,this.filterFactory=sn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=vn||[],this.optionalContentConfig=rn,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=_n,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=In,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Et,St=null){return typeof Et=="string"?Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et):St}beginDrawing({transform:Et,viewport:St,transparency:jt=!1,background:en=null}){const sn=this.ctx.canvas.width,rn=this.ctx.canvas.height,vn=this.ctx.fillStyle;if(this.ctx.fillStyle=en||"#ffffff",this.ctx.fillRect(0,0,sn,rn),this.ctx.fillStyle=vn,jt){const _n=this.cachedCanvases.getCanvas("transparent",sn,rn);this.compositeCtx=this.ctx,this.transparentCanvas=_n.canvas,this.ctx=_n.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),pt(this.ctx),Et&&(this.ctx.transform(...Et),this.outputScaleX=Et[0],this.outputScaleY=Et[0]),this.ctx.transform(...St.transform),this.viewportScale=St.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(Et,St,jt,en){const sn=Et.argsArray,rn=Et.fnArray;let vn=St||0;const _n=sn.length;if(_n===vn)return vn;const In=_n-vn>et&&typeof jt=="function",Fn=In?Date.now()+_e:0;let $n=0;const Un=this.commonObjs,Wn=this.objs;let Rn;for(;;){if(en!==void 0&&vn===en.nextBreakPoint)return en.breakIt(vn,jt),vn;if(Rn=rn[vn],Rn!==a.OPS.dependency)this[Rn].apply(this,sn[vn]);else for(const xn of sn[vn]){const tn=xn.startsWith("g_")?Un:Wn;if(!tn.has(xn))return tn.get(xn,jt),vn}if(vn++,vn===_n)return vn;if(In&&++$n>et){if(Date.now()>Fn)return jt(),vn;$n=0}}}endDrawing(){En(this,Jt,co).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Et of this._cachedBitmapsMap.values()){for(const St of Et.values())typeof HTMLCanvasElement<"u"&&St instanceof HTMLCanvasElement&&(St.width=St.height=0);Et.clear()}this._cachedBitmapsMap.clear(),En(this,Jt,uo).call(this)}_scaleImage(Et,St){const jt=Et.width,en=Et.height;let sn=Math.max(Math.hypot(St[0],St[1]),1),rn=Math.max(Math.hypot(St[2],St[3]),1),vn=jt,_n=en,In="prescale1",Fn,$n;for(;sn>2&&vn>1||rn>2&&_n>1;){let Un=vn,Wn=_n;sn>2&&vn>1&&(Un=vn>=16384?Math.floor(vn/2)-1||1:Math.ceil(vn/2),sn/=vn/Un),rn>2&&_n>1&&(Wn=_n>=16384?Math.floor(_n/2)-1||1:Math.ceil(_n)/2,rn/=_n/Wn),Fn=this.cachedCanvases.getCanvas(In,Un,Wn),$n=Fn.context,$n.clearRect(0,0,Un,Wn),$n.drawImage(Et,0,0,vn,_n,0,0,Un,Wn),Et=Fn.canvas,vn=Un,_n=Wn,In=In==="prescale1"?"prescale2":"prescale1"}return{img:Et,paintWidth:vn,paintHeight:_n}}_createMaskCanvas(Et){const St=this.ctx,{width:jt,height:en}=Et,sn=this.current.fillColor,rn=this.current.patternFill,vn=(0,c.getCurrentTransform)(St);let _n,In,Fn,$n;if((Et.bitmap||Et.data)&&Et.count>1){const Tn=Et.bitmap||Et.data.buffer;In=JSON.stringify(rn?vn:[vn.slice(0,4),sn]),_n=this._cachedBitmapsMap.get(Tn),_n||(_n=new Map,this._cachedBitmapsMap.set(Tn,_n));const Kn=_n.get(In);if(Kn&&!rn){const Xn=Math.round(Math.min(vn[0],vn[2])+vn[4]),hr=Math.round(Math.min(vn[1],vn[3])+vn[5]);return{canvas:Kn,offsetX:Xn,offsetY:hr}}Fn=Kn}Fn||($n=this.cachedCanvases.getCanvas("maskCanvas",jt,en),mt($n.context,Et));let Un=a.Util.transform(vn,[1/jt,0,0,-1/en,0,0]);Un=a.Util.transform(Un,[1,0,0,1,0,-en]);const Wn=a.Util.applyTransform([0,0],Un),Rn=a.Util.applyTransform([jt,en],Un),xn=a.Util.normalizeRect([Wn[0],Wn[1],Rn[0],Rn[1]]),tn=Math.round(xn[2]-xn[0])||1,hn=Math.round(xn[3]-xn[1])||1,yn=this.cachedCanvases.getCanvas("fillCanvas",tn,hn),On=yn.context,jn=Math.min(Wn[0],Rn[0]),zn=Math.min(Wn[1],Rn[1]);On.translate(-jn,-zn),On.transform(...Un),Fn||(Fn=this._scaleImage($n.canvas,(0,c.getCurrentTransformInverse)(On)),Fn=Fn.img,_n&&rn&&_n.set(In,Fn)),On.imageSmoothingEnabled=kt((0,c.getCurrentTransform)(On),Et.interpolate),nt(On,Fn,0,0,Fn.width,Fn.height,0,0,jt,en),On.globalCompositeOperation="source-in";const Vn=a.Util.transform((0,c.getCurrentTransformInverse)(On),[1,0,0,1,-jn,-zn]);return On.fillStyle=rn?sn.getPattern(St,this,Vn,h.PathType.FILL):sn,On.fillRect(0,0,jt,en),_n&&!rn&&(this.cachedCanvases.delete("fillCanvas"),_n.set(In,yn.canvas)),{canvas:yn.canvas,offsetX:Math.round(jn),offsetY:Math.round(zn)}}setLineWidth(Et){Et!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Et,this.ctx.lineWidth=Et}setLineCap(Et){this.ctx.lineCap=Yt[Et]}setLineJoin(Et){this.ctx.lineJoin=fn[Et]}setMiterLimit(Et){this.ctx.miterLimit=Et}setDash(Et,St){const jt=this.ctx;jt.setLineDash!==void 0&&(jt.setLineDash(Et),jt.lineDashOffset=St)}setRenderingIntent(Et){}setFlatness(Et){}setGState(Et){for(const[St,jt]of Et)switch(St){case"LW":this.setLineWidth(jt);break;case"LC":this.setLineCap(jt);break;case"LJ":this.setLineJoin(jt);break;case"ML":this.setMiterLimit(jt);break;case"D":this.setDash(jt[0],jt[1]);break;case"RI":this.setRenderingIntent(jt);break;case"FL":this.setFlatness(jt);break;case"Font":this.setFont(jt[0],jt[1]);break;case"CA":this.current.strokeAlpha=jt;break;case"ca":this.current.fillAlpha=jt,this.ctx.globalAlpha=jt;break;case"BM":this.ctx.globalCompositeOperation=jt;break;case"SMask":this.current.activeSMask=jt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(jt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Et=this.inSMaskMode;this.current.activeSMask&&!Et?this.beginSMaskMode():!this.current.activeSMask&&Et&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Et=this.ctx.canvas.width,St=this.ctx.canvas.height,jt="smaskGroupAt"+this.groupLevel,en=this.cachedCanvases.getCanvas(jt,Et,St);this.suspendedCtx=this.ctx,this.ctx=en.context;const sn=this.ctx;sn.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),ot(this.suspendedCtx,sn),lt(sn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Et){if(!this.current.activeSMask)return;Et?(Et[0]=Math.floor(Et[0]),Et[1]=Math.floor(Et[1]),Et[2]=Math.ceil(Et[2]),Et[3]=Math.ceil(Et[3])):Et=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const St=this.current.activeSMask,jt=this.suspendedCtx;wt(jt,St,this.ctx,Et),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Et=this.current;this.stateStack.push(Et),this.current=Et.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Et,St,jt,en,sn,rn){this.ctx.transform(Et,St,jt,en,sn,rn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Et,St,jt){const en=this.ctx,sn=this.current;let rn=sn.x,vn=sn.y,_n,In;const Fn=(0,c.getCurrentTransform)(en),$n=Fn[0]===0&&Fn[3]===0||Fn[1]===0&&Fn[2]===0,Un=$n?jt.slice(0):null;for(let Wn=0,Rn=0,xn=Et.length;Wn<xn;Wn++)switch(Et[Wn]|0){case a.OPS.rectangle:rn=St[Rn++],vn=St[Rn++];const tn=St[Rn++],hn=St[Rn++],yn=rn+tn,On=vn+hn;en.moveTo(rn,vn),tn===0||hn===0?en.lineTo(yn,On):(en.lineTo(yn,vn),en.lineTo(yn,On),en.lineTo(rn,On)),$n||sn.updateRectMinMax(Fn,[rn,vn,yn,On]),en.closePath();break;case a.OPS.moveTo:rn=St[Rn++],vn=St[Rn++],en.moveTo(rn,vn),$n||sn.updatePathMinMax(Fn,rn,vn);break;case a.OPS.lineTo:rn=St[Rn++],vn=St[Rn++],en.lineTo(rn,vn),$n||sn.updatePathMinMax(Fn,rn,vn);break;case a.OPS.curveTo:_n=rn,In=vn,rn=St[Rn+4],vn=St[Rn+5],en.bezierCurveTo(St[Rn],St[Rn+1],St[Rn+2],St[Rn+3],rn,vn),sn.updateCurvePathMinMax(Fn,_n,In,St[Rn],St[Rn+1],St[Rn+2],St[Rn+3],rn,vn,Un),Rn+=6;break;case a.OPS.curveTo2:_n=rn,In=vn,en.bezierCurveTo(rn,vn,St[Rn],St[Rn+1],St[Rn+2],St[Rn+3]),sn.updateCurvePathMinMax(Fn,_n,In,rn,vn,St[Rn],St[Rn+1],St[Rn+2],St[Rn+3],Un),rn=St[Rn+2],vn=St[Rn+3],Rn+=4;break;case a.OPS.curveTo3:_n=rn,In=vn,rn=St[Rn+2],vn=St[Rn+3],en.bezierCurveTo(St[Rn],St[Rn+1],rn,vn,rn,vn),sn.updateCurvePathMinMax(Fn,_n,In,St[Rn],St[Rn+1],rn,vn,rn,vn,Un),Rn+=4;break;case a.OPS.closePath:en.closePath();break}$n&&sn.updateScalingPathMinMax(Fn,Un),sn.setCurrentPoint(rn,vn)}closePath(){this.ctx.closePath()}stroke(Et=!0){const St=this.ctx,jt=this.current.strokeColor;St.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof jt=="object"&&(jt!=null&&jt.getPattern)?(St.save(),St.strokeStyle=jt.getPattern(St,this,(0,c.getCurrentTransformInverse)(St),h.PathType.STROKE),this.rescaleAndStroke(!1),St.restore()):this.rescaleAndStroke(!0)),Et&&this.consumePath(this.current.getClippedPathBoundingBox()),St.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Et=!0){const St=this.ctx,jt=this.current.fillColor,en=this.current.patternFill;let sn=!1;en&&(St.save(),St.fillStyle=jt.getPattern(St,this,(0,c.getCurrentTransformInverse)(St),h.PathType.FILL),sn=!0);const rn=this.current.getClippedPathBoundingBox();this.contentVisible&&rn!==null&&(this.pendingEOFill?(St.fill("evenodd"),this.pendingEOFill=!1):St.fill()),sn&&St.restore(),Et&&this.consumePath(rn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=an}eoClip(){this.pendingClip=dn}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Et=this.pendingTextPaths,St=this.ctx;if(Et===void 0){St.beginPath();return}St.save(),St.beginPath();for(const jt of Et)St.setTransform(...jt.transform),St.translate(jt.x,jt.y),jt.addToPath(St,jt.fontSize);St.restore(),St.clip(),St.beginPath(),delete this.pendingTextPaths}setCharSpacing(Et){this.current.charSpacing=Et}setWordSpacing(Et){this.current.wordSpacing=Et}setHScale(Et){this.current.textHScale=Et/100}setLeading(Et){this.current.leading=-Et}setFont(Et,St){var Fn;const jt=this.commonObjs.get(Et),en=this.current;if(!jt)throw new Error(`Can't find font for ${Et}`);if(en.fontMatrix=jt.fontMatrix||a.FONT_IDENTITY_MATRIX,(en.fontMatrix[0]===0||en.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+Et),St<0?(St=-St,en.fontDirection=-1):en.fontDirection=1,this.current.font=jt,this.current.fontSize=St,jt.isType3Font)return;const sn=jt.loadedName||"sans-serif",rn=((Fn=jt.systemFontInfo)==null?void 0:Fn.css)||`"${sn}", ${jt.fallbackName}`;let vn="normal";jt.black?vn="900":jt.bold&&(vn="bold");const _n=jt.italic?"italic":"normal";let In=St;St<b?In=b:St>_&&(In=_),this.current.fontSizeScale=St/In,this.ctx.font=`${_n} ${vn} ${In}px ${rn}`}setTextRenderingMode(Et){this.current.textRenderingMode=Et}setTextRise(Et){this.current.textRise=Et}moveText(Et,St){this.current.x=this.current.lineX+=Et,this.current.y=this.current.lineY+=St}setLeadingMoveText(Et,St){this.setLeading(-St),this.moveText(Et,St)}setTextMatrix(Et,St,jt,en,sn,rn){this.current.textMatrix=[Et,St,jt,en,sn,rn],this.current.textMatrixScale=Math.hypot(Et,St),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Et,St,jt,en){const sn=this.ctx,rn=this.current,vn=rn.font,_n=rn.textRenderingMode,In=rn.fontSize/rn.fontSizeScale,Fn=_n&a.TextRenderingMode.FILL_STROKE_MASK,$n=!!(_n&a.TextRenderingMode.ADD_TO_PATH_FLAG),Un=rn.patternFill&&!vn.missingFile;let Wn;(vn.disableFontFace||$n||Un)&&(Wn=vn.getPathGenerator(this.commonObjs,Et)),vn.disableFontFace||Un?(sn.save(),sn.translate(St,jt),sn.beginPath(),Wn(sn,In),en&&sn.setTransform(...en),(Fn===a.TextRenderingMode.FILL||Fn===a.TextRenderingMode.FILL_STROKE)&&sn.fill(),(Fn===a.TextRenderingMode.STROKE||Fn===a.TextRenderingMode.FILL_STROKE)&&sn.stroke(),sn.restore()):((Fn===a.TextRenderingMode.FILL||Fn===a.TextRenderingMode.FILL_STROKE)&&sn.fillText(Et,St,jt),(Fn===a.TextRenderingMode.STROKE||Fn===a.TextRenderingMode.FILL_STROKE)&&sn.strokeText(Et,St,jt)),$n&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,c.getCurrentTransform)(sn),x:St,y:jt,fontSize:In,addToPath:Wn})}get isFontSubpixelAAEnabled(){const{context:Et}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Et.scale(1.5,1),Et.fillText("I",0,10);const St=Et.getImageData(0,0,10,10).data;let jt=!1;for(let en=3;en<St.length;en+=4)if(St[en]>0&&St[en]<255){jt=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",jt)}showText(Et){const St=this.current,jt=St.font;if(jt.isType3Font)return this.showType3Text(Et);const en=St.fontSize;if(en===0)return;const sn=this.ctx,rn=St.fontSizeScale,vn=St.charSpacing,_n=St.wordSpacing,In=St.fontDirection,Fn=St.textHScale*In,$n=Et.length,Un=jt.vertical,Wn=Un?1:-1,Rn=jt.defaultVMetrics,xn=en*St.fontMatrix[0],tn=St.textRenderingMode===a.TextRenderingMode.FILL&&!jt.disableFontFace&&!St.patternFill;sn.save(),sn.transform(...St.textMatrix),sn.translate(St.x,St.y+St.textRise),In>0?sn.scale(Fn,-1):sn.scale(Fn,1);let hn;if(St.patternFill){sn.save();const Vn=St.fillColor.getPattern(sn,this,(0,c.getCurrentTransformInverse)(sn),h.PathType.FILL);hn=(0,c.getCurrentTransform)(sn),sn.restore(),sn.fillStyle=Vn}let yn=St.lineWidth;const On=St.textMatrixScale;if(On===0||yn===0){const Vn=St.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(Vn===a.TextRenderingMode.STROKE||Vn===a.TextRenderingMode.FILL_STROKE)&&(yn=this.getSinglePixelWidth())}else yn/=On;if(rn!==1&&(sn.scale(rn,rn),yn/=rn),sn.lineWidth=yn,jt.isInvalidPDFjsFont){const Vn=[];let Tn=0;for(const Kn of Et)Vn.push(Kn.unicode),Tn+=Kn.width;sn.fillText(Vn.join(""),0,0),St.x+=Tn*xn*Fn,sn.restore(),this.compose();return}let jn=0,zn;for(zn=0;zn<$n;++zn){const Vn=Et[zn];if(typeof Vn=="number"){jn+=Wn*Vn*en/1e3;continue}let Tn=!1;const Kn=(Vn.isSpace?_n:0)+vn,Xn=Vn.fontChar,hr=Vn.accent;let cr,fr,nr=Vn.width;if(Un){const dr=Vn.vmetric||Rn,gr=-(Vn.vmetric?dr[1]:nr*.5)*xn,Hn=dr[2]*xn;nr=dr?-dr[0]:nr,cr=gr/rn,fr=(jn+Hn)/rn}else cr=jn/rn,fr=0;if(jt.remeasure&&nr>0){const dr=sn.measureText(Xn).width*1e3/en*rn;if(nr<dr&&this.isFontSubpixelAAEnabled){const gr=nr/dr;Tn=!0,sn.save(),sn.scale(gr,1),cr/=gr}else nr!==dr&&(cr+=(nr-dr)/2e3*en/rn)}if(this.contentVisible&&(Vn.isInFont||jt.missingFile)){if(tn&&!hr)sn.fillText(Xn,cr,fr);else if(this.paintChar(Xn,cr,fr,hn),hr){const dr=cr+en*hr.offset.x/rn,gr=fr-en*hr.offset.y/rn;this.paintChar(hr.fontChar,dr,gr,hn)}}const ar=Un?nr*xn-Kn*In:nr*xn+Kn*In;jn+=ar,Tn&&sn.restore()}Un?St.y-=jn:St.x+=jn*Fn,sn.restore(),this.compose()}showType3Text(Et){const St=this.ctx,jt=this.current,en=jt.font,sn=jt.fontSize,rn=jt.fontDirection,vn=en.vertical?1:-1,_n=jt.charSpacing,In=jt.wordSpacing,Fn=jt.textHScale*rn,$n=jt.fontMatrix||a.FONT_IDENTITY_MATRIX,Un=Et.length,Wn=jt.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Rn,xn,tn,hn;if(!(Wn||sn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,St.save(),St.transform(...jt.textMatrix),St.translate(jt.x,jt.y),St.scale(Fn,rn),Rn=0;Rn<Un;++Rn){if(xn=Et[Rn],typeof xn=="number"){hn=vn*xn*sn/1e3,this.ctx.translate(hn,0),jt.x+=hn*Fn;continue}const yn=(xn.isSpace?In:0)+_n,On=en.charProcOperatorList[xn.operatorListId];if(!On){(0,a.warn)(`Type3 character "${xn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=xn,this.save(),St.scale(sn,sn),St.transform(...$n),this.executeOperatorList(On),this.restore()),tn=a.Util.applyTransform([xn.width,0],$n)[0]*sn+yn,St.translate(tn,0),jt.x+=tn*Fn}St.restore(),this.processingType3=null}}setCharWidth(Et,St){}setCharWidthAndBounds(Et,St,jt,en,sn,rn){this.ctx.rect(jt,en,sn-jt,rn-en),this.ctx.clip(),this.endPath()}getColorN_Pattern(Et){let St;if(Et[0]==="TilingPattern"){const jt=Et[1],en=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),sn={createCanvasGraphics:rn=>new nn(rn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};St=new h.TilingPattern(Et,jt,this.ctx,sn,en)}else St=this._getPattern(Et[1],Et[2]);return St}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Et,St,jt){const en=a.Util.makeHexColor(Et,St,jt);this.ctx.strokeStyle=en,this.current.strokeColor=en}setFillRGBColor(Et,St,jt){const en=a.Util.makeHexColor(Et,St,jt);this.ctx.fillStyle=en,this.current.fillColor=en,this.current.patternFill=!1}_getPattern(Et,St=null){let jt;return this.cachedPatterns.has(Et)?jt=this.cachedPatterns.get(Et):(jt=(0,h.getShadingPattern)(this.getObject(Et)),this.cachedPatterns.set(Et,jt)),St&&(jt.matrix=St),jt}shadingFill(Et){if(!this.contentVisible)return;const St=this.ctx;this.save();const jt=this._getPattern(Et);St.fillStyle=jt.getPattern(St,this,(0,c.getCurrentTransformInverse)(St),h.PathType.SHADING);const en=(0,c.getCurrentTransformInverse)(St);if(en){const{width:sn,height:rn}=St.canvas,[vn,_n,In,Fn]=a.Util.getAxialAlignedBoundingBox([0,0,sn,rn],en);this.ctx.fillRect(vn,_n,In-vn,Fn-_n)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Et,St){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Et)&&Et.length===6&&this.transform(...Et),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),St)){const jt=St[2]-St[0],en=St[3]-St[1];this.ctx.rect(St[0],St[1],jt,en),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),St),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Et){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const St=this.ctx;Et.isolated||(0,a.info)("TODO: Support non-isolated groups."),Et.knockout&&(0,a.warn)("Knockout groups not supported.");const jt=(0,c.getCurrentTransform)(St);if(Et.matrix&&St.transform(...Et.matrix),!Et.bbox)throw new Error("Bounding box is required.");let en=a.Util.getAxialAlignedBoundingBox(Et.bbox,(0,c.getCurrentTransform)(St));const sn=[0,0,St.canvas.width,St.canvas.height];en=a.Util.intersect(en,sn)||[0,0,0,0];const rn=Math.floor(en[0]),vn=Math.floor(en[1]);let _n=Math.max(Math.ceil(en[2])-rn,1),In=Math.max(Math.ceil(en[3])-vn,1),Fn=1,$n=1;_n>$&&(Fn=_n/$,_n=$),In>$&&($n=In/$,In=$),this.current.startNewPathAndClipBox([0,0,_n,In]);let Un="groupAt"+this.groupLevel;Et.smask&&(Un+="_smask_"+this.smaskCounter++%2);const Wn=this.cachedCanvases.getCanvas(Un,_n,In),Rn=Wn.context;Rn.scale(1/Fn,1/$n),Rn.translate(-rn,-vn),Rn.transform(...jt),Et.smask?this.smaskStack.push({canvas:Wn.canvas,context:Rn,offsetX:rn,offsetY:vn,scaleX:Fn,scaleY:$n,subtype:Et.smask.subtype,backdrop:Et.smask.backdrop,transferMap:Et.smask.transferMap||null,startTransformInverse:null}):(St.setTransform(1,0,0,1,0,0),St.translate(rn,vn),St.scale(Fn,$n),St.save()),ot(St,Rn),this.ctx=Rn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(St),this.groupLevel++}endGroup(Et){if(!this.contentVisible)return;this.groupLevel--;const St=this.ctx,jt=this.groupStack.pop();if(this.ctx=jt,this.ctx.imageSmoothingEnabled=!1,Et.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const en=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...en);const sn=a.Util.getAxialAlignedBoundingBox([0,0,St.canvas.width,St.canvas.height],en);this.ctx.drawImage(St.canvas,0,0),this.ctx.restore(),this.compose(sn)}}beginAnnotation(Et,St,jt,en,sn){if(En(this,Jt,co).call(this),pt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(St)&&St.length===4){const rn=St[2]-St[0],vn=St[3]-St[1];if(sn&&this.annotationCanvasMap){jt=jt.slice(),jt[4]-=St[0],jt[5]-=St[1],St=St.slice(),St[0]=St[1]=0,St[2]=rn,St[3]=vn;const[_n,In]=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:Fn}=this,$n=Math.ceil(rn*this.outputScaleX*Fn),Un=Math.ceil(vn*this.outputScaleY*Fn);this.annotationCanvas=this.canvasFactory.create($n,Un);const{canvas:Wn,context:Rn}=this.annotationCanvas;this.annotationCanvasMap.set(Et,Wn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Rn,this.ctx.save(),this.ctx.setTransform(_n,0,0,-In,0,vn*In),pt(this.ctx)}else pt(this.ctx),this.ctx.rect(St[0],St[1],rn,vn),this.ctx.clip(),this.endPath()}this.current=new it(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...jt),this.transform(...en)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),En(this,Jt,uo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Et){if(!this.contentVisible)return;const St=Et.count;Et=this.getObject(Et.data,Et),Et.count=St;const jt=this.ctx,en=this.processingType3;if(en&&(en.compiled===void 0&&(en.compiled=tt(Et)),en.compiled)){en.compiled(jt);return}const sn=this._createMaskCanvas(Et),rn=sn.canvas;jt.save(),jt.setTransform(1,0,0,1,0,0),jt.drawImage(rn,sn.offsetX,sn.offsetY),jt.restore(),this.compose()}paintImageMaskXObjectRepeat(Et,St,jt=0,en=0,sn,rn){if(!this.contentVisible)return;Et=this.getObject(Et.data,Et);const vn=this.ctx;vn.save();const _n=(0,c.getCurrentTransform)(vn);vn.transform(St,jt,en,sn,0,0);const In=this._createMaskCanvas(Et);vn.setTransform(1,0,0,1,In.offsetX-_n[4],In.offsetY-_n[5]);for(let Fn=0,$n=rn.length;Fn<$n;Fn+=2){const Un=a.Util.transform(_n,[St,jt,en,sn,rn[Fn],rn[Fn+1]]),[Wn,Rn]=a.Util.applyTransform([0,0],Un);vn.drawImage(In.canvas,Wn,Rn)}vn.restore(),this.compose()}paintImageMaskXObjectGroup(Et){if(!this.contentVisible)return;const St=this.ctx,jt=this.current.fillColor,en=this.current.patternFill;for(const sn of Et){const{data:rn,width:vn,height:_n,transform:In}=sn,Fn=this.cachedCanvases.getCanvas("maskCanvas",vn,_n),$n=Fn.context;$n.save();const Un=this.getObject(rn,sn);mt($n,Un),$n.globalCompositeOperation="source-in",$n.fillStyle=en?jt.getPattern($n,this,(0,c.getCurrentTransformInverse)(St),h.PathType.FILL):jt,$n.fillRect(0,0,vn,_n),$n.restore(),St.save(),St.transform(...In),St.scale(1,-1),nt(St,Fn.canvas,0,0,vn,_n,0,-1,1,1),St.restore()}this.compose()}paintImageXObject(Et){if(!this.contentVisible)return;const St=this.getObject(Et);if(!St){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(St)}paintImageXObjectRepeat(Et,St,jt,en){if(!this.contentVisible)return;const sn=this.getObject(Et);if(!sn){(0,a.warn)("Dependent image isn't ready yet");return}const rn=sn.width,vn=sn.height,_n=[];for(let In=0,Fn=en.length;In<Fn;In+=2)_n.push({transform:[St,0,0,jt,en[In],en[In+1]],x:0,y:0,w:rn,h:vn});this.paintInlineImageXObjectGroup(sn,_n)}applyTransferMapsToCanvas(Et){return this.current.transferMaps!=="none"&&(Et.filter=this.current.transferMaps,Et.drawImage(Et.canvas,0,0),Et.filter="none"),Et.canvas}applyTransferMapsToBitmap(Et){if(this.current.transferMaps==="none")return Et.bitmap;const{bitmap:St,width:jt,height:en}=Et,sn=this.cachedCanvases.getCanvas("inlineImage",jt,en),rn=sn.context;return rn.filter=this.current.transferMaps,rn.drawImage(St,0,0),rn.filter="none",sn.canvas}paintInlineImageXObject(Et){if(!this.contentVisible)return;const St=Et.width,jt=Et.height,en=this.ctx;if(this.save(),!a.isNodeJS){const{filter:vn}=en;vn!=="none"&&vn!==""&&(en.filter="none")}en.scale(1/St,-1/jt);let sn;if(Et.bitmap)sn=this.applyTransferMapsToBitmap(Et);else if(typeof HTMLElement=="function"&&Et instanceof HTMLElement||!Et.data)sn=Et;else{const _n=this.cachedCanvases.getCanvas("inlineImage",St,jt).context;at(_n,Et),sn=this.applyTransferMapsToCanvas(_n)}const rn=this._scaleImage(sn,(0,c.getCurrentTransformInverse)(en));en.imageSmoothingEnabled=kt((0,c.getCurrentTransform)(en),Et.interpolate),nt(en,rn.img,0,0,rn.paintWidth,rn.paintHeight,0,-jt,St,jt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Et,St){if(!this.contentVisible)return;const jt=this.ctx;let en;if(Et.bitmap)en=Et.bitmap;else{const sn=Et.width,rn=Et.height,_n=this.cachedCanvases.getCanvas("inlineImage",sn,rn).context;at(_n,Et),en=this.applyTransferMapsToCanvas(_n)}for(const sn of St)jt.save(),jt.transform(...sn.transform),jt.scale(1,-1),nt(jt,en,sn.x,sn.y,sn.w,sn.h,0,-1,1,1),jt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Et){}markPointProps(Et,St){}beginMarkedContent(Et){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Et,St){Et==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(St)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Et){const St=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Et);const jt=this.ctx;this.pendingClip&&(St||(this.pendingClip===dn?jt.clip("evenodd"):jt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),jt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Et=(0,c.getCurrentTransform)(this.ctx);if(Et[1]===0&&Et[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Et[0]),Math.abs(Et[3]));else{const St=Math.abs(Et[0]*Et[3]-Et[2]*Et[1]),jt=Math.hypot(Et[0],Et[2]),en=Math.hypot(Et[1],Et[3]);this._cachedGetSinglePixelWidth=Math.max(jt,en)/St}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Et}=this.current,{a:St,b:jt,c:en,d:sn}=this.ctx.getTransform();let rn,vn;if(jt===0&&en===0){const _n=Math.abs(St),In=Math.abs(sn);if(_n===In)if(Et===0)rn=vn=1/_n;else{const Fn=_n*Et;rn=vn=Fn<1?1/Fn:1}else if(Et===0)rn=1/_n,vn=1/In;else{const Fn=_n*Et,$n=In*Et;rn=Fn<1?1/Fn:1,vn=$n<1?1/$n:1}}else{const _n=Math.abs(St*sn-jt*en),In=Math.hypot(St,jt),Fn=Math.hypot(en,sn);if(Et===0)rn=Fn/_n,vn=In/_n;else{const $n=Et*_n;rn=Fn>$n?Fn/$n:1,vn=In>$n?In/$n:1}}this._cachedScaleForStroking[0]=rn,this._cachedScaleForStroking[1]=vn}return this._cachedScaleForStroking}rescaleAndStroke(Et){const{ctx:St}=this,{lineWidth:jt}=this.current,[en,sn]=this.getScaleForStroking();if(St.lineWidth=jt||1,en===1&&sn===1){St.stroke();return}const rn=St.getLineDash();if(Et&&St.save(),St.scale(en,sn),rn.length>0){const vn=Math.max(en,sn);St.setLineDash(rn.map(_n=>_n/vn)),St.lineDashOffset/=vn}St.stroke(),Et&&St.restore()}isContentVisible(){for(let Et=this.markedContentStack.length-1;Et>=0;Et--)if(!this.markedContentStack[Et].visible)return!1;return!0}};Jt=new WeakSet,co=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},uo=function(){if(this.pageColors){const Et=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Et!=="none"){const St=this.ctx.filter;this.ctx.filter=Et,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=St}}};let on=nn;i.CanvasGraphics=on;for(const Nt in a.OPS)on.prototype[Nt]!==void 0&&(on.prototype[a.OPS[Nt]]=on.prototype[Nt])},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=st;var a=o(1),c=o(6);const h={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=h;function g(tt,it){if(!it)return;const at=it[2]-it[0],mt=it[3]-it[1],ot=new Path2D;ot.rect(it[0],it[1],at,mt),tt.clip(ot)}class b{constructor(){this.constructor===b&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class _ extends b{constructor(it){super(),this._type=it[1],this._bbox=it[2],this._colorStops=it[3],this._p0=it[4],this._p1=it[5],this._r0=it[6],this._r1=it[7],this.matrix=null}_createGradient(it){let at;this._type==="axial"?at=it.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(at=it.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const mt of this._colorStops)at.addColorStop(mt[0],mt[1]);return at}getPattern(it,at,mt,ot){let pt;if(ot===h.STROKE||ot===h.FILL){const ht=at.current.getClippedPathBoundingBox(ot,(0,c.getCurrentTransform)(it))||[0,0,0,0],gt=Math.ceil(ht[2]-ht[0])||1,xt=Math.ceil(ht[3]-ht[1])||1,Tt=at.cachedCanvases.getCanvas("pattern",gt,xt,!0),wt=Tt.context;wt.clearRect(0,0,wt.canvas.width,wt.canvas.height),wt.beginPath(),wt.rect(0,0,wt.canvas.width,wt.canvas.height),wt.translate(-ht[0],-ht[1]),mt=a.Util.transform(mt,[1,0,0,1,ht[0],ht[1]]),wt.transform(...at.baseTransform),this.matrix&&wt.transform(...this.matrix),g(wt,this._bbox),wt.fillStyle=this._createGradient(wt),wt.fill(),pt=it.createPattern(Tt.canvas,"no-repeat");const kt=new DOMMatrix(mt);pt.setTransform(kt)}else g(it,this._bbox),pt=this._createGradient(it);return pt}}function $(tt,it,at,mt,ot,pt,ht,gt){const xt=it.coords,Tt=it.colors,wt=tt.data,kt=tt.width*4;let Yt;xt[at+1]>xt[mt+1]&&(Yt=at,at=mt,mt=Yt,Yt=pt,pt=ht,ht=Yt),xt[mt+1]>xt[ot+1]&&(Yt=mt,mt=ot,ot=Yt,Yt=ht,ht=gt,gt=Yt),xt[at+1]>xt[mt+1]&&(Yt=at,at=mt,mt=Yt,Yt=pt,pt=ht,ht=Yt);const fn=(xt[at]+it.offsetX)*it.scaleX,an=(xt[at+1]+it.offsetY)*it.scaleY,dn=(xt[mt]+it.offsetX)*it.scaleX,on=(xt[mt+1]+it.offsetY)*it.scaleY,Jt=(xt[ot]+it.offsetX)*it.scaleX,Rt=(xt[ot+1]+it.offsetY)*it.scaleY;if(an>=Rt)return;const zt=Tt[pt],nn=Tt[pt+1],Nt=Tt[pt+2],Et=Tt[ht],St=Tt[ht+1],jt=Tt[ht+2],en=Tt[gt],sn=Tt[gt+1],rn=Tt[gt+2],vn=Math.round(an),_n=Math.round(Rt);let In,Fn,$n,Un,Wn,Rn,xn,tn;for(let hn=vn;hn<=_n;hn++){if(hn<on){const Vn=hn<an?0:(an-hn)/(an-on);In=fn-(fn-dn)*Vn,Fn=zt-(zt-Et)*Vn,$n=nn-(nn-St)*Vn,Un=Nt-(Nt-jt)*Vn}else{let Vn;hn>Rt?Vn=1:on===Rt?Vn=0:Vn=(on-hn)/(on-Rt),In=dn-(dn-Jt)*Vn,Fn=Et-(Et-en)*Vn,$n=St-(St-sn)*Vn,Un=jt-(jt-rn)*Vn}let yn;hn<an?yn=0:hn>Rt?yn=1:yn=(an-hn)/(an-Rt),Wn=fn-(fn-Jt)*yn,Rn=zt-(zt-en)*yn,xn=nn-(nn-sn)*yn,tn=Nt-(Nt-rn)*yn;const On=Math.round(Math.min(In,Wn)),jn=Math.round(Math.max(In,Wn));let zn=kt*hn+On*4;for(let Vn=On;Vn<=jn;Vn++)yn=(In-Vn)/(In-Wn),yn<0?yn=0:yn>1&&(yn=1),wt[zn++]=Fn-(Fn-Rn)*yn|0,wt[zn++]=$n-($n-xn)*yn|0,wt[zn++]=Un-(Un-tn)*yn|0,wt[zn++]=255}}function _e(tt,it,at){const mt=it.coords,ot=it.colors;let pt,ht;switch(it.type){case"lattice":const gt=it.verticesPerRow,xt=Math.floor(mt.length/gt)-1,Tt=gt-1;for(pt=0;pt<xt;pt++){let wt=pt*gt;for(let kt=0;kt<Tt;kt++,wt++)$(tt,at,mt[wt],mt[wt+1],mt[wt+gt],ot[wt],ot[wt+1],ot[wt+gt]),$(tt,at,mt[wt+gt+1],mt[wt+1],mt[wt+gt],ot[wt+gt+1],ot[wt+1],ot[wt+gt])}break;case"triangles":for(pt=0,ht=mt.length;pt<ht;pt+=3)$(tt,at,mt[pt],mt[pt+1],mt[pt+2],ot[pt],ot[pt+1],ot[pt+2]);break;default:throw new Error("illegal figure")}}class et extends b{constructor(it){super(),this._coords=it[2],this._colors=it[3],this._figures=it[4],this._bounds=it[5],this._bbox=it[7],this._background=it[8],this.matrix=null}_createMeshCanvas(it,at,mt){const gt=Math.floor(this._bounds[0]),xt=Math.floor(this._bounds[1]),Tt=Math.ceil(this._bounds[2])-gt,wt=Math.ceil(this._bounds[3])-xt,kt=Math.min(Math.ceil(Math.abs(Tt*it[0]*1.1)),3e3),Yt=Math.min(Math.ceil(Math.abs(wt*it[1]*1.1)),3e3),fn=Tt/kt,an=wt/Yt,dn={coords:this._coords,colors:this._colors,offsetX:-gt,offsetY:-xt,scaleX:1/fn,scaleY:1/an},on=kt+2*2,Jt=Yt+2*2,Rt=mt.getCanvas("mesh",on,Jt,!1),zt=Rt.context,nn=zt.createImageData(kt,Yt);if(at){const Et=nn.data;for(let St=0,jt=Et.length;St<jt;St+=4)Et[St]=at[0],Et[St+1]=at[1],Et[St+2]=at[2],Et[St+3]=255}for(const Et of this._figures)_e(nn,Et,dn);return zt.putImageData(nn,2,2),{canvas:Rt.canvas,offsetX:gt-2*fn,offsetY:xt-2*an,scaleX:fn,scaleY:an}}getPattern(it,at,mt,ot){g(it,this._bbox);let pt;if(ot===h.SHADING)pt=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(it));else if(pt=a.Util.singularValueDecompose2dScale(at.baseTransform),this.matrix){const gt=a.Util.singularValueDecompose2dScale(this.matrix);pt=[pt[0]*gt[0],pt[1]*gt[1]]}const ht=this._createMeshCanvas(pt,ot===h.SHADING?null:this._background,at.cachedCanvases);return ot!==h.SHADING&&(it.setTransform(...at.baseTransform),this.matrix&&it.transform(...this.matrix)),it.translate(ht.offsetX,ht.offsetY),it.scale(ht.scaleX,ht.scaleY),it.createPattern(ht.canvas,"no-repeat")}}class rt extends b{getPattern(){return"hotpink"}}function st(tt){switch(tt[0]){case"RadialAxial":return new _(tt);case"Mesh":return new et(tt);case"Dummy":return new rt}throw new Error(`Unknown IR type: ${tt[0]}`)}const lt={COLORED:1,UNCOLORED:2},nt=class nt{constructor(it,at,mt,ot,pt){this.operatorList=it[2],this.matrix=it[3]||[1,0,0,1,0,0],this.bbox=it[4],this.xstep=it[5],this.ystep=it[6],this.paintType=it[7],this.tilingType=it[8],this.color=at,this.ctx=mt,this.canvasGraphicsFactory=ot,this.baseTransform=pt}createPatternCanvas(it){const at=this.operatorList,mt=this.bbox,ot=this.xstep,pt=this.ystep,ht=this.paintType,gt=this.tilingType,xt=this.color,Tt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+gt);const wt=mt[0],kt=mt[1],Yt=mt[2],fn=mt[3],an=a.Util.singularValueDecompose2dScale(this.matrix),dn=a.Util.singularValueDecompose2dScale(this.baseTransform),on=[an[0]*dn[0],an[1]*dn[1]],Jt=this.getSizeAndScale(ot,this.ctx.canvas.width,on[0]),Rt=this.getSizeAndScale(pt,this.ctx.canvas.height,on[1]),zt=it.cachedCanvases.getCanvas("pattern",Jt.size,Rt.size,!0),nn=zt.context,Nt=Tt.createCanvasGraphics(nn);Nt.groupLevel=it.groupLevel,this.setFillAndStrokeStyleToContext(Nt,ht,xt);let Et=wt,St=kt,jt=Yt,en=fn;return wt<0&&(Et=0,jt+=Math.abs(wt)),kt<0&&(St=0,en+=Math.abs(kt)),nn.translate(-(Jt.scale*Et),-(Rt.scale*St)),Nt.transform(Jt.scale,0,0,Rt.scale,0,0),nn.save(),this.clipBbox(Nt,Et,St,jt,en),Nt.baseTransform=(0,c.getCurrentTransform)(Nt.ctx),Nt.executeOperatorList(at),Nt.endDrawing(),{canvas:zt.canvas,scaleX:Jt.scale,scaleY:Rt.scale,offsetX:Et,offsetY:St}}getSizeAndScale(it,at,mt){it=Math.abs(it);const ot=Math.max(nt.MAX_PATTERN_SIZE,at);let pt=Math.ceil(it*mt);return pt>=ot?pt=ot:mt=pt/it,{scale:mt,size:pt}}clipBbox(it,at,mt,ot,pt){const ht=ot-at,gt=pt-mt;it.ctx.rect(at,mt,ht,gt),it.current.updateRectMinMax((0,c.getCurrentTransform)(it.ctx),[at,mt,ot,pt]),it.clip(),it.endPath()}setFillAndStrokeStyleToContext(it,at,mt){const ot=it.ctx,pt=it.current;switch(at){case lt.COLORED:const ht=this.ctx;ot.fillStyle=ht.fillStyle,ot.strokeStyle=ht.strokeStyle,pt.fillColor=ht.fillStyle,pt.strokeColor=ht.strokeStyle;break;case lt.UNCOLORED:const gt=a.Util.makeHexColor(mt[0],mt[1],mt[2]);ot.fillStyle=gt,ot.strokeStyle=gt,pt.fillColor=gt,pt.strokeColor=gt;break;default:throw new a.FormatError(`Unsupported paint type: ${at}`)}}getPattern(it,at,mt,ot){let pt=mt;ot!==h.SHADING&&(pt=a.Util.transform(pt,at.baseTransform),this.matrix&&(pt=a.Util.transform(pt,this.matrix)));const ht=this.createPatternCanvas(at);let gt=new DOMMatrix(pt);gt=gt.translate(ht.offsetX,ht.offsetY),gt=gt.scale(1/ht.scaleX,1/ht.scaleY);const xt=it.createPattern(ht.canvas,"repeat");return xt.setTransform(gt),xt}};Sr(nt,"MAX_PATTERN_SIZE",3e3);let dt=nt;i.TilingPattern=dt},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=h,i.convertToRGBA=c,i.grayToRGBA=b;var a=o(1);function c(_){switch(_.kind){case a.ImageKind.GRAYSCALE_1BPP:return h(_);case a.ImageKind.RGB_24BPP:return g(_)}return null}function h({src:_,srcPos:$=0,dest:_e,width:et,height:rt,nonBlackColor:st=4294967295,inverseDecode:lt=!1}){const dt=a.FeatureTest.isLittleEndian?4278190080:255,[nt,tt]=lt?[st,dt]:[dt,st],it=et>>3,at=et&7,mt=_.length;_e=new Uint32Array(_e.buffer);let ot=0;for(let pt=0;pt<rt;pt++){for(const gt=$+it;$<gt;$++){const xt=$<mt?_[$]:255;_e[ot++]=xt&128?tt:nt,_e[ot++]=xt&64?tt:nt,_e[ot++]=xt&32?tt:nt,_e[ot++]=xt&16?tt:nt,_e[ot++]=xt&8?tt:nt,_e[ot++]=xt&4?tt:nt,_e[ot++]=xt&2?tt:nt,_e[ot++]=xt&1?tt:nt}if(at===0)continue;const ht=$<mt?_[$++]:255;for(let gt=0;gt<at;gt++)_e[ot++]=ht&1<<7-gt?tt:nt}return{srcPos:$,destPos:ot}}function g({src:_,srcPos:$=0,dest:_e,destPos:et=0,width:rt,height:st}){let lt=0;const dt=_.length>>2,nt=new Uint32Array(_.buffer,$,dt);if(a.FeatureTest.isLittleEndian){for(;lt<dt-2;lt+=3,et+=4){const tt=nt[lt],it=nt[lt+1],at=nt[lt+2];_e[et]=tt|4278190080,_e[et+1]=tt>>>24|it<<8|4278190080,_e[et+2]=it>>>16|at<<16|4278190080,_e[et+3]=at>>>8|4278190080}for(let tt=lt*4,it=_.length;tt<it;tt+=3)_e[et++]=_[tt]|_[tt+1]<<8|_[tt+2]<<16|4278190080}else{for(;lt<dt-2;lt+=3,et+=4){const tt=nt[lt],it=nt[lt+1],at=nt[lt+2];_e[et]=tt|255,_e[et+1]=tt<<24|it>>>8|255,_e[et+2]=it<<16|at>>>16|255,_e[et+3]=at<<8|255}for(let tt=lt*4,it=_.length;tt<it;tt+=3)_e[et++]=_[tt]<<24|_[tt+1]<<16|_[tt+2]<<8|255}return{srcPos:$,destPos:et}}function b(_,$){if(a.FeatureTest.isLittleEndian)for(let _e=0,et=_.length;_e<et;_e++)$[_e]=_[_e]*65793|4278190080;else for(let _e=0,et=_.length;_e<et;_e++)$[_e]=_[_e]*16843008|255}},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const o=Object.create(null);i.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(s,i,o)=>{var _,Zo,Qo,Ds;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var a=o(1);const c={UNKNOWN:0,DATA:1,ERROR:2},h={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function g(rt){switch(rt instanceof Error||typeof rt=="object"&&rt!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),rt.name){case"AbortException":return new a.AbortException(rt.message);case"MissingPDFException":return new a.MissingPDFException(rt.message);case"PasswordException":return new a.PasswordException(rt.message,rt.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(rt.message,rt.status);case"UnknownErrorException":return new a.UnknownErrorException(rt.message,rt.details);default:return new a.UnknownErrorException(rt.message,rt.toString())}}class b{constructor(st,lt,dt){Cn(this,_);this.sourceName=st,this.targetName=lt,this.comObj=dt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=nt=>{const tt=nt.data;if(tt.targetName!==this.sourceName)return;if(tt.stream){En(this,_,Qo).call(this,tt);return}if(tt.callback){const at=tt.callbackId,mt=this.callbackCapabilities[at];if(!mt)throw new Error(`Cannot resolve callback ${at}`);if(delete this.callbackCapabilities[at],tt.callback===c.DATA)mt.resolve(tt.data);else if(tt.callback===c.ERROR)mt.reject(g(tt.reason));else throw new Error("Unexpected callback case");return}const it=this.actionHandler[tt.action];if(!it)throw new Error(`Unknown action from worker: ${tt.action}`);if(tt.callbackId){const at=this.sourceName,mt=tt.sourceName;new Promise(function(ot){ot(it(tt.data))}).then(function(ot){dt.postMessage({sourceName:at,targetName:mt,callback:c.DATA,callbackId:tt.callbackId,data:ot})},function(ot){dt.postMessage({sourceName:at,targetName:mt,callback:c.ERROR,callbackId:tt.callbackId,reason:g(ot)})});return}if(tt.streamId){En(this,_,Zo).call(this,tt);return}it(tt.data)},dt.addEventListener("message",this._onComObjOnMessage)}on(st,lt){const dt=this.actionHandler;if(dt[st])throw new Error(`There is already an actionName called "${st}"`);dt[st]=lt}send(st,lt,dt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:st,data:lt},dt)}sendWithPromise(st,lt,dt){const nt=this.callbackId++,tt=new a.PromiseCapability;this.callbackCapabilities[nt]=tt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:st,callbackId:nt,data:lt},dt)}catch(it){tt.reject(it)}return tt.promise}sendWithStream(st,lt,dt,nt){const tt=this.streamId++,it=this.sourceName,at=this.targetName,mt=this.comObj;return new ReadableStream({start:ot=>{const pt=new a.PromiseCapability;return this.streamControllers[tt]={controller:ot,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},mt.postMessage({sourceName:it,targetName:at,action:st,streamId:tt,data:lt,desiredSize:ot.desiredSize},nt),pt.promise},pull:ot=>{const pt=new a.PromiseCapability;return this.streamControllers[tt].pullCall=pt,mt.postMessage({sourceName:it,targetName:at,stream:h.PULL,streamId:tt,desiredSize:ot.desiredSize}),pt.promise},cancel:ot=>{(0,a.assert)(ot instanceof Error,"cancel must have a valid reason");const pt=new a.PromiseCapability;return this.streamControllers[tt].cancelCall=pt,this.streamControllers[tt].isClosed=!0,mt.postMessage({sourceName:it,targetName:at,stream:h.CANCEL,streamId:tt,reason:g(ot)}),pt.promise}},dt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_=new WeakSet,Zo=function(st){const lt=st.streamId,dt=this.sourceName,nt=st.sourceName,tt=this.comObj,it=this,at=this.actionHandler[st.action],mt={enqueue(ot,pt=1,ht){if(this.isCancelled)return;const gt=this.desiredSize;this.desiredSize-=pt,gt>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),tt.postMessage({sourceName:dt,targetName:nt,stream:h.ENQUEUE,streamId:lt,chunk:ot},ht)},close(){this.isCancelled||(this.isCancelled=!0,tt.postMessage({sourceName:dt,targetName:nt,stream:h.CLOSE,streamId:lt}),delete it.streamSinks[lt])},error(ot){(0,a.assert)(ot instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,tt.postMessage({sourceName:dt,targetName:nt,stream:h.ERROR,streamId:lt,reason:g(ot)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:st.desiredSize,ready:null};mt.sinkCapability.resolve(),mt.ready=mt.sinkCapability.promise,this.streamSinks[lt]=mt,new Promise(function(ot){ot(at(st.data,mt))}).then(function(){tt.postMessage({sourceName:dt,targetName:nt,stream:h.START_COMPLETE,streamId:lt,success:!0})},function(ot){tt.postMessage({sourceName:dt,targetName:nt,stream:h.START_COMPLETE,streamId:lt,reason:g(ot)})})},Qo=function(st){const lt=st.streamId,dt=this.sourceName,nt=st.sourceName,tt=this.comObj,it=this.streamControllers[lt],at=this.streamSinks[lt];switch(st.stream){case h.START_COMPLETE:st.success?it.startCall.resolve():it.startCall.reject(g(st.reason));break;case h.PULL_COMPLETE:st.success?it.pullCall.resolve():it.pullCall.reject(g(st.reason));break;case h.PULL:if(!at){tt.postMessage({sourceName:dt,targetName:nt,stream:h.PULL_COMPLETE,streamId:lt,success:!0});break}at.desiredSize<=0&&st.desiredSize>0&&at.sinkCapability.resolve(),at.desiredSize=st.desiredSize,new Promise(function(mt){var ot;mt((ot=at.onPull)==null?void 0:ot.call(at))}).then(function(){tt.postMessage({sourceName:dt,targetName:nt,stream:h.PULL_COMPLETE,streamId:lt,success:!0})},function(mt){tt.postMessage({sourceName:dt,targetName:nt,stream:h.PULL_COMPLETE,streamId:lt,reason:g(mt)})});break;case h.ENQUEUE:if((0,a.assert)(it,"enqueue should have stream controller"),it.isClosed)break;it.controller.enqueue(st.chunk);break;case h.CLOSE:if((0,a.assert)(it,"close should have stream controller"),it.isClosed)break;it.isClosed=!0,it.controller.close(),En(this,_,Ds).call(this,it,lt);break;case h.ERROR:(0,a.assert)(it,"error should have stream controller"),it.controller.error(g(st.reason)),En(this,_,Ds).call(this,it,lt);break;case h.CANCEL_COMPLETE:st.success?it.cancelCall.resolve():it.cancelCall.reject(g(st.reason)),En(this,_,Ds).call(this,it,lt);break;case h.CANCEL:if(!at)break;new Promise(function(mt){var ot;mt((ot=at.onCancel)==null?void 0:ot.call(at,g(st.reason)))}).then(function(){tt.postMessage({sourceName:dt,targetName:nt,stream:h.CANCEL_COMPLETE,streamId:lt,success:!0})},function(mt){tt.postMessage({sourceName:dt,targetName:nt,stream:h.CANCEL_COMPLETE,streamId:lt,reason:g(mt)})}),at.sinkCapability.reject(g(st.reason)),at.isCancelled=!0,delete this.streamSinks[lt];break;default:throw new Error("Unexpected stream case")}},Ds=async function(st,lt){var dt,nt,tt;await Promise.allSettled([(dt=st.startCall)==null?void 0:dt.promise,(nt=st.pullCall)==null?void 0:nt.promise,(tt=st.cancelCall)==null?void 0:tt.promise]),delete this.streamControllers[lt]},i.MessageHandler=b},(s,i,o)=>{var h,g;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var a=o(1);class c{constructor({parsedData:_,rawData:$}){Cn(this,h);Cn(this,g);wn(this,h,_),wn(this,g,$)}getRaw(){return vt(this,g)}get(_){return vt(this,h).get(_)??null}getAll(){return(0,a.objectFromMap)(vt(this,h))}has(_){return vt(this,h).has(_)}}h=new WeakMap,g=new WeakMap,i.Metadata=c},(s,i,o)=>{var _,$,_e,et,rt,st,ho;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var a=o(1),c=o(8);const h=Symbol("INTERNAL");class g{constructor(nt,tt){Cn(this,_,!0);this.name=nt,this.intent=tt}get visible(){return vt(this,_)}_setVisible(nt,tt){nt!==h&&(0,a.unreachable)("Internal method `_setVisible` called."),wn(this,_,tt)}}_=new WeakMap;class b{constructor(nt){Cn(this,st);Cn(this,$,null);Cn(this,_e,new Map);Cn(this,et,null);Cn(this,rt,null);if(this.name=null,this.creator=null,nt!==null){this.name=nt.name,this.creator=nt.creator,wn(this,rt,nt.order);for(const tt of nt.groups)vt(this,_e).set(tt.id,new g(tt.name,tt.intent));if(nt.baseState==="OFF")for(const tt of vt(this,_e).values())tt._setVisible(h,!1);for(const tt of nt.on)vt(this,_e).get(tt)._setVisible(h,!0);for(const tt of nt.off)vt(this,_e).get(tt)._setVisible(h,!1);wn(this,et,this.getHash())}}isVisible(nt){if(vt(this,_e).size===0)return!0;if(!nt)return(0,a.warn)("Optional content group not defined."),!0;if(nt.type==="OCG")return vt(this,_e).has(nt.id)?vt(this,_e).get(nt.id).visible:((0,a.warn)(`Optional content group not found: ${nt.id}`),!0);if(nt.type==="OCMD"){if(nt.expression)return En(this,st,ho).call(this,nt.expression);if(!nt.policy||nt.policy==="AnyOn"){for(const tt of nt.ids){if(!vt(this,_e).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(vt(this,_e).get(tt).visible)return!0}return!1}else if(nt.policy==="AllOn"){for(const tt of nt.ids){if(!vt(this,_e).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(!vt(this,_e).get(tt).visible)return!1}return!0}else if(nt.policy==="AnyOff"){for(const tt of nt.ids){if(!vt(this,_e).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(!vt(this,_e).get(tt).visible)return!0}return!1}else if(nt.policy==="AllOff"){for(const tt of nt.ids){if(!vt(this,_e).has(tt))return(0,a.warn)(`Optional content group not found: ${tt}`),!0;if(vt(this,_e).get(tt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${nt.policy}.`),!0}return(0,a.warn)(`Unknown group type ${nt.type}.`),!0}setVisibility(nt,tt=!0){if(!vt(this,_e).has(nt)){(0,a.warn)(`Optional content group not found: ${nt}`);return}vt(this,_e).get(nt)._setVisible(h,!!tt),wn(this,$,null)}get hasInitialVisibility(){return vt(this,et)===null||this.getHash()===vt(this,et)}getOrder(){return vt(this,_e).size?vt(this,rt)?vt(this,rt).slice():[...vt(this,_e).keys()]:null}getGroups(){return vt(this,_e).size>0?(0,a.objectFromMap)(vt(this,_e)):null}getGroup(nt){return vt(this,_e).get(nt)||null}getHash(){if(vt(this,$)!==null)return vt(this,$);const nt=new c.MurmurHash3_64;for(const[tt,it]of vt(this,_e))nt.update(`${tt}:${it.visible}`);return wn(this,$,nt.hexdigest())}}$=new WeakMap,_e=new WeakMap,et=new WeakMap,rt=new WeakMap,st=new WeakSet,ho=function(nt){const tt=nt.length;if(tt<2)return!0;const it=nt[0];for(let at=1;at<tt;at++){const mt=nt[at];let ot;if(Array.isArray(mt))ot=En(this,st,ho).call(this,mt);else if(vt(this,_e).has(mt))ot=vt(this,_e).get(mt).visible;else return(0,a.warn)(`Optional content group not found: ${mt}`),!0;switch(it){case"And":if(!ot)return!1;break;case"Or":if(ot)return!0;break;case"Not":return!ot;default:return!0}}return it==="And"},i.OptionalContentConfig=b},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var a=o(1),c=o(6);class h{constructor({length:$,initialData:_e,progressiveDone:et=!1,contentDispositionFilename:rt=null,disableRange:st=!1,disableStream:lt=!1},dt){if((0,a.assert)(dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=et,this._contentDispositionFilename=rt,(_e==null?void 0:_e.length)>0){const nt=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;this._queuedChunks.push(nt)}this._pdfDataRangeTransport=dt,this._isStreamingSupported=!lt,this._isRangeSupported=!st,this._contentLength=$,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((nt,tt)=>{this._onReceiveData({begin:nt,chunk:tt})}),this._pdfDataRangeTransport.addProgressListener((nt,tt)=>{this._onProgress({loaded:nt,total:tt})}),this._pdfDataRangeTransport.addProgressiveReadListener(nt=>{this._onReceiveData({chunk:nt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:$,chunk:_e}){const et=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(et):this._queuedChunks.push(et);else{const rt=this._rangeReaders.some(function(st){return st._begin!==$?!1:(st._enqueue(et),!0)});(0,a.assert)(rt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var _e,et,rt,st;$.total===void 0?(et=(_e=this._rangeReaders[0])==null?void 0:_e.onProgress)==null||et.call(_e,{loaded:$.loaded}):(st=(rt=this._fullRequestReader)==null?void 0:rt.onProgress)==null||st.call(rt,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const _e=this._rangeReaders.indexOf($);_e>=0&&this._rangeReaders.splice(_e,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new g(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const et=new b(this,$,_e);return this._pdfDataRangeTransport.requestDataRange($,_e),this._rangeReaders.push(et),et}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const et of this._rangeReaders.slice(0))et.cancel($);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=h;class g{constructor($,_e,et=!1,rt=null){this._stream=$,this._done=et||!1,this._filename=(0,c.isPdfFile)(rt)?rt:null,this._queuedChunks=_e||[],this._loaded=0;for(const st of this._queuedChunks)this._loaded+=st.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=new a.PromiseCapability;return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b{constructor($,_e,et){this._stream=$,this._begin=_e,this._end=et,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const et of this._requests)et.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const $=new a.PromiseCapability;return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var a=o(1),c=o(20);function h(et,rt,st){return{method:"GET",headers:et,signal:st.signal,mode:"cors",credentials:rt?"include":"same-origin",redirect:"follow"}}function g(et){const rt=new Headers;for(const st in et){const lt=et[st];lt!==void 0&&rt.append(st,lt)}return rt}function b(et){return et instanceof Uint8Array?et.buffer:et instanceof ArrayBuffer?et:((0,a.warn)(`getArrayBuffer - unexpected data format: ${et}`),new Uint8Array(et).buffer)}class _{constructor(rt){this.source=rt,this.isHttp=/^https?:/i.test(rt.url),this.httpHeaders=this.isHttp&&rt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var rt;return((rt=this._fullRequestReader)==null?void 0:rt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $(this),this._fullRequestReader}getRangeReader(rt,st){if(st<=this._progressiveDataLength)return null;const lt=new _e(this,rt,st);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(rt){var st;(st=this._fullRequestReader)==null||st.cancel(rt);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(rt)}}i.PDFFetchStream=_;class ${constructor(rt){this._stream=rt,this._reader=null,this._loaded=0,this._filename=null;const st=rt.source;this._withCredentials=st.withCredentials||!1,this._contentLength=st.length,this._headersCapability=new a.PromiseCapability,this._disableRange=st.disableRange||!1,this._rangeChunkSize=st.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!st.disableStream,this._isRangeSupported=!st.disableRange,this._headers=g(this._stream.httpHeaders);const lt=st.url;fetch(lt,h(this._headers,this._withCredentials,this._abortController)).then(dt=>{if(!(0,c.validateResponseStatus)(dt.status))throw(0,c.createResponseStatusError)(dt.status,lt);this._reader=dt.body.getReader(),this._headersCapability.resolve();const nt=at=>dt.headers.get(at),{allowRangeRequests:tt,suggestedLength:it}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:nt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=tt,this._contentLength=it||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(nt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._headersCapability.promise;const{value:rt,done:st}=await this._reader.read();return st?{value:rt,done:st}:(this._loaded+=rt.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:b(rt),done:!1})}cancel(rt){var st;(st=this._reader)==null||st.cancel(rt),this._abortController.abort()}}class _e{constructor(rt,st,lt){this._stream=rt,this._reader=null,this._loaded=0;const dt=rt.source;this._withCredentials=dt.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!dt.disableStream,this._abortController=new AbortController,this._headers=g(this._stream.httpHeaders),this._headers.append("Range",`bytes=${st}-${lt-1}`);const nt=dt.url;fetch(nt,h(this._headers,this._withCredentials,this._abortController)).then(tt=>{if(!(0,c.validateResponseStatus)(tt.status))throw(0,c.createResponseStatusError)(tt.status,nt);this._readCapability.resolve(),this._reader=tt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lt;await this._readCapability.promise;const{value:rt,done:st}=await this._reader.read();return st?{value:rt,done:st}:(this._loaded+=rt.byteLength,(lt=this.onProgress)==null||lt.call(this,{loaded:this._loaded}),{value:b(rt),done:!1})}cancel(rt){var st;(st=this._reader)==null||st.cancel(rt),this._abortController.abort()}}},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=_,i.extractFilenameFromHeader=b,i.validateRangeRequestCapabilities=g,i.validateResponseStatus=$;var a=o(1),c=o(21),h=o(6);function g({getResponseHeader:_e,isHttp:et,rangeChunkSize:rt,disableRange:st}){const lt={allowRangeRequests:!1,suggestedLength:void 0},dt=parseInt(_e("Content-Length"),10);return!Number.isInteger(dt)||(lt.suggestedLength=dt,dt<=2*rt)||st||!et||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(lt.allowRangeRequests=!0),lt}function b(_e){const et=_e("Content-Disposition");if(et){let rt=(0,c.getFilenameFromContentDispositionHeader)(et);if(rt.includes("%"))try{rt=decodeURIComponent(rt)}catch{}if((0,h.isPdfFile)(rt))return rt}return null}function _(_e,et){return _e===404||_e===0&&et.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+et+'".'):new a.UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${et}".`,_e)}function $(_e){return _e===200||_e===206}},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var a=o(1);function c(h){let g=!0,b=_("filename\\*","i").exec(h);if(b){b=b[1];let dt=rt(b);return dt=unescape(dt),dt=st(dt),dt=lt(dt),_e(dt)}if(b=et(h),b){const dt=lt(b);return _e(dt)}if(b=_("filename","i").exec(h),b){b=b[1];let dt=rt(b);return dt=lt(dt),_e(dt)}function _(dt,nt){return new RegExp("(?:^|;)\\s*"+dt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',nt)}function $(dt,nt){if(dt){if(!/^[\x00-\xFF]+$/.test(nt))return nt;try{const tt=new TextDecoder(dt,{fatal:!0}),it=(0,a.stringToBytes)(nt);nt=tt.decode(it),g=!1}catch{}}return nt}function _e(dt){return g&&/[\x80-\xff]/.test(dt)&&(dt=$("utf-8",dt),g&&(dt=$("iso-8859-1",dt))),dt}function et(dt){const nt=[];let tt;const it=_("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(tt=it.exec(dt))!==null;){let[,mt,ot,pt]=tt;if(mt=parseInt(mt,10),mt in nt){if(mt===0)break;continue}nt[mt]=[ot,pt]}const at=[];for(let mt=0;mt<nt.length&&mt in nt;++mt){let[ot,pt]=nt[mt];pt=rt(pt),ot&&(pt=unescape(pt),mt===0&&(pt=st(pt))),at.push(pt)}return at.join("")}function rt(dt){if(dt.startsWith('"')){const nt=dt.slice(1).split('\\"');for(let tt=0;tt<nt.length;++tt){const it=nt[tt].indexOf('"');it!==-1&&(nt[tt]=nt[tt].slice(0,it),nt.length=tt+1),nt[tt]=nt[tt].replaceAll(/\\(.)/g,"$1")}dt=nt.join('"')}return dt}function st(dt){const nt=dt.indexOf("'");if(nt===-1)return dt;const tt=dt.slice(0,nt),at=dt.slice(nt+1).replace(/^[^']*'/,"");return $(tt,at)}function lt(dt){return!dt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(dt)?dt:dt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(nt,tt,it,at){if(it==="q"||it==="Q")return at=at.replaceAll("_"," "),at=at.replaceAll(/=([0-9a-fA-F]{2})/g,function(mt,ot){return String.fromCharCode(parseInt(ot,16))}),$(tt,at);try{at=atob(at)}catch{}return $(tt,at)})}return""}},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var a=o(1),c=o(20);const h=200,g=206;function b(rt){const st=rt.response;return typeof st!="string"?st:(0,a.stringToBytes)(st).buffer}class _{constructor(st,lt={}){this.url=st,this.isHttp=/^https?:/i.test(st),this.httpHeaders=this.isHttp&&lt.httpHeaders||Object.create(null),this.withCredentials=lt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(st,lt,dt){const nt={begin:st,end:lt};for(const tt in dt)nt[tt]=dt[tt];return this.request(nt)}requestFull(st){return this.request(st)}request(st){const lt=new XMLHttpRequest,dt=this.currXhrId++,nt=this.pendingRequests[dt]={xhr:lt};lt.open("GET",this.url),lt.withCredentials=this.withCredentials;for(const tt in this.httpHeaders){const it=this.httpHeaders[tt];it!==void 0&&lt.setRequestHeader(tt,it)}return this.isHttp&&"begin"in st&&"end"in st?(lt.setRequestHeader("Range",`bytes=${st.begin}-${st.end-1}`),nt.expectedStatus=g):nt.expectedStatus=h,lt.responseType="arraybuffer",st.onError&&(lt.onerror=function(tt){st.onError(lt.status)}),lt.onreadystatechange=this.onStateChange.bind(this,dt),lt.onprogress=this.onProgress.bind(this,dt),nt.onHeadersReceived=st.onHeadersReceived,nt.onDone=st.onDone,nt.onError=st.onError,nt.onProgress=st.onProgress,lt.send(null),dt}onProgress(st,lt){var nt;const dt=this.pendingRequests[st];dt&&((nt=dt.onProgress)==null||nt.call(dt,lt))}onStateChange(st,lt){var mt,ot,pt;const dt=this.pendingRequests[st];if(!dt)return;const nt=dt.xhr;if(nt.readyState>=2&&dt.onHeadersReceived&&(dt.onHeadersReceived(),delete dt.onHeadersReceived),nt.readyState!==4||!(st in this.pendingRequests))return;if(delete this.pendingRequests[st],nt.status===0&&this.isHttp){(mt=dt.onError)==null||mt.call(dt,nt.status);return}const tt=nt.status||h;if(!(tt===h&&dt.expectedStatus===g)&&tt!==dt.expectedStatus){(ot=dt.onError)==null||ot.call(dt,nt.status);return}const at=b(nt);if(tt===g){const ht=nt.getResponseHeader("Content-Range"),gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(ht);dt.onDone({begin:parseInt(gt[1],10),chunk:at})}else at?dt.onDone({begin:0,chunk:at}):(pt=dt.onError)==null||pt.call(dt,nt.status)}getRequestXhr(st){return this.pendingRequests[st].xhr}isPendingRequest(st){return st in this.pendingRequests}abortRequest(st){const lt=this.pendingRequests[st].xhr;delete this.pendingRequests[st],lt.abort()}}class ${constructor(st){this._source=st,this._manager=new _(st.url,{httpHeaders:st.httpHeaders,withCredentials:st.withCredentials}),this._rangeChunkSize=st.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(st){const lt=this._rangeRequestReaders.indexOf(st);lt>=0&&this._rangeRequestReaders.splice(lt,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this._manager,this._source),this._fullRequestReader}getRangeReader(st,lt){const dt=new et(this._manager,st,lt);return dt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(dt),dt}cancelAllRequests(st){var lt;(lt=this._fullRequestReader)==null||lt.cancel(st);for(const dt of this._rangeRequestReaders.slice(0))dt.cancel(st)}}i.PDFNetworkStream=$;class _e{constructor(st,lt){this._manager=st;const dt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._fullRequestId=st.requestFull(dt),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=lt.disableRange||!1,this._contentLength=lt.length,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const st=this._fullRequestId,lt=this._manager.getRequestXhr(st),dt=it=>lt.getResponseHeader(it),{allowRangeRequests:nt,suggestedLength:tt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});nt&&(this._isRangeSupported=!0),this._contentLength=tt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(dt),this._isRangeSupported&&this._manager.abortRequest(st),this._headersReceivedCapability.resolve()}_onDone(st){if(st&&(this._requests.length>0?this._requests.shift().resolve({value:st.chunk,done:!1}):this._cachedChunks.push(st.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(st){this._storedError=(0,c.createResponseStatusError)(st,this._url),this._headersReceivedCapability.reject(this._storedError);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(st){var lt;(lt=this.onProgress)==null||lt.call(this,{loaded:st.loaded,total:st.lengthComputable?st.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const st=new a.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0,this._headersReceivedCapability.reject(st);for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class et{constructor(st,lt,dt){this._manager=st;const nt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=st.url,this._requestId=st.requestRange(lt,dt,nt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var st;(st=this.onClosed)==null||st.call(this,this)}_onDone(st){const lt=st.chunk;this._requests.length>0?this._requests.shift().resolve({value:lt,done:!1}):this._queuedChunk=lt,this._done=!0;for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(st){this._storedError=(0,c.createResponseStatusError)(st,this._url);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(st){var lt;this.isStreamingSupported||(lt=this.onProgress)==null||lt.call(this,{loaded:st.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const st=new a.PromiseCapability;return this._requests.push(st),st.promise}cancel(st){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var a=o(1),c=o(20);const h=/^file:\/\/\/[a-zA-Z]:\//;function g(dt){const nt=require$$5,tt=nt.parse(dt);return tt.protocol==="file:"||tt.host?tt:/^[a-z]:[/\\]/i.test(dt)?nt.parse(`file:///${dt}`):(tt.host||(tt.protocol="file:"),tt)}class b{constructor(nt){this.source=nt,this.url=g(nt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&nt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var nt;return((nt=this._fullRequestReader)==null?void 0:nt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new st(this):new et(this),this._fullRequestReader}getRangeReader(nt,tt){if(tt<=this._progressiveDataLength)return null;const it=this.isFsUrl?new lt(this,nt,tt):new rt(this,nt,tt);return this._rangeRequestReaders.push(it),it}cancelAllRequests(nt){var tt;(tt=this._fullRequestReader)==null||tt.cancel(nt);for(const it of this._rangeRequestReaders.slice(0))it.cancel(nt)}}i.PDFNodeStream=b;class _{constructor(nt){this._url=nt.url,this._done=!1,this._storedError=null,this.onProgress=null;const tt=nt.source;this._contentLength=tt.length,this._loaded=0,this._filename=null,this._disableRange=tt.disableRange||!1,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!tt.disableStream,this._isRangeSupported=!tt.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const nt=this._readableStream.read();return nt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=nt.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(nt).buffer,done:!1})}cancel(nt){if(!this._readableStream){this._error(nt);return}this._readableStream.destroy(nt)}_error(nt){this._storedError=nt,this._readCapability.resolve()}_setReadableStream(nt){this._readableStream=nt,nt.on("readable",()=>{this._readCapability.resolve()}),nt.on("end",()=>{nt.destroy(),this._done=!0,this._readCapability.resolve()}),nt.on("error",tt=>{this._error(tt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ${constructor(nt){this._url=nt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const tt=nt.source;this._isStreamingSupported=!tt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var it;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const nt=this._readableStream.read();return nt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=nt.length,(it=this.onProgress)==null||it.call(this,{loaded:this._loaded}),{value:new Uint8Array(nt).buffer,done:!1})}cancel(nt){if(!this._readableStream){this._error(nt);return}this._readableStream.destroy(nt)}_error(nt){this._storedError=nt,this._readCapability.resolve()}_setReadableStream(nt){this._readableStream=nt,nt.on("readable",()=>{this._readCapability.resolve()}),nt.on("end",()=>{nt.destroy(),this._done=!0,this._readCapability.resolve()}),nt.on("error",tt=>{this._error(tt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _e(dt,nt){return{protocol:dt.protocol,auth:dt.auth,host:dt.hostname,port:dt.port,path:dt.path,method:"GET",headers:nt}}class et extends _{constructor(nt){super(nt);const tt=it=>{if(it.statusCode===404){const pt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pt,this._headersCapability.reject(pt);return}this._headersCapability.resolve(),this._setReadableStream(it);const at=pt=>this._readableStream.headers[pt.toLowerCase()],{allowRangeRequests:mt,suggestedLength:ot}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:at,isHttp:nt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=mt,this._contentLength=ot||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(at)};if(this._request=null,this._url.protocol==="http:"){const it=require$$5;this._request=it.request(_e(this._url,nt.httpHeaders),tt)}else{const it=require$$5;this._request=it.request(_e(this._url,nt.httpHeaders),tt)}this._request.on("error",it=>{this._storedError=it,this._headersCapability.reject(it)}),this._request.end()}}class rt extends ${constructor(nt,tt,it){super(nt),this._httpHeaders={};for(const mt in nt.httpHeaders){const ot=nt.httpHeaders[mt];ot!==void 0&&(this._httpHeaders[mt]=ot)}this._httpHeaders.Range=`bytes=${tt}-${it-1}`;const at=mt=>{if(mt.statusCode===404){const ot=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ot;return}this._setReadableStream(mt)};if(this._request=null,this._url.protocol==="http:"){const mt=require$$5;this._request=mt.request(_e(this._url,this._httpHeaders),at)}else{const mt=require$$5;this._request=mt.request(_e(this._url,this._httpHeaders),at)}this._request.on("error",mt=>{this._storedError=mt}),this._request.end()}}class st extends _{constructor(nt){super(nt);let tt=decodeURIComponent(this._url.path);h.test(this._url.href)&&(tt=tt.replace(/^\//,""));const it=require$$5;it.lstat(tt,(at,mt)=>{if(at){at.code==="ENOENT"&&(at=new a.MissingPDFException(`Missing PDF "${tt}".`)),this._storedError=at,this._headersCapability.reject(at);return}this._contentLength=mt.size,this._setReadableStream(it.createReadStream(tt)),this._headersCapability.resolve()})}}class lt extends ${constructor(nt,tt,it){super(nt);let at=decodeURIComponent(this._url.path);h.test(this._url.href)&&(at=at.replace(/^\//,""));const mt=require$$5;this._setReadableStream(mt.createReadStream(at,{start:tt,end:it-1}))}}},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var a=o(6),c=o(1);const h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},g="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",_=["butt","round","square"],$=["miter","round","bevel"],_e=function(mt,ot="",pt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!pt)return URL.createObjectURL(new Blob([mt],{type:ot}));const ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let gt=`data:${ot};base64,`;for(let xt=0,Tt=mt.length;xt<Tt;xt+=3){const wt=mt[xt]&255,kt=mt[xt+1]&255,Yt=mt[xt+2]&255,fn=wt>>2,an=(wt&3)<<4|kt>>4,dn=xt+1<Tt?(kt&15)<<2|Yt>>6:64,on=xt+2<Tt?Yt&63:64;gt+=ht[fn]+ht[an]+ht[dn]+ht[on]}return gt},et=function(){const mt=new Uint8Array([137,80,78,71,13,10,26,10]),ot=12,pt=new Int32Array(256);for(let Yt=0;Yt<256;Yt++){let fn=Yt;for(let an=0;an<8;an++)fn=fn&1?3988292384^fn>>1&2147483647:fn>>1&2147483647;pt[Yt]=fn}function ht(Yt,fn,an){let dn=-1;for(let on=fn;on<an;on++){const Jt=(dn^Yt[on])&255,Rt=pt[Jt];dn=dn>>>8^Rt}return dn^-1}function gt(Yt,fn,an,dn){let on=dn;const Jt=fn.length;an[on]=Jt>>24&255,an[on+1]=Jt>>16&255,an[on+2]=Jt>>8&255,an[on+3]=Jt&255,on+=4,an[on]=Yt.charCodeAt(0)&255,an[on+1]=Yt.charCodeAt(1)&255,an[on+2]=Yt.charCodeAt(2)&255,an[on+3]=Yt.charCodeAt(3)&255,on+=4,an.set(fn,on),on+=fn.length;const Rt=ht(an,dn+4,on);an[on]=Rt>>24&255,an[on+1]=Rt>>16&255,an[on+2]=Rt>>8&255,an[on+3]=Rt&255}function xt(Yt,fn,an){let dn=1,on=0;for(let Jt=fn;Jt<an;++Jt)dn=(dn+(Yt[Jt]&255))%65521,on=(on+dn)%65521;return on<<16|dn}function Tt(Yt){if(!c.isNodeJS)return wt(Yt);try{const fn=parseInt(process.versions.node)>=8?Yt:Buffer.from(Yt),an=require$$5.deflateSync(fn,{level:9});return an instanceof Uint8Array?an:new Uint8Array(an)}catch(fn){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+fn)}return wt(Yt)}function wt(Yt){let fn=Yt.length;const an=65535,dn=Math.ceil(fn/an),on=new Uint8Array(2+fn+dn*5+4);let Jt=0;on[Jt++]=120,on[Jt++]=156;let Rt=0;for(;fn>an;)on[Jt++]=0,on[Jt++]=255,on[Jt++]=255,on[Jt++]=0,on[Jt++]=0,on.set(Yt.subarray(Rt,Rt+an),Jt),Jt+=an,Rt+=an,fn-=an;on[Jt++]=1,on[Jt++]=fn&255,on[Jt++]=fn>>8&255,on[Jt++]=~fn&65535&255,on[Jt++]=(~fn&65535)>>8&255,on.set(Yt.subarray(Rt),Jt),Jt+=Yt.length-Rt;const zt=xt(Yt,0,Yt.length);return on[Jt++]=zt>>24&255,on[Jt++]=zt>>16&255,on[Jt++]=zt>>8&255,on[Jt++]=zt&255,on}function kt(Yt,fn,an,dn){const on=Yt.width,Jt=Yt.height;let Rt,zt,nn;const Nt=Yt.data;switch(fn){case c.ImageKind.GRAYSCALE_1BPP:zt=0,Rt=1,nn=on+7>>3;break;case c.ImageKind.RGB_24BPP:zt=2,Rt=8,nn=on*3;break;case c.ImageKind.RGBA_32BPP:zt=6,Rt=8,nn=on*4;break;default:throw new Error("invalid format")}const Et=new Uint8Array((1+nn)*Jt);let St=0,jt=0;for(let In=0;In<Jt;++In)Et[St++]=0,Et.set(Nt.subarray(jt,jt+nn),St),jt+=nn,St+=nn;if(fn===c.ImageKind.GRAYSCALE_1BPP&&dn){St=0;for(let In=0;In<Jt;In++){St++;for(let Fn=0;Fn<nn;Fn++)Et[St++]^=255}}const en=new Uint8Array([on>>24&255,on>>16&255,on>>8&255,on&255,Jt>>24&255,Jt>>16&255,Jt>>8&255,Jt&255,Rt,zt,0,0,0]),sn=Tt(Et),rn=mt.length+ot*3+en.length+sn.length,vn=new Uint8Array(rn);let _n=0;return vn.set(mt,_n),_n+=mt.length,gt("IHDR",en,vn,_n),_n+=ot+en.length,gt("IDATA",sn,vn,_n),_n+=ot+sn.length,gt("IEND",new Uint8Array(0),vn,_n),_e(vn,"image/png",an)}return function(fn,an,dn){const on=fn.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:fn.kind;return kt(fn,on,an,dn)}}();class rt{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ot,pt){this.x=ot,this.y=pt}}function st(mt){let ot=[];const pt=[];for(const ht of mt){if(ht.fn==="save"){ot.push({fnId:92,fn:"group",items:[]}),pt.push(ot),ot=ot.at(-1).items;continue}ht.fn==="restore"?ot=pt.pop():ot.push(ht)}return ot}function lt(mt){if(Number.isInteger(mt))return mt.toString();const ot=mt.toFixed(10);let pt=ot.length-1;if(ot[pt]!=="0")return ot;do pt--;while(ot[pt]==="0");return ot.substring(0,ot[pt]==="."?pt:pt+1)}function dt(mt){if(mt[4]===0&&mt[5]===0){if(mt[1]===0&&mt[2]===0)return mt[0]===1&&mt[3]===1?"":`scale(${lt(mt[0])} ${lt(mt[3])})`;if(mt[0]===mt[3]&&mt[1]===-mt[2]){const ot=Math.acos(mt[0])*180/Math.PI;return`rotate(${lt(ot)})`}}else if(mt[0]===1&&mt[1]===0&&mt[2]===0&&mt[3]===1)return`translate(${lt(mt[4])} ${lt(mt[5])})`;return`matrix(${lt(mt[0])} ${lt(mt[1])} ${lt(mt[2])} ${lt(mt[3])} ${lt(mt[4])} ${lt(mt[5])})`}let nt=0,tt=0,it=0;class at{constructor(ot,pt,ht=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new rt,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ot,this.objs=pt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ht,this._operatorIdMapping=[];for(const gt in c.OPS)this._operatorIdMapping[c.OPS[gt]]=gt}getObject(ot,pt=null){return typeof ot=="string"?ot.startsWith("g_")?this.commonObjs.get(ot):this.objs.get(ot):pt}save(){this.transformStack.push(this.transformMatrix);const ot=this.current;this.extraStack.push(ot),this.current=ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ot){this.save(),this.executeOpTree(ot),this.restore()}loadDependencies(ot){const pt=ot.fnArray,ht=ot.argsArray;for(let gt=0,xt=pt.length;gt<xt;gt++)if(pt[gt]===c.OPS.dependency)for(const Tt of ht[gt]){const wt=Tt.startsWith("g_")?this.commonObjs:this.objs,kt=new Promise(Yt=>{wt.get(Tt,Yt)});this.current.dependencies.push(kt)}return Promise.all(this.current.dependencies)}transform(ot,pt,ht,gt,xt,Tt){const wt=[ot,pt,ht,gt,xt,Tt];this.transformMatrix=c.Util.transform(this.transformMatrix,wt),this.tgrp=null}getSVG(ot,pt){this.viewport=pt;const ht=this._initialize(pt);return this.loadDependencies(ot).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ot)),ht))}convertOpList(ot){const pt=this._operatorIdMapping,ht=ot.argsArray,gt=ot.fnArray,xt=[];for(let Tt=0,wt=gt.length;Tt<wt;Tt++){const kt=gt[Tt];xt.push({fnId:kt,fn:pt[kt],args:ht[Tt]})}return st(xt)}executeOpTree(ot){for(const pt of ot){const ht=pt.fn,gt=pt.fnId,xt=pt.args;switch(gt|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(xt);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(xt[0],xt[1]);break;case c.OPS.setFont:this.setFont(xt);break;case c.OPS.showText:this.showText(xt[0]);break;case c.OPS.showSpacedText:this.showText(xt[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(xt[0],xt[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(xt[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(xt[0]);break;case c.OPS.setHScale:this.setHScale(xt[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case c.OPS.setTextRise:this.setTextRise(xt[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(xt[0]);break;case c.OPS.setLineWidth:this.setLineWidth(xt[0]);break;case c.OPS.setLineJoin:this.setLineJoin(xt[0]);break;case c.OPS.setLineCap:this.setLineCap(xt[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(xt[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(xt[0],xt[1],xt[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(xt[0],xt[1],xt[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(xt);break;case c.OPS.setFillColorN:this.setFillColorN(xt);break;case c.OPS.shadingFill:this.shadingFill(xt[0]);break;case c.OPS.setDash:this.setDash(xt[0],xt[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(xt[0]);break;case c.OPS.setFlatness:this.setFlatness(xt[0]);break;case c.OPS.setGState:this.setGState(xt[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(xt[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(xt[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(xt[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(xt[0],xt[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]);break;case c.OPS.constructPath:this.constructPath(xt[0],xt[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(pt.items);break;default:(0,c.warn)(`Unimplemented operator ${ht}`);break}}}setWordSpacing(ot){this.current.wordSpacing=ot}setCharSpacing(ot){this.current.charSpacing=ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ot,pt,ht,gt,xt,Tt){const wt=this.current;wt.textMatrix=wt.lineMatrix=[ot,pt,ht,gt,xt,Tt],wt.textMatrixScale=Math.hypot(ot,pt),wt.x=wt.lineX=0,wt.y=wt.lineY=0,wt.xcoords=[],wt.ycoords=[],wt.tspan=this.svgFactory.createElement("svg:tspan"),wt.tspan.setAttributeNS(null,"font-family",wt.fontFamily),wt.tspan.setAttributeNS(null,"font-size",`${lt(wt.fontSize)}px`),wt.tspan.setAttributeNS(null,"y",lt(-wt.y)),wt.txtElement=this.svgFactory.createElement("svg:text"),wt.txtElement.append(wt.tspan)}beginText(){const ot=this.current;ot.x=ot.lineX=0,ot.y=ot.lineY=0,ot.textMatrix=c.IDENTITY_MATRIX,ot.lineMatrix=c.IDENTITY_MATRIX,ot.textMatrixScale=1,ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.txtElement=this.svgFactory.createElement("svg:text"),ot.txtgrp=this.svgFactory.createElement("svg:g"),ot.xcoords=[],ot.ycoords=[]}moveText(ot,pt){const ht=this.current;ht.x=ht.lineX+=ot,ht.y=ht.lineY+=pt,ht.xcoords=[],ht.ycoords=[],ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.tspan.setAttributeNS(null,"font-family",ht.fontFamily),ht.tspan.setAttributeNS(null,"font-size",`${lt(ht.fontSize)}px`),ht.tspan.setAttributeNS(null,"y",lt(-ht.y))}showText(ot){const pt=this.current,ht=pt.font,gt=pt.fontSize;if(gt===0)return;const xt=pt.fontSizeScale,Tt=pt.charSpacing,wt=pt.wordSpacing,kt=pt.fontDirection,Yt=pt.textHScale*kt,fn=ht.vertical,an=fn?1:-1,dn=ht.defaultVMetrics,on=gt*pt.fontMatrix[0];let Jt=0;for(const nn of ot){if(nn===null){Jt+=kt*wt;continue}else if(typeof nn=="number"){Jt+=an*nn*gt/1e3;continue}const Nt=(nn.isSpace?wt:0)+Tt,Et=nn.fontChar;let St,jt,en=nn.width;if(fn){let rn;const vn=nn.vmetric||dn;rn=nn.vmetric?vn[1]:en*.5,rn=-rn*on;const _n=vn[2]*on;en=vn?-vn[0]:en,St=rn/xt,jt=(Jt+_n)/xt}else St=Jt/xt,jt=0;(nn.isInFont||ht.missingFile)&&(pt.xcoords.push(pt.x+St),fn&&pt.ycoords.push(-pt.y+jt),pt.tspan.textContent+=Et);const sn=fn?en*on-Nt*kt:en*on+Nt*kt;Jt+=sn}pt.tspan.setAttributeNS(null,"x",pt.xcoords.map(lt).join(" ")),fn?pt.tspan.setAttributeNS(null,"y",pt.ycoords.map(lt).join(" ")):pt.tspan.setAttributeNS(null,"y",lt(-pt.y)),fn?pt.y-=Jt:pt.x+=Jt*Yt,pt.tspan.setAttributeNS(null,"font-family",pt.fontFamily),pt.tspan.setAttributeNS(null,"font-size",`${lt(pt.fontSize)}px`),pt.fontStyle!==h.fontStyle&&pt.tspan.setAttributeNS(null,"font-style",pt.fontStyle),pt.fontWeight!==h.fontWeight&&pt.tspan.setAttributeNS(null,"font-weight",pt.fontWeight);const Rt=pt.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(Rt===c.TextRenderingMode.FILL||Rt===c.TextRenderingMode.FILL_STROKE?(pt.fillColor!==h.fillColor&&pt.tspan.setAttributeNS(null,"fill",pt.fillColor),pt.fillAlpha<1&&pt.tspan.setAttributeNS(null,"fill-opacity",pt.fillAlpha)):pt.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?pt.tspan.setAttributeNS(null,"fill","transparent"):pt.tspan.setAttributeNS(null,"fill","none"),Rt===c.TextRenderingMode.STROKE||Rt===c.TextRenderingMode.FILL_STROKE){const nn=1/(pt.textMatrixScale||1);this._setStrokeAttributes(pt.tspan,nn)}let zt=pt.textMatrix;pt.textRise!==0&&(zt=zt.slice(),zt[5]+=pt.textRise),pt.txtElement.setAttributeNS(null,"transform",`${dt(zt)} scale(${lt(Yt)}, -1)`),pt.txtElement.setAttributeNS(g,"xml:space","preserve"),pt.txtElement.append(pt.tspan),pt.txtgrp.append(pt.txtElement),this._ensureTransformGroup().append(pt.txtElement)}setLeadingMoveText(ot,pt){this.setLeading(-pt),this.moveText(ot,pt)}addFontStyle(ot){if(!ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const pt=_e(ot.data,ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ot.loadedName}"; src: url(${pt}); }
`}setFont(ot){const pt=this.current,ht=this.commonObjs.get(ot[0]);let gt=ot[1];pt.font=ht,this.embedFonts&&!ht.missingFile&&!this.embeddedFonts[ht.loadedName]&&(this.addFontStyle(ht),this.embeddedFonts[ht.loadedName]=ht),pt.fontMatrix=ht.fontMatrix||c.FONT_IDENTITY_MATRIX;let xt="normal";ht.black?xt="900":ht.bold&&(xt="bold");const Tt=ht.italic?"italic":"normal";gt<0?(gt=-gt,pt.fontDirection=-1):pt.fontDirection=1,pt.fontSize=gt,pt.fontFamily=ht.loadedName,pt.fontWeight=xt,pt.fontStyle=Tt,pt.tspan=this.svgFactory.createElement("svg:tspan"),pt.tspan.setAttributeNS(null,"y",lt(-pt.y)),pt.xcoords=[],pt.ycoords=[]}endText(){var pt;const ot=this.current;ot.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((pt=ot.txtElement)!=null&&pt.hasChildNodes())&&(ot.element=ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ot){ot>0&&(this.current.lineWidth=ot)}setLineCap(ot){this.current.lineCap=_[ot]}setLineJoin(ot){this.current.lineJoin=$[ot]}setMiterLimit(ot){this.current.miterLimit=ot}setStrokeAlpha(ot){this.current.strokeAlpha=ot}setStrokeRGBColor(ot,pt,ht){this.current.strokeColor=c.Util.makeHexColor(ot,pt,ht)}setFillAlpha(ot){this.current.fillAlpha=ot}setFillRGBColor(ot,pt,ht){this.current.fillColor=c.Util.makeHexColor(ot,pt,ht),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ot){this.current.strokeColor=this._makeColorN_Pattern(ot)}setFillColorN(ot){this.current.fillColor=this._makeColorN_Pattern(ot)}shadingFill(ot){const{width:pt,height:ht}=this.viewport,gt=c.Util.inverseTransform(this.transformMatrix),[xt,Tt,wt,kt]=c.Util.getAxialAlignedBoundingBox([0,0,pt,ht],gt),Yt=this.svgFactory.createElement("svg:rect");Yt.setAttributeNS(null,"x",xt),Yt.setAttributeNS(null,"y",Tt),Yt.setAttributeNS(null,"width",wt-xt),Yt.setAttributeNS(null,"height",kt-Tt),Yt.setAttributeNS(null,"fill",this._makeShadingPattern(ot)),this.current.fillAlpha<1&&Yt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Yt)}_makeColorN_Pattern(ot){return ot[0]==="TilingPattern"?this._makeTilingPattern(ot):this._makeShadingPattern(ot)}_makeTilingPattern(ot){const pt=ot[1],ht=ot[2],gt=ot[3]||c.IDENTITY_MATRIX,[xt,Tt,wt,kt]=ot[4],Yt=ot[5],fn=ot[6],an=ot[7],dn=`shading${it++}`,[on,Jt,Rt,zt]=c.Util.normalizeRect([...c.Util.applyTransform([xt,Tt],gt),...c.Util.applyTransform([wt,kt],gt)]),[nn,Nt]=c.Util.singularValueDecompose2dScale(gt),Et=Yt*nn,St=fn*Nt,jt=this.svgFactory.createElement("svg:pattern");jt.setAttributeNS(null,"id",dn),jt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),jt.setAttributeNS(null,"width",Et),jt.setAttributeNS(null,"height",St),jt.setAttributeNS(null,"x",`${on}`),jt.setAttributeNS(null,"y",`${Jt}`);const en=this.svg,sn=this.transformMatrix,rn=this.current.fillColor,vn=this.current.strokeColor,_n=this.svgFactory.create(Rt-on,zt-Jt);if(this.svg=_n,this.transformMatrix=gt,an===2){const In=c.Util.makeHexColor(...pt);this.current.fillColor=In,this.current.strokeColor=In}return this.executeOpTree(this.convertOpList(ht)),this.svg=en,this.transformMatrix=sn,this.current.fillColor=rn,this.current.strokeColor=vn,jt.append(_n.childNodes[0]),this.defs.append(jt),`url(#${dn})`}_makeShadingPattern(ot){switch(typeof ot=="string"&&(ot=this.objs.get(ot)),ot[0]){case"RadialAxial":const pt=`shading${it++}`,ht=ot[3];let gt;switch(ot[1]){case"axial":const xt=ot[4],Tt=ot[5];gt=this.svgFactory.createElement("svg:linearGradient"),gt.setAttributeNS(null,"id",pt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"x1",xt[0]),gt.setAttributeNS(null,"y1",xt[1]),gt.setAttributeNS(null,"x2",Tt[0]),gt.setAttributeNS(null,"y2",Tt[1]);break;case"radial":const wt=ot[4],kt=ot[5],Yt=ot[6],fn=ot[7];gt=this.svgFactory.createElement("svg:radialGradient"),gt.setAttributeNS(null,"id",pt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"cx",kt[0]),gt.setAttributeNS(null,"cy",kt[1]),gt.setAttributeNS(null,"r",fn),gt.setAttributeNS(null,"fx",wt[0]),gt.setAttributeNS(null,"fy",wt[1]),gt.setAttributeNS(null,"fr",Yt);break;default:throw new Error(`Unknown RadialAxial type: ${ot[1]}`)}for(const xt of ht){const Tt=this.svgFactory.createElement("svg:stop");Tt.setAttributeNS(null,"offset",xt[0]),Tt.setAttributeNS(null,"stop-color",xt[1]),gt.append(Tt)}return this.defs.append(gt),`url(#${pt})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ot[0]}`)}}setDash(ot,pt){this.current.dashArray=ot,this.current.dashPhase=pt}constructPath(ot,pt){const ht=this.current;let gt=ht.x,xt=ht.y,Tt=[],wt=0;for(const kt of ot)switch(kt|0){case c.OPS.rectangle:gt=pt[wt++],xt=pt[wt++];const Yt=pt[wt++],fn=pt[wt++],an=gt+Yt,dn=xt+fn;Tt.push("M",lt(gt),lt(xt),"L",lt(an),lt(xt),"L",lt(an),lt(dn),"L",lt(gt),lt(dn),"Z");break;case c.OPS.moveTo:gt=pt[wt++],xt=pt[wt++],Tt.push("M",lt(gt),lt(xt));break;case c.OPS.lineTo:gt=pt[wt++],xt=pt[wt++],Tt.push("L",lt(gt),lt(xt));break;case c.OPS.curveTo:gt=pt[wt+4],xt=pt[wt+5],Tt.push("C",lt(pt[wt]),lt(pt[wt+1]),lt(pt[wt+2]),lt(pt[wt+3]),lt(gt),lt(xt)),wt+=6;break;case c.OPS.curveTo2:Tt.push("C",lt(gt),lt(xt),lt(pt[wt]),lt(pt[wt+1]),lt(pt[wt+2]),lt(pt[wt+3])),gt=pt[wt+2],xt=pt[wt+3],wt+=4;break;case c.OPS.curveTo3:gt=pt[wt+2],xt=pt[wt+3],Tt.push("C",lt(pt[wt]),lt(pt[wt+1]),lt(gt),lt(xt),lt(gt),lt(xt)),wt+=4;break;case c.OPS.closePath:Tt.push("Z");break}Tt=Tt.join(" "),ht.path&&ot.length>0&&ot[0]!==c.OPS.rectangle&&ot[0]!==c.OPS.moveTo?Tt=ht.path.getAttributeNS(null,"d")+Tt:(ht.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ht.path)),ht.path.setAttributeNS(null,"d",Tt),ht.path.setAttributeNS(null,"fill","none"),ht.element=ht.path,ht.setCurrentPoint(gt,xt)}endPath(){const ot=this.current;if(ot.path=null,!this.pendingClip)return;if(!ot.element){this.pendingClip=null;return}const pt=`clippath${nt++}`,ht=this.svgFactory.createElement("svg:clipPath");ht.setAttributeNS(null,"id",pt),ht.setAttributeNS(null,"transform",dt(this.transformMatrix));const gt=ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?gt.setAttributeNS(null,"clip-rule","evenodd"):gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ht.append(gt),this.defs.append(ht),ot.activeClipUrl){ot.clipGroup=null;for(const xt of this.extraStack)xt.clipGroup=null;ht.setAttributeNS(null,"clip-path",ot.activeClipUrl)}ot.activeClipUrl=`url(#${pt})`,this.tgrp=null}clip(ot){this.pendingClip=ot}closePath(){const ot=this.current;if(ot.path){const pt=`${ot.path.getAttributeNS(null,"d")}Z`;ot.path.setAttributeNS(null,"d",pt)}}setLeading(ot){this.current.leading=-ot}setTextRise(ot){this.current.textRise=ot}setTextRenderingMode(ot){this.current.textRenderingMode=ot}setHScale(ot){this.current.textHScale=ot/100}setRenderingIntent(ot){}setFlatness(ot){}setGState(ot){for(const[pt,ht]of ot)switch(pt){case"LW":this.setLineWidth(ht);break;case"LC":this.setLineCap(ht);break;case"LJ":this.setLineJoin(ht);break;case"ML":this.setMiterLimit(ht);break;case"D":this.setDash(ht[0],ht[1]);break;case"RI":this.setRenderingIntent(ht);break;case"FL":this.setFlatness(ht);break;case"Font":this.setFont(ht);break;case"CA":this.setStrokeAlpha(ht);break;case"ca":this.setFillAlpha(ht);break;default:(0,c.warn)(`Unimplemented graphic state operator ${pt}`);break}}fill(){const ot=this.current;ot.element&&(ot.element.setAttributeNS(null,"fill",ot.fillColor),ot.element.setAttributeNS(null,"fill-opacity",ot.fillAlpha),this.endPath())}stroke(){const ot=this.current;ot.element&&(this._setStrokeAttributes(ot.element),ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ot,pt=1){const ht=this.current;let gt=ht.dashArray;pt!==1&&gt.length>0&&(gt=gt.map(function(xt){return pt*xt})),ot.setAttributeNS(null,"stroke",ht.strokeColor),ot.setAttributeNS(null,"stroke-opacity",ht.strokeAlpha),ot.setAttributeNS(null,"stroke-miterlimit",lt(ht.miterLimit)),ot.setAttributeNS(null,"stroke-linecap",ht.lineCap),ot.setAttributeNS(null,"stroke-linejoin",ht.lineJoin),ot.setAttributeNS(null,"stroke-width",lt(pt*ht.lineWidth)+"px"),ot.setAttributeNS(null,"stroke-dasharray",gt.map(lt).join(" ")),ot.setAttributeNS(null,"stroke-dashoffset",lt(pt*ht.dashPhase)+"px")}eoFill(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ot;(ot=this.current.element)==null||ot.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width","1px"),ot.setAttributeNS(null,"height","1px"),ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ot)}paintImageXObject(ot){const pt=this.getObject(ot);if(!pt){(0,c.warn)(`Dependent image with object ID ${ot} is not ready yet`);return}this.paintInlineImageXObject(pt)}paintInlineImageXObject(ot,pt){const ht=ot.width,gt=ot.height,xt=et(ot,this.forceDataSchema,!!pt),Tt=this.svgFactory.createElement("svg:rect");Tt.setAttributeNS(null,"x","0"),Tt.setAttributeNS(null,"y","0"),Tt.setAttributeNS(null,"width",lt(ht)),Tt.setAttributeNS(null,"height",lt(gt)),this.current.element=Tt,this.clip("nonzero");const wt=this.svgFactory.createElement("svg:image");wt.setAttributeNS(b,"xlink:href",xt),wt.setAttributeNS(null,"x","0"),wt.setAttributeNS(null,"y",lt(-gt)),wt.setAttributeNS(null,"width",lt(ht)+"px"),wt.setAttributeNS(null,"height",lt(gt)+"px"),wt.setAttributeNS(null,"transform",`scale(${lt(1/ht)} ${lt(-1/gt)})`),pt?pt.append(wt):this._ensureTransformGroup().append(wt)}paintImageMaskXObject(ot){const pt=this.getObject(ot.data,ot);if(pt.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ht=this.current,gt=pt.width,xt=pt.height,Tt=ht.fillColor;ht.maskId=`mask${tt++}`;const wt=this.svgFactory.createElement("svg:mask");wt.setAttributeNS(null,"id",ht.maskId);const kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",lt(gt)),kt.setAttributeNS(null,"height",lt(xt)),kt.setAttributeNS(null,"fill",Tt),kt.setAttributeNS(null,"mask",`url(#${ht.maskId})`),this.defs.append(wt),this._ensureTransformGroup().append(kt),this.paintInlineImageXObject(pt,wt)}paintFormXObjectBegin(ot,pt){if(Array.isArray(ot)&&ot.length===6&&this.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),pt){const ht=pt[2]-pt[0],gt=pt[3]-pt[1],xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x",pt[0]),xt.setAttributeNS(null,"y",pt[1]),xt.setAttributeNS(null,"width",lt(ht)),xt.setAttributeNS(null,"height",lt(gt)),this.current.element=xt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ot){const pt=this.svgFactory.create(ot.width,ot.height),ht=this.svgFactory.createElement("svg:defs");pt.append(ht),this.defs=ht;const gt=this.svgFactory.createElement("svg:g");return gt.setAttributeNS(null,"transform",dt(ot.transform)),pt.append(gt),this.svg=gt,pt}_ensureClipGroup(){if(!this.current.clipGroup){const ot=this.svgFactory.createElement("svg:g");ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ot),this.current.clipGroup=ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",dt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=at},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class o{static textContent(c){const h=[],g={items:h,styles:Object.create(null)};function b(_){var et;if(!_)return;let $=null;const _e=_.name;if(_e==="#text")$=_.value;else if(o.shouldBuildText(_e))(et=_==null?void 0:_.attributes)!=null&&et.textContent?$=_.attributes.textContent:_.value&&($=_.value);else return;if($!==null&&h.push({str:$}),!!_.children)for(const rt of _.children)b(rt)}return b(c),g}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=o},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=dt,i.updateTextLayer=nt;var a=o(1),c=o(6);const h=1e5,g=30,b=.8,_=new Map;function $(tt,it){let at;if(it&&a.FeatureTest.isOffscreenCanvasSupported)at=new OffscreenCanvas(tt,tt).getContext("2d",{alpha:!1});else{const mt=document.createElement("canvas");mt.width=mt.height=tt,at=mt.getContext("2d",{alpha:!1})}return at}function _e(tt,it){const at=_.get(tt);if(at)return at;const mt=$(g,it);mt.font=`${g}px ${tt}`;const ot=mt.measureText("");let pt=ot.fontBoundingBoxAscent,ht=Math.abs(ot.fontBoundingBoxDescent);if(pt){const xt=pt/(pt+ht);return _.set(tt,xt),mt.canvas.width=mt.canvas.height=0,xt}mt.strokeStyle="red",mt.clearRect(0,0,g,g),mt.strokeText("g",0,0);let gt=mt.getImageData(0,0,g,g).data;ht=0;for(let xt=gt.length-1-3;xt>=0;xt-=4)if(gt[xt]>0){ht=Math.ceil(xt/4/g);break}mt.clearRect(0,0,g,g),mt.strokeText("A",0,g),gt=mt.getImageData(0,0,g,g).data,pt=0;for(let xt=0,Tt=gt.length;xt<Tt;xt+=4)if(gt[xt]>0){pt=g-Math.floor(xt/4/g);break}if(mt.canvas.width=mt.canvas.height=0,pt){const xt=pt/(pt+ht);return _.set(tt,xt),xt}return _.set(tt,b),b}function et(tt,it,at){const mt=document.createElement("span"),ot={angle:0,canvasWidth:0,hasText:it.str!=="",hasEOL:it.hasEOL,fontSize:0};tt._textDivs.push(mt);const pt=a.Util.transform(tt._transform,it.transform);let ht=Math.atan2(pt[1],pt[0]);const gt=at[it.fontName];gt.vertical&&(ht+=Math.PI/2);const xt=Math.hypot(pt[2],pt[3]),Tt=xt*_e(gt.fontFamily,tt._isOffscreenCanvasSupported);let wt,kt;ht===0?(wt=pt[4],kt=pt[5]-Tt):(wt=pt[4]+Tt*Math.sin(ht),kt=pt[5]-Tt*Math.cos(ht));const Yt="calc(var(--scale-factor)*",fn=mt.style;tt._container===tt._rootContainer?(fn.left=`${(100*wt/tt._pageWidth).toFixed(2)}%`,fn.top=`${(100*kt/tt._pageHeight).toFixed(2)}%`):(fn.left=`${Yt}${wt.toFixed(2)}px)`,fn.top=`${Yt}${kt.toFixed(2)}px)`),fn.fontSize=`${Yt}${xt.toFixed(2)}px)`,fn.fontFamily=gt.fontFamily,ot.fontSize=xt,mt.setAttribute("role","presentation"),mt.textContent=it.str,mt.dir=it.dir,tt._fontInspectorEnabled&&(mt.dataset.fontName=it.fontName),ht!==0&&(ot.angle=ht*(180/Math.PI));let an=!1;if(it.str.length>1)an=!0;else if(it.str!==" "&&it.transform[0]!==it.transform[3]){const dn=Math.abs(it.transform[0]),on=Math.abs(it.transform[3]);dn!==on&&Math.max(dn,on)/Math.min(dn,on)>1.5&&(an=!0)}an&&(ot.canvasWidth=gt.vertical?it.height:it.width),tt._textDivProperties.set(mt,ot),tt._isReadableStream&&tt._layoutText(mt)}function rt(tt){const{div:it,scale:at,properties:mt,ctx:ot,prevFontSize:pt,prevFontFamily:ht}=tt,{style:gt}=it;let xt="";if(mt.canvasWidth!==0&&mt.hasText){const{fontFamily:Tt}=gt,{canvasWidth:wt,fontSize:kt}=mt;(pt!==kt||ht!==Tt)&&(ot.font=`${kt*at}px ${Tt}`,tt.prevFontSize=kt,tt.prevFontFamily=Tt);const{width:Yt}=ot.measureText(it.textContent);Yt>0&&(xt=`scaleX(${wt*at/Yt})`)}mt.angle!==0&&(xt=`rotate(${mt.angle}deg) ${xt}`),xt.length>0&&(gt.transform=xt)}function st(tt){if(tt._canceled)return;const it=tt._textDivs,at=tt._capability;if(it.length>h){at.resolve();return}if(!tt._isReadableStream)for(const ot of it)tt._layoutText(ot);at.resolve()}class lt{constructor({textContentSource:it,container:at,viewport:mt,textDivs:ot,textDivProperties:pt,textContentItemsStr:ht,isOffscreenCanvasSupported:gt}){var Yt;this._textContentSource=it,this._isReadableStream=it instanceof ReadableStream,this._container=this._rootContainer=at,this._textDivs=ot||[],this._textContentItemsStr=ht||[],this._isOffscreenCanvasSupported=gt,this._fontInspectorEnabled=!!((Yt=globalThis.FontInspector)!=null&&Yt.enabled),this._reader=null,this._textDivProperties=pt||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:mt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$(0,gt)};const{pageWidth:xt,pageHeight:Tt,pageX:wt,pageY:kt}=mt.rawDims;this._transform=[1,0,0,-1,-wt,kt+Tt],this._pageWidth=xt,this._pageHeight=Tt,(0,c.setLayerDimensions)(at,mt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(it,at){for(const mt of it){if(mt.str===void 0){if(mt.type==="beginMarkedContentProps"||mt.type==="beginMarkedContent"){const ot=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),mt.id!==null&&this._container.setAttribute("id",`${mt.id}`),ot.append(this._container)}else mt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(mt.str),et(this,mt,at)}}_layoutText(it){const at=this._layoutTextParams.properties=this._textDivProperties.get(it);if(this._layoutTextParams.div=it,rt(this._layoutTextParams),at.hasText&&this._container.append(it),at.hasEOL){const mt=document.createElement("br");mt.setAttribute("role","presentation"),this._container.append(mt)}}_render(){const it=new a.PromiseCapability;let at=Object.create(null);if(this._isReadableStream){const mt=()=>{this._reader.read().then(({value:ot,done:pt})=>{if(pt){it.resolve();return}Object.assign(at,ot.styles),this._processItems(ot.items,at),mt()},it.reject)};this._reader=this._textContentSource.getReader(),mt()}else if(this._textContentSource){const{items:mt,styles:ot}=this._textContentSource;this._processItems(mt,ot),it.resolve()}else throw new Error('No "textContentSource" parameter specified.');it.promise.then(()=>{at=null,st(this)},this._capability.reject)}}i.TextLayerRenderTask=lt;function dt(tt){!tt.textContentSource&&(tt.textContent||tt.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),tt.textContentSource=tt.textContent||tt.textContentStream);const{container:it,viewport:at}=tt,mt=getComputedStyle(it),ot=mt.getPropertyValue("visibility"),pt=parseFloat(mt.getPropertyValue("--scale-factor"));ot==="visible"&&(!pt||Math.abs(pt-at.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ht=new lt(tt);return ht._render(),ht}function nt({container:tt,viewport:it,textDivs:at,textDivProperties:mt,isOffscreenCanvasSupported:ot,mustRotate:pt=!0,mustRescale:ht=!0}){if(pt&&(0,c.setLayerDimensions)(tt,{rotation:it.rotation}),ht){const gt=$(0,ot),Tt={prevFontSize:null,prevFontFamily:null,div:null,scale:it.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:gt};for(const wt of at)Tt.properties=mt.get(wt),Tt.div=wt,rt(Tt)}}},(s,i,o)=>{var _e,et,rt,st,lt,dt,nt,tt,it,at,mt,fo,Ls,po,mo;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var a=o(1),c=o(4),h=o(28),g=o(33),b=o(6),_=o(34);const xt=class xt{constructor({uiManager:wt,pageIndex:kt,div:Yt,accessibilityManager:fn,annotationLayer:an,viewport:dn,l10n:on}){Cn(this,mt);Cn(this,_e);Cn(this,et,!1);Cn(this,rt,null);Cn(this,st,this.pointerup.bind(this));Cn(this,lt,this.pointerdown.bind(this));Cn(this,dt,new Map);Cn(this,nt,!1);Cn(this,tt,!1);Cn(this,it,!1);Cn(this,at);const Jt=[h.FreeTextEditor,g.InkEditor,_.StampEditor];if(!xt._initialized){xt._initialized=!0;for(const Rt of Jt)Rt.initialize(on)}wt.registerEditorTypes(Jt),wn(this,at,wt),this.pageIndex=kt,this.div=Yt,wn(this,_e,fn),wn(this,rt,an),this.viewport=dn,vt(this,at).addLayer(this)}get isEmpty(){return vt(this,dt).size===0}updateToolbar(wt){vt(this,at).updateToolbar(wt)}updateMode(wt=vt(this,at).getMode()){En(this,mt,mo).call(this),wt===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),wt!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",wt===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",wt===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",wt===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(wt){if(!wt&&vt(this,at).getMode()!==a.AnnotationEditorType.INK)return;if(!wt){for(const Yt of vt(this,dt).values())if(Yt.isEmpty()){Yt.setInBackground();return}}En(this,mt,Ls).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(wt){vt(this,at).setEditingState(wt)}addCommands(wt){vt(this,at).addCommands(wt)}enable(){this.div.style.pointerEvents="auto";const wt=new Set;for(const Yt of vt(this,dt).values())Yt.enableEditing(),Yt.annotationElementId&&wt.add(Yt.annotationElementId);if(!vt(this,rt))return;const kt=vt(this,rt).getEditableAnnotations();for(const Yt of kt){if(Yt.hide(),vt(this,at).isDeletedAnnotationElement(Yt.data.id)||wt.has(Yt.data.id))continue;const fn=this.deserialize(Yt);fn&&(this.addOrRebuild(fn),fn.enableEditing())}}disable(){var kt;wn(this,it,!0),this.div.style.pointerEvents="none";const wt=new Set;for(const Yt of vt(this,dt).values()){if(Yt.disableEditing(),!Yt.annotationElementId||Yt.serialize()!==null){wt.add(Yt.annotationElementId);continue}(kt=this.getEditableAnnotation(Yt.annotationElementId))==null||kt.show(),Yt.remove()}if(vt(this,rt)){const Yt=vt(this,rt).getEditableAnnotations();for(const fn of Yt){const{id:an}=fn.data;wt.has(an)||vt(this,at).isDeletedAnnotationElement(an)||fn.show()}}En(this,mt,mo).call(this),this.isEmpty&&(this.div.hidden=!0),wn(this,it,!1)}getEditableAnnotation(wt){var kt;return((kt=vt(this,rt))==null?void 0:kt.getEditableAnnotation(wt))||null}setActiveEditor(wt){vt(this,at).getActive()!==wt&&vt(this,at).setActiveEditor(wt)}enableClick(){this.div.addEventListener("pointerdown",vt(this,lt)),this.div.addEventListener("pointerup",vt(this,st))}disableClick(){this.div.removeEventListener("pointerdown",vt(this,lt)),this.div.removeEventListener("pointerup",vt(this,st))}attach(wt){vt(this,dt).set(wt.id,wt);const{annotationElementId:kt}=wt;kt&&vt(this,at).isDeletedAnnotationElement(kt)&&vt(this,at).removeDeletedAnnotationElement(wt)}detach(wt){var kt;vt(this,dt).delete(wt.id),(kt=vt(this,_e))==null||kt.removePointerInTextLayer(wt.contentDiv),!vt(this,it)&&wt.annotationElementId&&vt(this,at).addDeletedAnnotationElement(wt)}remove(wt){this.detach(wt),vt(this,at).removeEditor(wt),wt.div.contains(document.activeElement)&&setTimeout(()=>{vt(this,at).focusMainContainer()},0),wt.div.remove(),wt.isAttachedToDOM=!1,vt(this,tt)||this.addInkEditorIfNeeded(!1)}changeParent(wt){var kt;wt.parent!==this&&(wt.annotationElementId&&(vt(this,at).addDeletedAnnotationElement(wt.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(wt),wt.annotationElementId=null),this.attach(wt),(kt=wt.parent)==null||kt.detach(wt),wt.setParent(this),wt.div&&wt.isAttachedToDOM&&(wt.div.remove(),this.div.append(wt.div)))}add(wt){if(this.changeParent(wt),vt(this,at).addEditor(wt),this.attach(wt),!wt.isAttachedToDOM){const kt=wt.render();this.div.append(kt),wt.isAttachedToDOM=!0}wt.fixAndSetPosition(),wt.onceAdded(),vt(this,at).addToAnnotationStorage(wt)}moveEditorInDOM(wt){var Yt;if(!wt.isAttachedToDOM)return;const{activeElement:kt}=document;wt.div.contains(kt)&&(wt._focusEventsAllowed=!1,setTimeout(()=>{wt.div.contains(document.activeElement)?wt._focusEventsAllowed=!0:(wt.div.addEventListener("focusin",()=>{wt._focusEventsAllowed=!0},{once:!0}),kt.focus())},0)),wt._structTreeParentId=(Yt=vt(this,_e))==null?void 0:Yt.moveElementInDOM(this.div,wt.div,wt.contentDiv,!0)}addOrRebuild(wt){wt.needsToBeRebuilt()?wt.rebuild():this.add(wt)}addUndoableEditor(wt){const kt=()=>wt._uiManager.rebuild(wt),Yt=()=>{wt.remove()};this.addCommands({cmd:kt,undo:Yt,mustExec:!1})}getNextId(){return vt(this,at).getId()}pasteEditor(wt,kt){vt(this,at).updateToolbar(wt),vt(this,at).updateMode(wt);const{offsetX:Yt,offsetY:fn}=En(this,mt,po).call(this),an=this.getNextId(),dn=En(this,mt,fo).call(this,{parent:this,id:an,x:Yt,y:fn,uiManager:vt(this,at),isCentered:!0,...kt});dn&&this.add(dn)}deserialize(wt){switch(wt.annotationType??wt.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return h.FreeTextEditor.deserialize(wt,this,vt(this,at));case a.AnnotationEditorType.INK:return g.InkEditor.deserialize(wt,this,vt(this,at));case a.AnnotationEditorType.STAMP:return _.StampEditor.deserialize(wt,this,vt(this,at))}return null}addNewEditor(){En(this,mt,Ls).call(this,En(this,mt,po).call(this),!0)}setSelected(wt){vt(this,at).setSelected(wt)}toggleSelected(wt){vt(this,at).toggleSelected(wt)}isSelected(wt){return vt(this,at).isSelected(wt)}unselect(wt){vt(this,at).unselect(wt)}pointerup(wt){const{isMac:kt}=a.FeatureTest.platform;if(!(wt.button!==0||wt.ctrlKey&&kt)&&wt.target===this.div&&vt(this,nt)){if(wn(this,nt,!1),!vt(this,et)){wn(this,et,!0);return}if(vt(this,at).getMode()===a.AnnotationEditorType.STAMP){vt(this,at).unselectAll();return}En(this,mt,Ls).call(this,wt,!1)}}pointerdown(wt){if(vt(this,nt)){wn(this,nt,!1);return}const{isMac:kt}=a.FeatureTest.platform;if(wt.button!==0||wt.ctrlKey&&kt||wt.target!==this.div)return;wn(this,nt,!0);const Yt=vt(this,at).getActive();wn(this,et,!Yt||Yt.isEmpty())}findNewParent(wt,kt,Yt){const fn=vt(this,at).findParent(kt,Yt);return fn===null||fn===this?!1:(fn.changeParent(wt),!0)}destroy(){var wt,kt;((wt=vt(this,at).getActive())==null?void 0:wt.parent)===this&&(vt(this,at).commitOrRemove(),vt(this,at).setActiveEditor(null));for(const Yt of vt(this,dt).values())(kt=vt(this,_e))==null||kt.removePointerInTextLayer(Yt.contentDiv),Yt.setParent(null),Yt.isAttachedToDOM=!1,Yt.div.remove();this.div=null,vt(this,dt).clear(),vt(this,at).removeLayer(this)}render({viewport:wt}){this.viewport=wt,(0,b.setLayerDimensions)(this.div,wt);for(const kt of vt(this,at).getEditors(this.pageIndex))this.add(kt);this.updateMode()}update({viewport:wt}){vt(this,at).commitOrRemove(),this.viewport=wt,(0,b.setLayerDimensions)(this.div,{rotation:wt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:wt,pageHeight:kt}=this.viewport.rawDims;return[wt,kt]}};_e=new WeakMap,et=new WeakMap,rt=new WeakMap,st=new WeakMap,lt=new WeakMap,dt=new WeakMap,nt=new WeakMap,tt=new WeakMap,it=new WeakMap,at=new WeakMap,mt=new WeakSet,fo=function(wt){switch(vt(this,at).getMode()){case a.AnnotationEditorType.FREETEXT:return new h.FreeTextEditor(wt);case a.AnnotationEditorType.INK:return new g.InkEditor(wt);case a.AnnotationEditorType.STAMP:return new _.StampEditor(wt)}return null},Ls=function(wt,kt){const Yt=this.getNextId(),fn=En(this,mt,fo).call(this,{parent:this,id:Yt,x:wt.offsetX,y:wt.offsetY,uiManager:vt(this,at),isCentered:kt});return fn&&this.add(fn),fn},po=function(){const{x:wt,y:kt,width:Yt,height:fn}=this.div.getBoundingClientRect(),an=Math.max(0,wt),dn=Math.max(0,kt),on=Math.min(window.innerWidth,wt+Yt),Jt=Math.min(window.innerHeight,kt+fn),Rt=(an+on)/2-wt,zt=(dn+Jt)/2-kt,[nn,Nt]=this.viewport.rotation%180===0?[Rt,zt]:[zt,Rt];return{offsetX:nn,offsetY:Nt}},mo=function(){wn(this,tt,!0);for(const wt of vt(this,dt).values())wt.isEmpty()&&wt.remove();wn(this,tt,!1)},Sr(xt,"_initialized",!1);let $=xt;i.AnnotationEditorLayer=$},(s,i,o)=>{var _,$,_e,et,rt,st,lt,dt,nt,tt,Jo,na,ga,xs,go,ba,vo;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var a=o(1),c=o(5),h=o(4),g=o(29);const xt=class xt extends h.AnnotationEditor{constructor(kt){super({...kt,name:"freeTextEditor"});Cn(this,tt);Cn(this,_,this.editorDivBlur.bind(this));Cn(this,$,this.editorDivFocus.bind(this));Cn(this,_e,this.editorDivInput.bind(this));Cn(this,et,this.editorDivKeydown.bind(this));Cn(this,rt);Cn(this,st,"");Cn(this,lt,`${this.id}-editor`);Cn(this,dt);Cn(this,nt,null);wn(this,rt,kt.color||xt._defaultColor||h.AnnotationEditor._defaultLineColor),wn(this,dt,kt.fontSize||xt._defaultFontSize)}static get _keyboardManager(){const kt=xt.prototype,Yt=dn=>dn.isEmpty(),fn=c.AnnotationEditorUIManager.TRANSLATE_SMALL,an=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],kt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],kt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],kt._translateEmpty,{args:[-fn,0],checker:Yt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],kt._translateEmpty,{args:[-an,0],checker:Yt}],[["ArrowRight","mac+ArrowRight"],kt._translateEmpty,{args:[fn,0],checker:Yt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],kt._translateEmpty,{args:[an,0],checker:Yt}],[["ArrowUp","mac+ArrowUp"],kt._translateEmpty,{args:[0,-fn],checker:Yt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],kt._translateEmpty,{args:[0,-an],checker:Yt}],[["ArrowDown","mac+ArrowDown"],kt._translateEmpty,{args:[0,fn],checker:Yt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],kt._translateEmpty,{args:[0,an],checker:Yt}]]))}static initialize(kt){h.AnnotationEditor.initialize(kt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Yt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Yt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(kt,Yt){switch(kt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:xt._defaultFontSize=Yt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:xt._defaultColor=Yt;break}}updateParams(kt,Yt){switch(kt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:En(this,tt,Jo).call(this,Yt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:En(this,tt,na).call(this,Yt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,xt._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,xt._defaultColor||h.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,vt(this,dt)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,vt(this,rt)]]}_translateEmpty(kt,Yt){this._uiManager.translateSelectedEditors(kt,Yt,!0)}getInitialTranslation(){const kt=this.parentScale;return[-xt._internalPadding*kt,-(xt._internalPadding+vt(this,dt))*kt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",vt(this,et)),this.editorDiv.addEventListener("focus",vt(this,$)),this.editorDiv.addEventListener("blur",vt(this,_)),this.editorDiv.addEventListener("input",vt(this,_e)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",vt(this,lt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",vt(this,et)),this.editorDiv.removeEventListener("focus",vt(this,$)),this.editorDiv.removeEventListener("blur",vt(this,_)),this.editorDiv.removeEventListener("input",vt(this,_e)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(kt){this._focusEventsAllowed&&(super.focusin(kt),kt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var kt;if(this.width){En(this,tt,vo).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(kt=this._initialOptions)!=null&&kt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const kt=vt(this,st),Yt=wn(this,st,En(this,tt,ga).call(this).trimEnd());if(kt===Yt)return;const fn=an=>{if(wn(this,st,an),!an){this.remove();return}En(this,tt,go).call(this),this._uiManager.rebuild(this),En(this,tt,xs).call(this)};this.addCommands({cmd:()=>{fn(Yt)},undo:()=>{fn(kt)},mustExec:!1}),En(this,tt,xs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(kt){this.enterInEditMode()}keydown(kt){kt.target===this.div&&kt.key==="Enter"&&(this.enterInEditMode(),kt.preventDefault())}editorDivKeydown(kt){xt._keyboardManager.exec(this,kt)}editorDivFocus(kt){this.isEditing=!0}editorDivBlur(kt){this.isEditing=!1}editorDivInput(kt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let kt,Yt;this.width&&(kt=this.x,Yt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",vt(this,lt)),this.enableEditing(),h.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(an=>{var dn;return(dn=this.editorDiv)==null?void 0:dn.setAttribute("aria-label",an)}),h.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(an=>{var dn;return(dn=this.editorDiv)==null?void 0:dn.setAttribute("default-content",an)}),this.editorDiv.contentEditable=!0;const{style:fn}=this.editorDiv;if(fn.fontSize=`calc(${vt(this,dt)}px * var(--scale-factor))`,fn.color=vt(this,rt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[an,dn]=this.parentDimensions;if(this.annotationElementId){const{position:on}=vt(this,nt);let[Jt,Rt]=this.getInitialTranslation();[Jt,Rt]=this.pageTranslationToScreen(Jt,Rt);const[zt,nn]=this.pageDimensions,[Nt,Et]=this.pageTranslation;let St,jt;switch(this.rotation){case 0:St=kt+(on[0]-Nt)/zt,jt=Yt+this.height-(on[1]-Et)/nn;break;case 90:St=kt+(on[0]-Nt)/zt,jt=Yt-(on[1]-Et)/nn,[Jt,Rt]=[Rt,-Jt];break;case 180:St=kt-this.width+(on[0]-Nt)/zt,jt=Yt-(on[1]-Et)/nn,[Jt,Rt]=[-Jt,-Rt];break;case 270:St=kt+(on[0]-Nt-this.height*nn)/zt,jt=Yt+(on[1]-Et-this.width*zt)/nn,[Jt,Rt]=[-Rt,Jt];break}this.setAt(St*an,jt*dn,Jt,Rt)}else this.setAt(kt*an,Yt*dn,this.width*an,this.height*dn);En(this,tt,go).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(kt,Yt,fn){let an=null;if(kt instanceof g.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:on,fontColor:Jt},rect:Rt,rotation:zt,id:nn},textContent:Nt,textPosition:Et,parent:{page:{pageNumber:St}}}=kt;if(!Nt||Nt.length===0)return null;an=kt={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(Jt),fontSize:on,value:Nt.join(`
`),position:Et,pageIndex:St-1,rect:Rt,rotation:zt,id:nn,deleted:!1}}const dn=super.deserialize(kt,Yt,fn);return wn(dn,dt,kt.fontSize),wn(dn,rt,a.Util.makeHexColor(...kt.color)),wn(dn,st,kt.value),dn.annotationElementId=kt.id||null,wn(dn,nt,an),dn}serialize(kt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Yt=xt._internalPadding*this.parentScale,fn=this.getRect(Yt,Yt),an=h.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:vt(this,rt)),dn={annotationType:a.AnnotationEditorType.FREETEXT,color:an,fontSize:vt(this,dt),value:vt(this,st),pageIndex:this.pageIndex,rect:fn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return kt?dn:this.annotationElementId&&!En(this,tt,ba).call(this,dn)?null:(dn.id=this.annotationElementId,dn)}};_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,rt=new WeakMap,st=new WeakMap,lt=new WeakMap,dt=new WeakMap,nt=new WeakMap,tt=new WeakSet,Jo=function(kt){const Yt=an=>{this.editorDiv.style.fontSize=`calc(${an}px * var(--scale-factor))`,this.translate(0,-(an-vt(this,dt))*this.parentScale),wn(this,dt,an),En(this,tt,xs).call(this)},fn=vt(this,dt);this.addCommands({cmd:()=>{Yt(kt)},undo:()=>{Yt(fn)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},na=function(kt){const Yt=vt(this,rt);this.addCommands({cmd:()=>{wn(this,rt,this.editorDiv.style.color=kt)},undo:()=>{wn(this,rt,this.editorDiv.style.color=Yt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ga=function(){const kt=this.editorDiv.getElementsByTagName("div");if(kt.length===0)return this.editorDiv.innerText;const Yt=[];for(const fn of kt)Yt.push(fn.innerText.replace(/\r\n?|\n/,""));return Yt.join(`
`)},xs=function(){const[kt,Yt]=this.parentDimensions;let fn;if(this.isAttachedToDOM)fn=this.div.getBoundingClientRect();else{const{currentLayer:an,div:dn}=this,on=dn.style.display;dn.style.display="hidden",an.div.append(this.div),fn=dn.getBoundingClientRect(),dn.remove(),dn.style.display=on}this.rotation%180===this.parentRotation%180?(this.width=fn.width/kt,this.height=fn.height/Yt):(this.width=fn.height/kt,this.height=fn.width/Yt),this.fixAndSetPosition()},go=function(){if(this.editorDiv.replaceChildren(),!!vt(this,st))for(const kt of vt(this,st).split(`
`)){const Yt=document.createElement("div");Yt.append(kt?document.createTextNode(kt):document.createElement("br")),this.editorDiv.append(Yt)}},ba=function(kt){const{value:Yt,fontSize:fn,color:an,rect:dn,pageIndex:on}=vt(this,nt);return kt.value!==Yt||kt.fontSize!==fn||kt.rect.some((Jt,Rt)=>Math.abs(Jt-dn[Rt])>=1)||kt.color.some((Jt,Rt)=>Jt!==an[Rt])||kt.pageIndex!==on},vo=function(kt=!1){if(!this.annotationElementId)return;if(En(this,tt,xs).call(this),!kt&&(this.width===0||this.height===0)){setTimeout(()=>En(this,tt,vo).call(this,!0),0);return}const Yt=xt._internalPadding*this.parentScale;vt(this,nt).rect=this.getRect(Yt,Yt)},Sr(xt,"_freeTextDefaultContent",""),Sr(xt,"_internalPadding",0),Sr(xt,"_defaultColor",null),Sr(xt,"_defaultFontSize",10),Sr(xt,"_type","freetext");let b=xt;i.FreeTextEditor=b},(s,i,o)=>{var jt,sn,Kr,_a,_n,In,Fn,$n,Un,Wn,Rn,xn,tn,hn,yn,On,jn,zn,Vn,Tn,Kn,Xn,xa,Ms,yo,bo,ar,dr,gr,Hn,Pt,pn,An,Eo,gn,Bt,At,Pn,$a,_o;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var a=o(1),c=o(6),h=o(3),g=o(30),b=o(31),_=o(32);const $=1e3,_e=9,et=new WeakSet;function rt(bn){return{width:bn[2]-bn[0],height:bn[3]-bn[1]}}class st{static create(Mt){switch(Mt.data.annotationType){case a.AnnotationType.LINK:return new dt(Mt);case a.AnnotationType.TEXT:return new nt(Mt);case a.AnnotationType.WIDGET:switch(Mt.data.fieldType){case"Tx":return new it(Mt);case"Btn":return Mt.data.radioButton?new ot(Mt):Mt.data.checkBox?new mt(Mt):new pt(Mt);case"Ch":return new ht(Mt);case"Sig":return new at(Mt)}return new tt(Mt);case a.AnnotationType.POPUP:return new gt(Mt);case a.AnnotationType.FREETEXT:return new Tt(Mt);case a.AnnotationType.LINE:return new wt(Mt);case a.AnnotationType.SQUARE:return new kt(Mt);case a.AnnotationType.CIRCLE:return new Yt(Mt);case a.AnnotationType.POLYLINE:return new fn(Mt);case a.AnnotationType.CARET:return new dn(Mt);case a.AnnotationType.INK:return new on(Mt);case a.AnnotationType.POLYGON:return new an(Mt);case a.AnnotationType.HIGHLIGHT:return new Jt(Mt);case a.AnnotationType.UNDERLINE:return new Rt(Mt);case a.AnnotationType.SQUIGGLY:return new zt(Mt);case a.AnnotationType.STRIKEOUT:return new nn(Mt);case a.AnnotationType.STAMP:return new Nt(Mt);case a.AnnotationType.FILEATTACHMENT:return new Et(Mt);default:return new lt(Mt)}}}const en=class en{constructor(Mt,{isRenderable:bt=!1,ignoreBorder:Lt=!1,createQuadrilaterals:un=!1}={}){Cn(this,jt,!1);this.isRenderable=bt,this.data=Mt.data,this.layer=Mt.layer,this.linkService=Mt.linkService,this.downloadManager=Mt.downloadManager,this.imageResourcesPath=Mt.imageResourcesPath,this.renderForms=Mt.renderForms,this.svgFactory=Mt.svgFactory,this.annotationStorage=Mt.annotationStorage,this.enableScripting=Mt.enableScripting,this.hasJSActions=Mt.hasJSActions,this._fieldObjects=Mt.fieldObjects,this.parent=Mt.parent,bt&&(this.container=this._createContainer(Lt)),un&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Mt,contentsObj:bt,richText:Lt}){return!!(Mt!=null&&Mt.str||bt!=null&&bt.str||Lt!=null&&Lt.str)}get hasPopupData(){return en._hasPopupData(this.data)}_createContainer(Mt){const{data:bt,parent:{page:Lt,viewport:un}}=this,Sn=document.createElement("section");Sn.setAttribute("data-annotation-id",bt.id),this instanceof tt||(Sn.tabIndex=$),Sn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Sn.setAttribute("aria-haspopup","dialog"),bt.noRotate&&Sn.classList.add("norotate");const{pageWidth:Nn,pageHeight:Dn,pageX:Qn,pageY:rr}=un.rawDims;if(!bt.rect||this instanceof gt){const{rotation:ur}=bt;return!bt.hasOwnCanvas&&ur!==0&&this.setRotation(ur,Sn),Sn}const{width:Yn,height:ir}=rt(bt.rect),Jn=a.Util.normalizeRect([bt.rect[0],Lt.view[3]-bt.rect[1]+Lt.view[1],bt.rect[2],Lt.view[3]-bt.rect[3]+Lt.view[1]]);if(!Mt&&bt.borderStyle.width>0){Sn.style.borderWidth=`${bt.borderStyle.width}px`;const ur=bt.borderStyle.horizontalCornerRadius,mr=bt.borderStyle.verticalCornerRadius;if(ur>0||mr>0){const vr=`calc(${ur}px * var(--scale-factor)) / calc(${mr}px * var(--scale-factor))`;Sn.style.borderRadius=vr}else if(this instanceof ot){const vr=`calc(${Yn}px * var(--scale-factor)) / calc(${ir}px * var(--scale-factor))`;Sn.style.borderRadius=vr}switch(bt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:Sn.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:Sn.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:Sn.style.borderBottomStyle="solid";break}const yr=bt.borderColor||null;yr?(wn(this,jt,!0),Sn.style.borderColor=a.Util.makeHexColor(yr[0]|0,yr[1]|0,yr[2]|0)):Sn.style.borderWidth=0}Sn.style.left=`${100*(Jn[0]-Qn)/Nn}%`,Sn.style.top=`${100*(Jn[1]-rr)/Dn}%`;const{rotation:tr}=bt;return bt.hasOwnCanvas||tr===0?(Sn.style.width=`${100*Yn/Nn}%`,Sn.style.height=`${100*ir/Dn}%`):this.setRotation(tr,Sn),Sn}setRotation(Mt,bt=this.container){if(!this.data.rect)return;const{pageWidth:Lt,pageHeight:un}=this.parent.viewport.rawDims,{width:Sn,height:Nn}=rt(this.data.rect);let Dn,Qn;Mt%180===0?(Dn=100*Sn/Lt,Qn=100*Nn/un):(Dn=100*Nn/Lt,Qn=100*Sn/un),bt.style.width=`${Dn}%`,bt.style.height=`${Qn}%`,bt.setAttribute("data-main-rotation",(360-Mt)%360)}get _commonActions(){const Mt=(bt,Lt,un)=>{const Sn=un.detail[bt],Nn=Sn[0],Dn=Sn.slice(1);un.target.style[Lt]=g.ColorConverters[`${Nn}_HTML`](Dn),this.annotationStorage.setValue(this.data.id,{[Lt]:g.ColorConverters[`${Nn}_rgb`](Dn)})};return(0,a.shadow)(this,"_commonActions",{display:bt=>{const{display:Lt}=bt.detail,un=Lt%2===1;this.container.style.visibility=un?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:un,noPrint:Lt===1||Lt===2})},print:bt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!bt.detail.print})},hidden:bt=>{const{hidden:Lt}=bt.detail;this.container.style.visibility=Lt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Lt,noView:Lt})},focus:bt=>{setTimeout(()=>bt.target.focus({preventScroll:!1}),0)},userName:bt=>{bt.target.title=bt.detail.userName},readonly:bt=>{bt.target.disabled=bt.detail.readonly},required:bt=>{this._setRequired(bt.target,bt.detail.required)},bgColor:bt=>{Mt("bgColor","backgroundColor",bt)},fillColor:bt=>{Mt("fillColor","backgroundColor",bt)},fgColor:bt=>{Mt("fgColor","color",bt)},textColor:bt=>{Mt("textColor","color",bt)},borderColor:bt=>{Mt("borderColor","borderColor",bt)},strokeColor:bt=>{Mt("strokeColor","borderColor",bt)},rotation:bt=>{const Lt=bt.detail.rotation;this.setRotation(Lt),this.annotationStorage.setValue(this.data.id,{rotation:Lt})}})}_dispatchEventFromSandbox(Mt,bt){const Lt=this._commonActions;for(const un of Object.keys(bt.detail)){const Sn=Mt[un]||Lt[un];Sn==null||Sn(bt)}}_setDefaultPropertiesFromJS(Mt){if(!this.enableScripting)return;const bt=this.annotationStorage.getRawValue(this.data.id);if(!bt)return;const Lt=this._commonActions;for(const[un,Sn]of Object.entries(bt)){const Nn=Lt[un];if(Nn){const Dn={detail:{[un]:Sn},target:Mt};Nn(Dn),delete bt[un]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Mt}=this.data;if(!Mt)return;const[bt,Lt,un,Sn]=this.data.rect;if(Mt.length===1){const[,{x:mr,y:yr},{x:vr,y:_r}]=Mt[0];if(un===mr&&Sn===yr&&bt===vr&&Lt===_r)return}const{style:Nn}=this.container;let Dn;if(vt(this,jt)){const{borderColor:mr,borderWidth:yr}=Nn;Nn.borderWidth=0,Dn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${mr}" stroke-width="${yr}">`],this.container.classList.add("hasBorder")}const Qn=un-bt,rr=Sn-Lt,{svgFactory:Yn}=this,ir=Yn.createElement("svg");ir.classList.add("quadrilateralsContainer"),ir.setAttribute("width",0),ir.setAttribute("height",0);const Jn=Yn.createElement("defs");ir.append(Jn);const tr=Yn.createElement("clipPath"),ur=`clippath_${this.data.id}`;tr.setAttribute("id",ur),tr.setAttribute("clipPathUnits","objectBoundingBox"),Jn.append(tr);for(const[,{x:mr,y:yr},{x:vr,y:_r}]of Mt){const br=Yn.createElement("rect"),Tr=(vr-bt)/Qn,Cr=(Sn-yr)/rr,Or=(mr-vr)/Qn,Cs=(yr-_r)/rr;br.setAttribute("x",Tr),br.setAttribute("y",Cr),br.setAttribute("width",Or),br.setAttribute("height",Cs),tr.append(br),Dn==null||Dn.push(`<rect vector-effect="non-scaling-stroke" x="${Tr}" y="${Cr}" width="${Or}" height="${Cs}"/>`)}vt(this,jt)&&(Dn.push("</g></svg>')"),Nn.backgroundImage=Dn.join("")),this.container.append(ir),this.container.style.clipPath=`url(#${ur})`}_createPopup(){const{container:Mt,data:bt}=this;Mt.setAttribute("aria-haspopup","dialog");const Lt=new gt({data:{color:bt.color,titleObj:bt.titleObj,modificationDate:bt.modificationDate,contentsObj:bt.contentsObj,richText:bt.richText,parentRect:bt.rect,borderStyle:0,id:`popup_${bt.id}`,rotation:bt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Lt.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Mt,bt=null){const Lt=[];if(this._fieldObjects){const un=this._fieldObjects[Mt];if(un)for(const{page:Sn,id:Nn,exportValues:Dn}of un){if(Sn===-1||Nn===bt)continue;const Qn=typeof Dn=="string"?Dn:null,rr=document.querySelector(`[data-element-id="${Nn}"]`);if(rr&&!et.has(rr)){(0,a.warn)(`_getElementsByName - element not allowed: ${Nn}`);continue}Lt.push({id:Nn,exportValue:Qn,domElement:rr})}return Lt}for(const un of document.getElementsByName(Mt)){const{exportValue:Sn}=un,Nn=un.getAttribute("data-element-id");Nn!==bt&&et.has(un)&&Lt.push({id:Nn,exportValue:Sn,domElement:un})}return Lt}show(){var Mt;this.container&&(this.container.hidden=!1),(Mt=this.popup)==null||Mt.maybeShow()}hide(){var Mt;this.container&&(this.container.hidden=!0),(Mt=this.popup)==null||Mt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Mt=this.getElementsToTriggerPopup();if(Array.isArray(Mt))for(const bt of Mt)bt.classList.add("highlightArea");else Mt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Mt,data:{id:bt}}=this;this.container.addEventListener("dblclick",()=>{var Lt;(Lt=this.linkService.eventBus)==null||Lt.dispatch("switchannotationeditormode",{source:this,mode:Mt,editId:bt})})}};jt=new WeakMap;let lt=en;class dt extends lt{constructor(bt,Lt=null){super(bt,{isRenderable:!0,ignoreBorder:!!(Lt!=null&&Lt.ignoreBorder),createQuadrilaterals:!0});Cn(this,sn);this.isTooltipOnly=bt.data.isTooltipOnly}render(){const{data:bt,linkService:Lt}=this,un=document.createElement("a");un.setAttribute("data-element-id",bt.id);let Sn=!1;return bt.url?(Lt.addLinkAttributes(un,bt.url,bt.newWindow),Sn=!0):bt.action?(this._bindNamedAction(un,bt.action),Sn=!0):bt.attachment?(this._bindAttachment(un,bt.attachment),Sn=!0):bt.setOCGState?(En(this,sn,_a).call(this,un,bt.setOCGState),Sn=!0):bt.dest?(this._bindLink(un,bt.dest),Sn=!0):(bt.actions&&(bt.actions.Action||bt.actions["Mouse Up"]||bt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(un,bt),Sn=!0),bt.resetForm?(this._bindResetFormAction(un,bt.resetForm),Sn=!0):this.isTooltipOnly&&!Sn&&(this._bindLink(un,""),Sn=!0)),this.container.classList.add("linkAnnotation"),Sn&&this.container.append(un),this.container}_bindLink(bt,Lt){bt.href=this.linkService.getDestinationHash(Lt),bt.onclick=()=>(Lt&&this.linkService.goToDestination(Lt),!1),(Lt||Lt==="")&&En(this,sn,Kr).call(this)}_bindNamedAction(bt,Lt){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>(this.linkService.executeNamedAction(Lt),!1),En(this,sn,Kr).call(this)}_bindAttachment(bt,Lt){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>{var un;return(un=this.downloadManager)==null||un.openOrDownloadData(this.container,Lt.content,Lt.filename),!1},En(this,sn,Kr).call(this)}_bindJSAction(bt,Lt){bt.href=this.linkService.getAnchorUrl("");const un=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Sn of Object.keys(Lt.actions)){const Nn=un.get(Sn);Nn&&(bt[Nn]=()=>{var Dn;return(Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Lt.id,name:Sn}}),!1})}bt.onclick||(bt.onclick=()=>!1),En(this,sn,Kr).call(this)}_bindResetFormAction(bt,Lt){const un=bt.onclick;if(un||(bt.href=this.linkService.getAnchorUrl("")),En(this,sn,Kr).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),un||(bt.onclick=()=>!1);return}bt.onclick=()=>{var ir;un==null||un();const{fields:Sn,refs:Nn,include:Dn}=Lt,Qn=[];if(Sn.length!==0||Nn.length!==0){const Jn=new Set(Nn);for(const tr of Sn){const ur=this._fieldObjects[tr]||[];for(const{id:mr}of ur)Jn.add(mr)}for(const tr of Object.values(this._fieldObjects))for(const ur of tr)Jn.has(ur.id)===Dn&&Qn.push(ur)}else for(const Jn of Object.values(this._fieldObjects))Qn.push(...Jn);const rr=this.annotationStorage,Yn=[];for(const Jn of Qn){const{id:tr}=Jn;switch(Yn.push(tr),Jn.type){case"text":{const mr=Jn.defaultValue||"";rr.setValue(tr,{value:mr});break}case"checkbox":case"radiobutton":{const mr=Jn.defaultValue===Jn.exportValues;rr.setValue(tr,{value:mr});break}case"combobox":case"listbox":{const mr=Jn.defaultValue||"";rr.setValue(tr,{value:mr});break}default:continue}const ur=document.querySelector(`[data-element-id="${tr}"]`);if(ur){if(!et.has(ur)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${tr}`);continue}}else continue;ur.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Yn,name:"ResetForm"}})),!1}}}sn=new WeakSet,Kr=function(){this.container.setAttribute("data-internal-link","")},_a=function(bt,Lt){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>(this.linkService.executeSetOCGState(Lt),!1),En(this,sn,Kr).call(this)};class nt extends lt{constructor(Mt){super(Mt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Mt=document.createElement("img");return Mt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Mt.alt="[{{type}} Annotation]",Mt.dataset.l10nId="text_annotation_type",Mt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Mt),this.container}}class tt extends lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Mt){var bt;this.data.hasOwnCanvas&&(((bt=Mt.previousSibling)==null?void 0:bt.nodeName)==="CANVAS"&&(Mt.previousSibling.hidden=!0),Mt.hidden=!1)}_getKeyModifier(Mt){const{isWin:bt,isMac:Lt}=a.FeatureTest.platform;return bt&&Mt.ctrlKey||Lt&&Mt.metaKey}_setEventListener(Mt,bt,Lt,un,Sn){Lt.includes("mouse")?Mt.addEventListener(Lt,Nn=>{var Dn;(Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:un,value:Sn(Nn),shift:Nn.shiftKey,modifier:this._getKeyModifier(Nn)}})}):Mt.addEventListener(Lt,Nn=>{var Dn;if(Lt==="blur"){if(!bt.focused||!Nn.relatedTarget)return;bt.focused=!1}else if(Lt==="focus"){if(bt.focused)return;bt.focused=!0}Sn&&((Dn=this.linkService.eventBus)==null||Dn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:un,value:Sn(Nn)}}))})}_setEventListeners(Mt,bt,Lt,un){var Sn,Nn,Dn;for(const[Qn,rr]of Lt)(rr==="Action"||(Sn=this.data.actions)!=null&&Sn[rr])&&((rr==="Focus"||rr==="Blur")&&(bt||(bt={focused:!1})),this._setEventListener(Mt,bt,Qn,rr,un),rr==="Focus"&&!((Nn=this.data.actions)!=null&&Nn.Blur)?this._setEventListener(Mt,bt,"blur","Blur",null):rr==="Blur"&&!((Dn=this.data.actions)!=null&&Dn.Focus)&&this._setEventListener(Mt,bt,"focus","Focus",null))}_setBackgroundColor(Mt){const bt=this.data.backgroundColor||null;Mt.style.backgroundColor=bt===null?"transparent":a.Util.makeHexColor(bt[0],bt[1],bt[2])}_setTextStyle(Mt){const bt=["left","center","right"],{fontColor:Lt}=this.data.defaultAppearanceData,un=this.data.defaultAppearanceData.fontSize||_e,Sn=Mt.style;let Nn;const Dn=2,Qn=rr=>Math.round(10*rr)/10;if(this.data.multiLine){const rr=Math.abs(this.data.rect[3]-this.data.rect[1]-Dn),Yn=Math.round(rr/(a.LINE_FACTOR*un))||1,ir=rr/Yn;Nn=Math.min(un,Qn(ir/a.LINE_FACTOR))}else{const rr=Math.abs(this.data.rect[3]-this.data.rect[1]-Dn);Nn=Math.min(un,Qn(rr/a.LINE_FACTOR))}Sn.fontSize=`calc(${Nn}px * var(--scale-factor))`,Sn.color=a.Util.makeHexColor(Lt[0],Lt[1],Lt[2]),this.data.textAlignment!==null&&(Sn.textAlign=bt[this.data.textAlignment])}_setRequired(Mt,bt){bt?Mt.setAttribute("required",!0):Mt.removeAttribute("required"),Mt.setAttribute("aria-required",bt)}}class it extends tt{constructor(Mt){const bt=Mt.renderForms||!Mt.data.hasAppearance&&!!Mt.data.fieldValue;super(Mt,{isRenderable:bt})}setPropertyOnSiblings(Mt,bt,Lt,un){const Sn=this.annotationStorage;for(const Nn of this._getElementsByName(Mt.name,Mt.id))Nn.domElement&&(Nn.domElement[bt]=Lt),Sn.setValue(Nn.id,{[un]:Lt})}render(){var un,Sn;const Mt=this.annotationStorage,bt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Lt=null;if(this.renderForms){const Nn=Mt.getValue(bt,{value:this.data.fieldValue});let Dn=Nn.value||"";const Qn=Mt.getValue(bt,{charLimit:this.data.maxLen}).charLimit;Qn&&Dn.length>Qn&&(Dn=Dn.slice(0,Qn));let rr=Nn.formattedValue||((un=this.data.textContent)==null?void 0:un.join(`
`))||null;rr&&this.data.comb&&(rr=rr.replaceAll(/\s+/g,""));const Yn={userValue:Dn,formattedValue:rr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Lt=document.createElement("textarea"),Lt.textContent=rr??Dn,this.data.doNotScroll&&(Lt.style.overflowY="hidden")):(Lt=document.createElement("input"),Lt.type="text",Lt.setAttribute("value",rr??Dn),this.data.doNotScroll&&(Lt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Lt.hidden=!0),et.add(Lt),Lt.setAttribute("data-element-id",bt),Lt.disabled=this.data.readOnly,Lt.name=this.data.fieldName,Lt.tabIndex=$,this._setRequired(Lt,this.data.required),Qn&&(Lt.maxLength=Qn),Lt.addEventListener("input",Jn=>{Mt.setValue(bt,{value:Jn.target.value}),this.setPropertyOnSiblings(Lt,"value",Jn.target.value,"value"),Yn.formattedValue=null}),Lt.addEventListener("resetform",Jn=>{const tr=this.data.defaultFieldValue??"";Lt.value=Yn.userValue=tr,Yn.formattedValue=null});let ir=Jn=>{const{formattedValue:tr}=Yn;tr!=null&&(Jn.target.value=tr),Jn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Lt.addEventListener("focus",tr=>{if(Yn.focused)return;const{target:ur}=tr;Yn.userValue&&(ur.value=Yn.userValue),Yn.lastCommittedValue=ur.value,Yn.commitKey=1,Yn.focused=!0}),Lt.addEventListener("updatefromsandbox",tr=>{this.showElementAndHideCanvas(tr.target);const ur={value(mr){Yn.userValue=mr.detail.value??"",Mt.setValue(bt,{value:Yn.userValue.toString()}),mr.target.value=Yn.userValue},formattedValue(mr){const{formattedValue:yr}=mr.detail;Yn.formattedValue=yr,yr!=null&&mr.target!==document.activeElement&&(mr.target.value=yr),Mt.setValue(bt,{formattedValue:yr})},selRange(mr){mr.target.setSelectionRange(...mr.detail.selRange)},charLimit:mr=>{var br;const{charLimit:yr}=mr.detail,{target:vr}=mr;if(yr===0){vr.removeAttribute("maxLength");return}vr.setAttribute("maxLength",yr);let _r=Yn.userValue;!_r||_r.length<=yr||(_r=_r.slice(0,yr),vr.value=Yn.userValue=_r,Mt.setValue(bt,{value:_r}),(br=this.linkService.eventBus)==null||br.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:_r,willCommit:!0,commitKey:1,selStart:vr.selectionStart,selEnd:vr.selectionEnd}}))}};this._dispatchEventFromSandbox(ur,tr)}),Lt.addEventListener("keydown",tr=>{var yr;Yn.commitKey=1;let ur=-1;if(tr.key==="Escape"?ur=0:tr.key==="Enter"&&!this.data.multiLine?ur=2:tr.key==="Tab"&&(Yn.commitKey=3),ur===-1)return;const{value:mr}=tr.target;Yn.lastCommittedValue!==mr&&(Yn.lastCommittedValue=mr,Yn.userValue=mr,(yr=this.linkService.eventBus)==null||yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:mr,willCommit:!0,commitKey:ur,selStart:tr.target.selectionStart,selEnd:tr.target.selectionEnd}}))});const Jn=ir;ir=null,Lt.addEventListener("blur",tr=>{var mr;if(!Yn.focused||!tr.relatedTarget)return;Yn.focused=!1;const{value:ur}=tr.target;Yn.userValue=ur,Yn.lastCommittedValue!==ur&&((mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:ur,willCommit:!0,commitKey:Yn.commitKey,selStart:tr.target.selectionStart,selEnd:tr.target.selectionEnd}})),Jn(tr)}),(Sn=this.data.actions)!=null&&Sn.Keystroke&&Lt.addEventListener("beforeinput",tr=>{var Cr;Yn.lastCommittedValue=null;const{data:ur,target:mr}=tr,{value:yr,selectionStart:vr,selectionEnd:_r}=mr;let br=vr,Tr=_r;switch(tr.inputType){case"deleteWordBackward":{const Or=yr.substring(0,vr).match(/\w*[^\w]*$/);Or&&(br-=Or[0].length);break}case"deleteWordForward":{const Or=yr.substring(vr).match(/^[^\w]*\w*/);Or&&(Tr+=Or[0].length);break}case"deleteContentBackward":vr===_r&&(br-=1);break;case"deleteContentForward":vr===_r&&(Tr+=1);break}tr.preventDefault(),(Cr=this.linkService.eventBus)==null||Cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:yr,change:ur||"",willCommit:!1,selStart:br,selEnd:Tr}})}),this._setEventListeners(Lt,Yn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],tr=>tr.target.value)}if(ir&&Lt.addEventListener("blur",ir),this.data.comb){const tr=(this.data.rect[2]-this.data.rect[0])/Qn;Lt.classList.add("comb"),Lt.style.letterSpacing=`calc(${tr}px * var(--scale-factor) - 1ch)`}}else Lt=document.createElement("div"),Lt.textContent=this.data.fieldValue,Lt.style.verticalAlign="middle",Lt.style.display="table-cell";return this._setTextStyle(Lt),this._setBackgroundColor(Lt),this._setDefaultPropertiesFromJS(Lt),this.container.append(Lt),this.container}}class at extends tt{constructor(Mt){super(Mt,{isRenderable:!!Mt.data.hasOwnCanvas})}}class mt extends tt{constructor(Mt){super(Mt,{isRenderable:Mt.renderForms})}render(){const Mt=this.annotationStorage,bt=this.data,Lt=bt.id;let un=Mt.getValue(Lt,{value:bt.exportValue===bt.fieldValue}).value;typeof un=="string"&&(un=un!=="Off",Mt.setValue(Lt,{value:un})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Sn=document.createElement("input");return et.add(Sn),Sn.setAttribute("data-element-id",Lt),Sn.disabled=bt.readOnly,this._setRequired(Sn,this.data.required),Sn.type="checkbox",Sn.name=bt.fieldName,un&&Sn.setAttribute("checked",!0),Sn.setAttribute("exportValue",bt.exportValue),Sn.tabIndex=$,Sn.addEventListener("change",Nn=>{const{name:Dn,checked:Qn}=Nn.target;for(const rr of this._getElementsByName(Dn,Lt)){const Yn=Qn&&rr.exportValue===bt.exportValue;rr.domElement&&(rr.domElement.checked=Yn),Mt.setValue(rr.id,{value:Yn})}Mt.setValue(Lt,{value:Qn})}),Sn.addEventListener("resetform",Nn=>{const Dn=bt.defaultFieldValue||"Off";Nn.target.checked=Dn===bt.exportValue}),this.enableScripting&&this.hasJSActions&&(Sn.addEventListener("updatefromsandbox",Nn=>{const Dn={value(Qn){Qn.target.checked=Qn.detail.value!=="Off",Mt.setValue(Lt,{value:Qn.target.checked})}};this._dispatchEventFromSandbox(Dn,Nn)}),this._setEventListeners(Sn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Nn=>Nn.target.checked)),this._setBackgroundColor(Sn),this._setDefaultPropertiesFromJS(Sn),this.container.append(Sn),this.container}}class ot extends tt{constructor(Mt){super(Mt,{isRenderable:Mt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Mt=this.annotationStorage,bt=this.data,Lt=bt.id;let un=Mt.getValue(Lt,{value:bt.fieldValue===bt.buttonValue}).value;typeof un=="string"&&(un=un!==bt.buttonValue,Mt.setValue(Lt,{value:un}));const Sn=document.createElement("input");if(et.add(Sn),Sn.setAttribute("data-element-id",Lt),Sn.disabled=bt.readOnly,this._setRequired(Sn,this.data.required),Sn.type="radio",Sn.name=bt.fieldName,un&&Sn.setAttribute("checked",!0),Sn.tabIndex=$,Sn.addEventListener("change",Nn=>{const{name:Dn,checked:Qn}=Nn.target;for(const rr of this._getElementsByName(Dn,Lt))Mt.setValue(rr.id,{value:!1});Mt.setValue(Lt,{value:Qn})}),Sn.addEventListener("resetform",Nn=>{const Dn=bt.defaultFieldValue;Nn.target.checked=Dn!=null&&Dn===bt.buttonValue}),this.enableScripting&&this.hasJSActions){const Nn=bt.buttonValue;Sn.addEventListener("updatefromsandbox",Dn=>{const Qn={value:rr=>{const Yn=Nn===rr.detail.value;for(const ir of this._getElementsByName(rr.target.name)){const Jn=Yn&&ir.id===Lt;ir.domElement&&(ir.domElement.checked=Jn),Mt.setValue(ir.id,{value:Jn})}}};this._dispatchEventFromSandbox(Qn,Dn)}),this._setEventListeners(Sn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Dn=>Dn.target.checked)}return this._setBackgroundColor(Sn),this._setDefaultPropertiesFromJS(Sn),this.container.append(Sn),this.container}}class pt extends dt{constructor(Mt){super(Mt,{ignoreBorder:Mt.data.hasAppearance})}render(){const Mt=super.render();Mt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Mt.title=this.data.alternativeText);const bt=Mt.lastChild;return this.enableScripting&&this.hasJSActions&&bt&&(this._setDefaultPropertiesFromJS(bt),bt.addEventListener("updatefromsandbox",Lt=>{this._dispatchEventFromSandbox({},Lt)})),Mt}}class ht extends tt{constructor(Mt){super(Mt,{isRenderable:Mt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Mt=this.annotationStorage,bt=this.data.id,Lt=Mt.getValue(bt,{value:this.data.fieldValue}),un=document.createElement("select");et.add(un),un.setAttribute("data-element-id",bt),un.disabled=this.data.readOnly,this._setRequired(un,this.data.required),un.name=this.data.fieldName,un.tabIndex=$;let Sn=this.data.combo&&this.data.options.length>0;this.data.combo||(un.size=this.data.options.length,this.data.multiSelect&&(un.multiple=!0)),un.addEventListener("resetform",Yn=>{const ir=this.data.defaultFieldValue;for(const Jn of un.options)Jn.selected=Jn.value===ir});for(const Yn of this.data.options){const ir=document.createElement("option");ir.textContent=Yn.displayValue,ir.value=Yn.exportValue,Lt.value.includes(Yn.exportValue)&&(ir.setAttribute("selected",!0),Sn=!1),un.append(ir)}let Nn=null;if(Sn){const Yn=document.createElement("option");Yn.value=" ",Yn.setAttribute("hidden",!0),Yn.setAttribute("selected",!0),un.prepend(Yn),Nn=()=>{Yn.remove(),un.removeEventListener("input",Nn),Nn=null},un.addEventListener("input",Nn)}const Dn=Yn=>{const ir=Yn?"value":"textContent",{options:Jn,multiple:tr}=un;return tr?Array.prototype.filter.call(Jn,ur=>ur.selected).map(ur=>ur[ir]):Jn.selectedIndex===-1?null:Jn[Jn.selectedIndex][ir]};let Qn=Dn(!1);const rr=Yn=>{const ir=Yn.target.options;return Array.prototype.map.call(ir,Jn=>({displayValue:Jn.textContent,exportValue:Jn.value}))};return this.enableScripting&&this.hasJSActions?(un.addEventListener("updatefromsandbox",Yn=>{const ir={value(Jn){Nn==null||Nn();const tr=Jn.detail.value,ur=new Set(Array.isArray(tr)?tr:[tr]);for(const mr of un.options)mr.selected=ur.has(mr.value);Mt.setValue(bt,{value:Dn(!0)}),Qn=Dn(!1)},multipleSelection(Jn){un.multiple=!0},remove(Jn){const tr=un.options,ur=Jn.detail.remove;tr[ur].selected=!1,un.remove(ur),tr.length>0&&Array.prototype.findIndex.call(tr,yr=>yr.selected)===-1&&(tr[0].selected=!0),Mt.setValue(bt,{value:Dn(!0),items:rr(Jn)}),Qn=Dn(!1)},clear(Jn){for(;un.length!==0;)un.remove(0);Mt.setValue(bt,{value:null,items:[]}),Qn=Dn(!1)},insert(Jn){const{index:tr,displayValue:ur,exportValue:mr}=Jn.detail.insert,yr=un.children[tr],vr=document.createElement("option");vr.textContent=ur,vr.value=mr,yr?yr.before(vr):un.append(vr),Mt.setValue(bt,{value:Dn(!0),items:rr(Jn)}),Qn=Dn(!1)},items(Jn){const{items:tr}=Jn.detail;for(;un.length!==0;)un.remove(0);for(const ur of tr){const{displayValue:mr,exportValue:yr}=ur,vr=document.createElement("option");vr.textContent=mr,vr.value=yr,un.append(vr)}un.options.length>0&&(un.options[0].selected=!0),Mt.setValue(bt,{value:Dn(!0),items:rr(Jn)}),Qn=Dn(!1)},indices(Jn){const tr=new Set(Jn.detail.indices);for(const ur of Jn.target.options)ur.selected=tr.has(ur.index);Mt.setValue(bt,{value:Dn(!0)}),Qn=Dn(!1)},editable(Jn){Jn.target.disabled=!Jn.detail.editable}};this._dispatchEventFromSandbox(ir,Yn)}),un.addEventListener("input",Yn=>{var Jn;const ir=Dn(!0);Mt.setValue(bt,{value:ir}),Yn.preventDefault(),(Jn=this.linkService.eventBus)==null||Jn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:Qn,changeEx:ir,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(un,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Yn=>Yn.target.value)):un.addEventListener("input",function(Yn){Mt.setValue(bt,{value:Dn(!0)})}),this.data.combo&&this._setTextStyle(un),this._setBackgroundColor(un),this._setDefaultPropertiesFromJS(un),this.container.append(un),this.container}}class gt extends lt{constructor(Mt){const{data:bt,elements:Lt}=Mt;super(Mt,{isRenderable:lt._hasPopupData(bt)}),this.elements=Lt}render(){this.container.classList.add("popupAnnotation");const Mt=new xt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),bt=[];for(const Lt of this.elements)Lt.popup=Mt,bt.push(Lt.data.id),Lt.addHighlightArea();return this.container.setAttribute("aria-controls",bt.map(Lt=>`${a.AnnotationPrefix}${Lt}`).join(",")),this.container}}class xt{constructor({container:Mt,color:bt,elements:Lt,titleObj:un,modificationDate:Sn,contentsObj:Nn,richText:Dn,parent:Qn,rect:rr,parentRect:Yn,open:ir}){Cn(this,Xn);Cn(this,_n,null);Cn(this,In,En(this,Xn,xa).bind(this));Cn(this,Fn,En(this,Xn,bo).bind(this));Cn(this,$n,En(this,Xn,yo).bind(this));Cn(this,Un,En(this,Xn,Ms).bind(this));Cn(this,Wn,null);Cn(this,Rn,null);Cn(this,xn,null);Cn(this,tn,null);Cn(this,hn,null);Cn(this,yn,null);Cn(this,On,!1);Cn(this,jn,null);Cn(this,zn,null);Cn(this,Vn,null);Cn(this,Tn,null);Cn(this,Kn,!1);var tr;wn(this,Rn,Mt),wn(this,Tn,un),wn(this,xn,Nn),wn(this,Vn,Dn),wn(this,hn,Qn),wn(this,Wn,bt),wn(this,zn,rr),wn(this,yn,Yn),wn(this,tn,Lt);const Jn=c.PDFDateString.toDateObject(Sn);Jn&&wn(this,_n,Qn.l10n.get("annotation_date_string",{date:Jn.toLocaleDateString(),time:Jn.toLocaleTimeString()})),this.trigger=Lt.flatMap(ur=>ur.getElementsToTriggerPopup());for(const ur of this.trigger)ur.addEventListener("click",vt(this,Un)),ur.addEventListener("mouseenter",vt(this,$n)),ur.addEventListener("mouseleave",vt(this,Fn)),ur.classList.add("popupTriggerArea");for(const ur of Lt)(tr=ur.container)==null||tr.addEventListener("keydown",vt(this,In));vt(this,Rn).hidden=!0,ir&&En(this,Xn,Ms).call(this)}render(){if(vt(this,jn))return;const{page:{view:Mt},viewport:{rawDims:{pageWidth:bt,pageHeight:Lt,pageX:un,pageY:Sn}}}=vt(this,hn),Nn=wn(this,jn,document.createElement("div"));if(Nn.className="popup",vt(this,Wn)){const br=Nn.style.outlineColor=a.Util.makeHexColor(...vt(this,Wn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Nn.style.backgroundColor=`color-mix(in srgb, ${br} 30%, white)`:Nn.style.backgroundColor=a.Util.makeHexColor(...vt(this,Wn).map(Cr=>Math.floor(.7*(255-Cr)+Cr)))}const Dn=document.createElement("span");Dn.className="header";const Qn=document.createElement("h1");if(Dn.append(Qn),{dir:Qn.dir,str:Qn.textContent}=vt(this,Tn),Nn.append(Dn),vt(this,_n)){const br=document.createElement("span");br.classList.add("popupDate"),vt(this,_n).then(Tr=>{br.textContent=Tr}),Dn.append(br)}const rr=vt(this,xn),Yn=vt(this,Vn);if(Yn!=null&&Yn.str&&(!(rr!=null&&rr.str)||rr.str===Yn.str))_.XfaLayer.render({xfaHtml:Yn.html,intent:"richText",div:Nn}),Nn.lastChild.classList.add("richText","popupContent");else{const br=this._formatContents(rr);Nn.append(br)}let ir=!!vt(this,yn),Jn=ir?vt(this,yn):vt(this,zn);for(const br of vt(this,tn))if(!Jn||a.Util.intersect(br.data.rect,Jn)!==null){Jn=br.data.rect,ir=!0;break}const tr=a.Util.normalizeRect([Jn[0],Mt[3]-Jn[1]+Mt[1],Jn[2],Mt[3]-Jn[3]+Mt[1]]),mr=ir?Jn[2]-Jn[0]+5:0,yr=tr[0]+mr,vr=tr[1],{style:_r}=vt(this,Rn);_r.left=`${100*(yr-un)/bt}%`,_r.top=`${100*(vr-Sn)/Lt}%`,vt(this,Rn).append(Nn)}_formatContents({str:Mt,dir:bt}){const Lt=document.createElement("p");Lt.classList.add("popupContent"),Lt.dir=bt;const un=Mt.split(/(?:\r\n?|\n)/);for(let Sn=0,Nn=un.length;Sn<Nn;++Sn){const Dn=un[Sn];Lt.append(document.createTextNode(Dn)),Sn<Nn-1&&Lt.append(document.createElement("br"))}return Lt}forceHide(){wn(this,Kn,this.isVisible),vt(this,Kn)&&(vt(this,Rn).hidden=!0)}maybeShow(){vt(this,Kn)&&(wn(this,Kn,!1),vt(this,Rn).hidden=!1)}get isVisible(){return vt(this,Rn).hidden===!1}}_n=new WeakMap,In=new WeakMap,Fn=new WeakMap,$n=new WeakMap,Un=new WeakMap,Wn=new WeakMap,Rn=new WeakMap,xn=new WeakMap,tn=new WeakMap,hn=new WeakMap,yn=new WeakMap,On=new WeakMap,jn=new WeakMap,zn=new WeakMap,Vn=new WeakMap,Tn=new WeakMap,Kn=new WeakMap,Xn=new WeakSet,xa=function(Mt){Mt.altKey||Mt.shiftKey||Mt.ctrlKey||Mt.metaKey||(Mt.key==="Enter"||Mt.key==="Escape"&&vt(this,On))&&En(this,Xn,Ms).call(this)},Ms=function(){wn(this,On,!vt(this,On)),vt(this,On)?(En(this,Xn,yo).call(this),vt(this,Rn).addEventListener("click",vt(this,Un)),vt(this,Rn).addEventListener("keydown",vt(this,In))):(En(this,Xn,bo).call(this),vt(this,Rn).removeEventListener("click",vt(this,Un)),vt(this,Rn).removeEventListener("keydown",vt(this,In)))},yo=function(){vt(this,jn)||this.render(),this.isVisible?vt(this,On)&&vt(this,Rn).classList.add("focused"):(vt(this,Rn).hidden=!1,vt(this,Rn).style.zIndex=parseInt(vt(this,Rn).style.zIndex)+1e3)},bo=function(){vt(this,Rn).classList.remove("focused"),!(vt(this,On)||!this.isVisible)&&(vt(this,Rn).hidden=!0,vt(this,Rn).style.zIndex=parseInt(vt(this,Rn).style.zIndex)-1e3)};class Tt extends lt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Mt.data.textContent,this.textPosition=Mt.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Mt=document.createElement("div");Mt.classList.add("annotationTextContent"),Mt.setAttribute("role","comment");for(const bt of this.textContent){const Lt=document.createElement("span");Lt.textContent=bt,Mt.append(Lt)}this.container.append(Mt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=Tt;class wt extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Cn(this,ar,null)}render(){this.container.classList.add("lineAnnotation");const bt=this.data,{width:Lt,height:un}=rt(bt.rect),Sn=this.svgFactory.create(Lt,un,!0),Nn=wn(this,ar,this.svgFactory.createElement("svg:line"));return Nn.setAttribute("x1",bt.rect[2]-bt.lineCoordinates[0]),Nn.setAttribute("y1",bt.rect[3]-bt.lineCoordinates[1]),Nn.setAttribute("x2",bt.rect[2]-bt.lineCoordinates[2]),Nn.setAttribute("y2",bt.rect[3]-bt.lineCoordinates[3]),Nn.setAttribute("stroke-width",bt.borderStyle.width||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),Sn.append(Nn),this.container.append(Sn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return vt(this,ar)}addHighlightArea(){this.container.classList.add("highlightArea")}}ar=new WeakMap;class kt extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Cn(this,dr,null)}render(){this.container.classList.add("squareAnnotation");const bt=this.data,{width:Lt,height:un}=rt(bt.rect),Sn=this.svgFactory.create(Lt,un,!0),Nn=bt.borderStyle.width,Dn=wn(this,dr,this.svgFactory.createElement("svg:rect"));return Dn.setAttribute("x",Nn/2),Dn.setAttribute("y",Nn/2),Dn.setAttribute("width",Lt-Nn),Dn.setAttribute("height",un-Nn),Dn.setAttribute("stroke-width",Nn||1),Dn.setAttribute("stroke","transparent"),Dn.setAttribute("fill","transparent"),Sn.append(Dn),this.container.append(Sn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return vt(this,dr)}addHighlightArea(){this.container.classList.add("highlightArea")}}dr=new WeakMap;class Yt extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Cn(this,gr,null)}render(){this.container.classList.add("circleAnnotation");const bt=this.data,{width:Lt,height:un}=rt(bt.rect),Sn=this.svgFactory.create(Lt,un,!0),Nn=bt.borderStyle.width,Dn=wn(this,gr,this.svgFactory.createElement("svg:ellipse"));return Dn.setAttribute("cx",Lt/2),Dn.setAttribute("cy",un/2),Dn.setAttribute("rx",Lt/2-Nn/2),Dn.setAttribute("ry",un/2-Nn/2),Dn.setAttribute("stroke-width",Nn||1),Dn.setAttribute("stroke","transparent"),Dn.setAttribute("fill","transparent"),Sn.append(Dn),this.container.append(Sn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return vt(this,gr)}addHighlightArea(){this.container.classList.add("highlightArea")}}gr=new WeakMap;class fn extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Cn(this,Hn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const bt=this.data,{width:Lt,height:un}=rt(bt.rect),Sn=this.svgFactory.create(Lt,un,!0);let Nn=[];for(const Qn of bt.vertices){const rr=Qn.x-bt.rect[0],Yn=bt.rect[3]-Qn.y;Nn.push(rr+","+Yn)}Nn=Nn.join(" ");const Dn=wn(this,Hn,this.svgFactory.createElement(this.svgElementName));return Dn.setAttribute("points",Nn),Dn.setAttribute("stroke-width",bt.borderStyle.width||1),Dn.setAttribute("stroke","transparent"),Dn.setAttribute("fill","transparent"),Sn.append(Dn),this.container.append(Sn),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return vt(this,Hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hn=new WeakMap;class an extends fn{constructor(Mt){super(Mt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class dn extends lt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class on extends lt{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Cn(this,Pt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const bt=this.data,{width:Lt,height:un}=rt(bt.rect),Sn=this.svgFactory.create(Lt,un,!0);for(const Nn of bt.inkLists){let Dn=[];for(const rr of Nn){const Yn=rr.x-bt.rect[0],ir=bt.rect[3]-rr.y;Dn.push(`${Yn},${ir}`)}Dn=Dn.join(" ");const Qn=this.svgFactory.createElement(this.svgElementName);vt(this,Pt).push(Qn),Qn.setAttribute("points",Dn),Qn.setAttribute("stroke-width",bt.borderStyle.width||1),Qn.setAttribute("stroke","transparent"),Qn.setAttribute("fill","transparent"),!bt.popupRef&&this.hasPopupData&&this._createPopup(),Sn.append(Qn)}return this.container.append(Sn),this.container}getElementsToTriggerPopup(){return vt(this,Pt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pt=new WeakMap,i.InkAnnotationElement=on;class Jt extends lt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Rt extends lt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zt extends lt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nn extends lt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Nt extends lt{constructor(Mt){super(Mt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=Nt;class Et extends lt{constructor(bt){var Sn;super(bt,{isRenderable:!0});Cn(this,An);Cn(this,pn,null);const{filename:Lt,content:un}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(Lt,!0),this.content=un,(Sn=this.linkService.eventBus)==null||Sn.dispatch("fileattachmentannotation",{source:this,filename:Lt,content:un})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:bt,data:Lt}=this;let un;Lt.hasAppearance||Lt.fillAlpha===0?un=document.createElement("div"):(un=document.createElement("img"),un.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Lt.name)?"paperclip":"pushpin"}.svg`,Lt.fillAlpha&&Lt.fillAlpha<1&&(un.style=`filter: opacity(${Math.round(Lt.fillAlpha*100)}%);`)),un.addEventListener("dblclick",En(this,An,Eo).bind(this)),wn(this,pn,un);const{isMac:Sn}=a.FeatureTest.platform;return bt.addEventListener("keydown",Nn=>{Nn.key==="Enter"&&(Sn?Nn.metaKey:Nn.ctrlKey)&&En(this,An,Eo).call(this)}),!Lt.popupRef&&this.hasPopupData?this._createPopup():un.classList.add("popupTriggerArea"),bt.append(un),bt}getElementsToTriggerPopup(){return vt(this,pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}pn=new WeakMap,An=new WeakSet,Eo=function(){var bt;(bt=this.downloadManager)==null||bt.openOrDownloadData(this.container,this.content,this.filename)};class St{constructor({div:Mt,accessibilityManager:bt,annotationCanvasMap:Lt,l10n:un,page:Sn,viewport:Nn}){Cn(this,Pn);Cn(this,gn,null);Cn(this,Bt,null);Cn(this,At,new Map);this.div=Mt,wn(this,gn,bt),wn(this,Bt,Lt),this.l10n=un,this.page=Sn,this.viewport=Nn,this.zIndex=0,this.l10n||(this.l10n=b.NullL10n)}async render(Mt){const{annotations:bt}=Mt,Lt=this.div;(0,c.setLayerDimensions)(Lt,this.viewport);const un=new Map,Sn={data:null,layer:Lt,linkService:Mt.linkService,downloadManager:Mt.downloadManager,imageResourcesPath:Mt.imageResourcesPath||"",renderForms:Mt.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:Mt.annotationStorage||new h.AnnotationStorage,enableScripting:Mt.enableScripting===!0,hasJSActions:Mt.hasJSActions,fieldObjects:Mt.fieldObjects,parent:this,elements:null};for(const Nn of bt){if(Nn.noHTML)continue;const Dn=Nn.annotationType===a.AnnotationType.POPUP;if(Dn){const Yn=un.get(Nn.id);if(!Yn)continue;Sn.elements=Yn}else{const{width:Yn,height:ir}=rt(Nn.rect);if(Yn<=0||ir<=0)continue}Sn.data=Nn;const Qn=st.create(Sn);if(!Qn.isRenderable)continue;if(!Dn&&Nn.popupRef){const Yn=un.get(Nn.popupRef);Yn?Yn.push(Qn):un.set(Nn.popupRef,[Qn])}Qn.annotationEditorType>0&&vt(this,At).set(Qn.data.id,Qn);const rr=Qn.render();Nn.hidden&&(rr.style.visibility="hidden"),En(this,Pn,$a).call(this,rr,Nn.id)}En(this,Pn,_o).call(this),await this.l10n.translate(Lt)}update({viewport:Mt}){const bt=this.div;this.viewport=Mt,(0,c.setLayerDimensions)(bt,{rotation:Mt.rotation}),En(this,Pn,_o).call(this),bt.hidden=!1}getEditableAnnotations(){return Array.from(vt(this,At).values())}getEditableAnnotation(Mt){return vt(this,At).get(Mt)}}gn=new WeakMap,Bt=new WeakMap,At=new WeakMap,Pn=new WeakSet,$a=function(Mt,bt){var un;const Lt=Mt.firstChild||Mt;Lt.id=`${a.AnnotationPrefix}${bt}`,this.div.append(Mt),(un=vt(this,gn))==null||un.moveElementInDOM(this.div,Mt,Lt,!1)},_o=function(){if(!vt(this,Bt))return;const Mt=this.div;for(const[bt,Lt]of vt(this,Bt)){const un=Mt.querySelector(`[data-annotation-id="${bt}"]`);if(!un)continue;const{firstChild:Sn}=un;Sn?Sn.nodeName==="CANVAS"?Sn.replaceWith(Lt):Sn.before(Lt):un.append(Lt)}vt(this,Bt).clear()},i.AnnotationLayer=St},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function o(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function a(h){return Math.max(0,Math.min(255,255*h))}class c{static CMYK_G([g,b,_,$]){return["G",1-Math.min(1,.3*g+.59*_+.11*b+$)]}static G_CMYK([g]){return["CMYK",0,0,0,1-g]}static G_RGB([g]){return["RGB",g,g,g]}static G_rgb([g]){return g=a(g),[g,g,g]}static G_HTML([g]){const b=o(g);return`#${b}${b}${b}`}static RGB_G([g,b,_]){return["G",.3*g+.59*b+.11*_]}static RGB_rgb(g){return g.map(a)}static RGB_HTML(g){return`#${g.map(o).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([g,b,_,$]){return["RGB",1-Math.min(1,g+$),1-Math.min(1,_+$),1-Math.min(1,b+$)]}static CMYK_rgb([g,b,_,$]){return[a(1-Math.min(1,g+$)),a(1-Math.min(1,_+$)),a(1-Math.min(1,b+$))]}static CMYK_HTML(g){const b=this.CMYK_RGB(g).slice(1);return this.RGB_HTML(b)}static RGB_CMYK([g,b,_]){const $=1-g,_e=1-b,et=1-_,rt=Math.min($,_e,et);return["CMYK",$,_e,et,rt]}}i.ColorConverters=c},(s,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=a;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function a(g,b){switch(g){case"find_match_count":g=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":g=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return o[g]||""}function c(g,b){return b?g.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(_,$)=>$ in b?b[$]:"{{"+$+"}}"):g}const h={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(g,b=null,_=a(g,b)){return c(_,b)},async translate(g){}};i.NullL10n=h},(s,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var a=o(25);class c{static setupStorage(g,b,_,$,_e){const et=$.getValue(b,{value:null});switch(_.name){case"textarea":if(et.value!==null&&(g.textContent=et.value),_e==="print")break;g.addEventListener("input",rt=>{$.setValue(b,{value:rt.target.value})});break;case"input":if(_.attributes.type==="radio"||_.attributes.type==="checkbox"){if(et.value===_.attributes.xfaOn?g.setAttribute("checked",!0):et.value===_.attributes.xfaOff&&g.removeAttribute("checked"),_e==="print")break;g.addEventListener("change",rt=>{$.setValue(b,{value:rt.target.checked?rt.target.getAttribute("xfaOn"):rt.target.getAttribute("xfaOff")})})}else{if(et.value!==null&&g.setAttribute("value",et.value),_e==="print")break;g.addEventListener("input",rt=>{$.setValue(b,{value:rt.target.value})})}break;case"select":if(et.value!==null){g.setAttribute("value",et.value);for(const rt of _.children)rt.attributes.value===et.value?rt.attributes.selected=!0:rt.attributes.hasOwnProperty("selected")&&delete rt.attributes.selected}g.addEventListener("input",rt=>{const st=rt.target.options,lt=st.selectedIndex===-1?"":st[st.selectedIndex].value;$.setValue(b,{value:lt})});break}}static setAttributes({html:g,element:b,storage:_=null,intent:$,linkService:_e}){const{attributes:et}=b,rt=g instanceof HTMLAnchorElement;et.type==="radio"&&(et.name=`${et.name}-${$}`);for(const[st,lt]of Object.entries(et))if(lt!=null)switch(st){case"class":lt.length&&g.setAttribute(st,lt.join(" "));break;case"dataId":break;case"id":g.setAttribute("data-element-id",lt);break;case"style":Object.assign(g.style,lt);break;case"textContent":g.textContent=lt;break;default:(!rt||st!=="href"&&st!=="newWindow")&&g.setAttribute(st,lt)}rt&&_e.addLinkAttributes(g,et.href,et.newWindow),_&&et.dataId&&this.setupStorage(g,et.dataId,b,_)}static render(g){var dt;const b=g.annotationStorage,_=g.linkService,$=g.xfaHtml,_e=g.intent||"display",et=document.createElement($.name);$.attributes&&this.setAttributes({html:et,element:$,intent:_e,linkService:_});const rt=[[$,-1,et]],st=g.div;if(st.append(et),g.viewport){const nt=`matrix(${g.viewport.transform.join(",")})`;st.style.transform=nt}_e!=="richText"&&st.setAttribute("class","xfaLayer xfaFont");const lt=[];for(;rt.length>0;){const[nt,tt,it]=rt.at(-1);if(tt+1===nt.children.length){rt.pop();continue}const at=nt.children[++rt.at(-1)[1]];if(at===null)continue;const{name:mt}=at;if(mt==="#text"){const pt=document.createTextNode(at.value);lt.push(pt),it.append(pt);continue}const ot=(dt=at==null?void 0:at.attributes)!=null&&dt.xmlns?document.createElementNS(at.attributes.xmlns,mt):document.createElement(mt);if(it.append(ot),at.attributes&&this.setAttributes({html:ot,element:at,storage:b,intent:_e,linkService:_}),at.children&&at.children.length>0)rt.push([at,-1,ot]);else if(at.value){const pt=document.createTextNode(at.value);a.XfaText.shouldBuildText(mt)&&lt.push(pt),ot.append(pt)}}for(const nt of st.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))nt.setAttribute("readOnly",!0);return{textDivs:lt}}static update(g){const b=`matrix(${g.viewport.transform.join(",")})`;g.div.style.transform=b,g.div.hidden=!1}}i.XfaLayer=c},(s,i,o)=>{var $,_e,et,rt,st,lt,dt,nt,tt,it,at,mt,ot,pt,ht,yl,El,_l,xl,xo,wl,wo,Sl,Al,Tl,Cl,Rl,Ur,So,Fs,js,ss,Ao,$s,sn,Pl,To,Nl,Ol,Co,zs,os;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var a=o(1),c=o(4),h=o(29),g=o(6),b=o(5);const Wn=class Wn extends c.AnnotationEditor{constructor(tn){super({...tn,name:"inkEditor"});Cn(this,ht);Cn(this,$,0);Cn(this,_e,0);Cn(this,et,this.canvasPointermove.bind(this));Cn(this,rt,this.canvasPointerleave.bind(this));Cn(this,st,this.canvasPointerup.bind(this));Cn(this,lt,this.canvasPointerdown.bind(this));Cn(this,dt,new Path2D);Cn(this,nt,!1);Cn(this,tt,!1);Cn(this,it,!1);Cn(this,at,null);Cn(this,mt,0);Cn(this,ot,0);Cn(this,pt,null);this.color=tn.color||null,this.thickness=tn.thickness||null,this.opacity=tn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(tn){c.AnnotationEditor.initialize(tn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(tn,hn){switch(tn){case a.AnnotationEditorParamsType.INK_THICKNESS:Wn._defaultThickness=hn;break;case a.AnnotationEditorParamsType.INK_COLOR:Wn._defaultColor=hn;break;case a.AnnotationEditorParamsType.INK_OPACITY:Wn._defaultOpacity=hn/100;break}}updateParams(tn,hn){switch(tn){case a.AnnotationEditorParamsType.INK_THICKNESS:En(this,ht,yl).call(this,hn);break;case a.AnnotationEditorParamsType.INK_COLOR:En(this,ht,El).call(this,hn);break;case a.AnnotationEditorParamsType.INK_OPACITY:En(this,ht,_l).call(this,hn);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,Wn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,Wn._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(Wn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Wn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||Wn._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Wn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(En(this,ht,Fs).call(this),En(this,ht,js).call(this)),this.isAttachedToDOM||(this.parent.add(this),En(this,ht,ss).call(this)),En(this,ht,os).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,vt(this,at).disconnect(),wn(this,at,null),super.remove())}setParent(tn){!this.parent&&tn?this._uiManager.removeShouldRescale(this):this.parent&&tn===null&&this._uiManager.addShouldRescale(this),super.setParent(tn)}onScaleChanging(){const[tn,hn]=this.parentDimensions,yn=this.width*tn,On=this.height*hn;this.setDimensions(yn,On)}enableEditMode(){vt(this,nt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",vt(this,lt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",vt(this,lt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){vt(this,nt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),wn(this,nt,!0),this.div.classList.add("disabled"),En(this,ht,os).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(tn){this._focusEventsAllowed&&(super.focusin(tn),this.enableEditMode())}canvasPointerdown(tn){tn.button!==0||!this.isInEditMode()||vt(this,nt)||(this.setInForeground(),tn.preventDefault(),tn.type!=="mouse"&&this.div.focus(),En(this,ht,wl).call(this,tn.offsetX,tn.offsetY))}canvasPointermove(tn){tn.preventDefault(),En(this,ht,wo).call(this,tn.offsetX,tn.offsetY)}canvasPointerup(tn){tn.preventDefault(),En(this,ht,So).call(this,tn)}canvasPointerleave(tn){En(this,ht,So).call(this,tn)}get isResizable(){return!this.isEmpty()&&vt(this,nt)}render(){if(this.div)return this.div;let tn,hn;this.width&&(tn=this.x,hn=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Vn=>{var Tn;return(Tn=this.div)==null?void 0:Tn.setAttribute("aria-label",Vn)});const[yn,On,jn,zn]=En(this,ht,xl).call(this);if(this.setAt(yn,On,0,0),this.setDims(jn,zn),En(this,ht,Fs).call(this),this.width){const[Vn,Tn]=this.parentDimensions;this.setAspectRatio(this.width*Vn,this.height*Tn),this.setAt(tn*Vn,hn*Tn,this.width*Vn,this.height*Tn),wn(this,it,!0),En(this,ht,ss).call(this),this.setDims(this.width*Vn,this.height*Tn),En(this,ht,Ur).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return En(this,ht,js).call(this),this.div}setDimensions(tn,hn){const yn=Math.round(tn),On=Math.round(hn);if(vt(this,mt)===yn&&vt(this,ot)===On)return;wn(this,mt,yn),wn(this,ot,On),this.canvas.style.visibility="hidden";const[jn,zn]=this.parentDimensions;this.width=tn/jn,this.height=hn/zn,this.fixAndSetPosition(),vt(this,nt)&&En(this,ht,Ao).call(this,tn,hn),En(this,ht,ss).call(this),En(this,ht,Ur).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(tn,hn,yn){var ar,dr,gr;if(tn instanceof h.InkAnnotationElement)return null;const On=super.deserialize(tn,hn,yn);On.thickness=tn.thickness,On.color=a.Util.makeHexColor(...tn.color),On.opacity=tn.opacity;const[jn,zn]=On.pageDimensions,Vn=On.width*jn,Tn=On.height*zn,Kn=On.parentScale,Xn=tn.thickness/2;wn(On,nt,!0),wn(On,mt,Math.round(Vn)),wn(On,ot,Math.round(Tn));const{paths:hr,rect:cr,rotation:fr}=tn;for(let{bezier:Hn}of hr){Hn=En(ar=Wn,sn,Nl).call(ar,Hn,cr,fr);const Pt=[];On.paths.push(Pt);let pn=Kn*(Hn[0]-Xn),An=Kn*(Hn[1]-Xn);for(let gn=2,Bt=Hn.length;gn<Bt;gn+=6){const At=Kn*(Hn[gn]-Xn),Pn=Kn*(Hn[gn+1]-Xn),qn=Kn*(Hn[gn+2]-Xn),yt=Kn*(Hn[gn+3]-Xn),bn=Kn*(Hn[gn+4]-Xn),Mt=Kn*(Hn[gn+5]-Xn);Pt.push([[pn,An],[At,Pn],[qn,yt],[bn,Mt]]),pn=bn,An=Mt}const Gn=En(this,sn,Pl).call(this,Pt);On.bezierPath2D.push(Gn)}const nr=En(dr=On,ht,Co).call(dr);return wn(On,_e,Math.max(c.AnnotationEditor.MIN_SIZE,nr[2]-nr[0])),wn(On,$,Math.max(c.AnnotationEditor.MIN_SIZE,nr[3]-nr[1])),En(gr=On,ht,Ao).call(gr,Vn,Tn),On}serialize(){if(this.isEmpty())return null;const tn=this.getRect(0,0),hn=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:hn,thickness:this.thickness,opacity:this.opacity,paths:En(this,ht,Ol).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,tn),pageIndex:this.pageIndex,rect:tn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};$=new WeakMap,_e=new WeakMap,et=new WeakMap,rt=new WeakMap,st=new WeakMap,lt=new WeakMap,dt=new WeakMap,nt=new WeakMap,tt=new WeakMap,it=new WeakMap,at=new WeakMap,mt=new WeakMap,ot=new WeakMap,pt=new WeakMap,ht=new WeakSet,yl=function(tn){const hn=this.thickness;this.addCommands({cmd:()=>{this.thickness=tn,En(this,ht,os).call(this)},undo:()=>{this.thickness=hn,En(this,ht,os).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},El=function(tn){const hn=this.color;this.addCommands({cmd:()=>{this.color=tn,En(this,ht,Ur).call(this)},undo:()=>{this.color=hn,En(this,ht,Ur).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_l=function(tn){tn/=100;const hn=this.opacity;this.addCommands({cmd:()=>{this.opacity=tn,En(this,ht,Ur).call(this)},undo:()=>{this.opacity=hn,En(this,ht,Ur).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xl=function(){const{parentRotation:tn,parentDimensions:[hn,yn]}=this;switch(tn){case 90:return[0,yn,yn,hn];case 180:return[hn,yn,hn,yn];case 270:return[hn,0,yn,hn];default:return[0,0,hn,yn]}},xo=function(){const{ctx:tn,color:hn,opacity:yn,thickness:On,parentScale:jn,scaleFactor:zn}=this;tn.lineWidth=On*jn/zn,tn.lineCap="round",tn.lineJoin="round",tn.miterLimit=10,tn.strokeStyle=`${hn}${(0,b.opacityToHex)(yn)}`},wl=function(tn,hn){this.canvas.addEventListener("contextmenu",g.noContextMenu),this.canvas.addEventListener("pointerleave",vt(this,rt)),this.canvas.addEventListener("pointermove",vt(this,et)),this.canvas.addEventListener("pointerup",vt(this,st)),this.canvas.removeEventListener("pointerdown",vt(this,lt)),this.isEditing=!0,vt(this,it)||(wn(this,it,!0),En(this,ht,ss).call(this),this.thickness||(this.thickness=Wn._defaultThickness),this.color||(this.color=Wn._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Wn._defaultOpacity)),this.currentPath.push([tn,hn]),wn(this,tt,!1),En(this,ht,xo).call(this),wn(this,pt,()=>{En(this,ht,Tl).call(this),vt(this,pt)&&window.requestAnimationFrame(vt(this,pt))}),window.requestAnimationFrame(vt(this,pt))},wo=function(tn,hn){const[yn,On]=this.currentPath.at(-1);if(this.currentPath.length>1&&tn===yn&&hn===On)return;const jn=this.currentPath;let zn=vt(this,dt);if(jn.push([tn,hn]),wn(this,tt,!0),jn.length<=2){zn.moveTo(...jn[0]),zn.lineTo(tn,hn);return}jn.length===3&&(wn(this,dt,zn=new Path2D),zn.moveTo(...jn[0])),En(this,ht,Cl).call(this,zn,...jn.at(-3),...jn.at(-2),tn,hn)},Sl=function(){if(this.currentPath.length===0)return;const tn=this.currentPath.at(-1);vt(this,dt).lineTo(...tn)},Al=function(tn,hn){wn(this,pt,null),tn=Math.min(Math.max(tn,0),this.canvas.width),hn=Math.min(Math.max(hn,0),this.canvas.height),En(this,ht,wo).call(this,tn,hn),En(this,ht,Sl).call(this);let yn;if(this.currentPath.length!==1)yn=En(this,ht,Rl).call(this);else{const Tn=[tn,hn];yn=[[Tn,Tn.slice(),Tn.slice(),Tn]]}const On=vt(this,dt),jn=this.currentPath;this.currentPath=[],wn(this,dt,new Path2D);const zn=()=>{this.allRawPaths.push(jn),this.paths.push(yn),this.bezierPath2D.push(On),this.rebuild()},Vn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(En(this,ht,Fs).call(this),En(this,ht,js).call(this)),En(this,ht,os).call(this))};this.addCommands({cmd:zn,undo:Vn,mustExec:!0})},Tl=function(){if(!vt(this,tt))return;wn(this,tt,!1);const tn=Math.ceil(this.thickness*this.parentScale),hn=this.currentPath.slice(-3),yn=hn.map(zn=>zn[0]),On=hn.map(zn=>zn[1]);Math.min(...yn)-tn,Math.max(...yn)+tn,Math.min(...On)-tn,Math.max(...On)+tn;const{ctx:jn}=this;jn.save(),jn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const zn of this.bezierPath2D)jn.stroke(zn);jn.stroke(vt(this,dt)),jn.restore()},Cl=function(tn,hn,yn,On,jn,zn,Vn){const Tn=(hn+On)/2,Kn=(yn+jn)/2,Xn=(On+zn)/2,hr=(jn+Vn)/2;tn.bezierCurveTo(Tn+2*(On-Tn)/3,Kn+2*(jn-Kn)/3,Xn+2*(On-Xn)/3,hr+2*(jn-hr)/3,Xn,hr)},Rl=function(){const tn=this.currentPath;if(tn.length<=2)return[[tn[0],tn[0],tn.at(-1),tn.at(-1)]];const hn=[];let yn,[On,jn]=tn[0];for(yn=1;yn<tn.length-2;yn++){const[cr,fr]=tn[yn],[nr,ar]=tn[yn+1],dr=(cr+nr)/2,gr=(fr+ar)/2,Hn=[On+2*(cr-On)/3,jn+2*(fr-jn)/3],Pt=[dr+2*(cr-dr)/3,gr+2*(fr-gr)/3];hn.push([[On,jn],Hn,Pt,[dr,gr]]),[On,jn]=[dr,gr]}const[zn,Vn]=tn[yn],[Tn,Kn]=tn[yn+1],Xn=[On+2*(zn-On)/3,jn+2*(Vn-jn)/3],hr=[Tn+2*(zn-Tn)/3,Kn+2*(Vn-Kn)/3];return hn.push([[On,jn],Xn,hr,[Tn,Kn]]),hn},Ur=function(){if(this.isEmpty()){En(this,ht,$s).call(this);return}En(this,ht,xo).call(this);const{canvas:tn,ctx:hn}=this;hn.setTransform(1,0,0,1,0,0),hn.clearRect(0,0,tn.width,tn.height),En(this,ht,$s).call(this);for(const yn of this.bezierPath2D)hn.stroke(yn)},So=function(tn){this.canvas.removeEventListener("pointerleave",vt(this,rt)),this.canvas.removeEventListener("pointermove",vt(this,et)),this.canvas.removeEventListener("pointerup",vt(this,st)),this.canvas.addEventListener("pointerdown",vt(this,lt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",g.noContextMenu)},10),En(this,ht,Al).call(this,tn.offsetX,tn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Fs=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(tn=>{var hn;return(hn=this.canvas)==null?void 0:hn.setAttribute("aria-label",tn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},js=function(){wn(this,at,new ResizeObserver(tn=>{const hn=tn[0].contentRect;hn.width&&hn.height&&this.setDimensions(hn.width,hn.height)})),vt(this,at).observe(this.div)},ss=function(){if(!vt(this,it))return;const[tn,hn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*tn),this.canvas.height=Math.ceil(this.height*hn),En(this,ht,$s).call(this)},Ao=function(tn,hn){const yn=En(this,ht,zs).call(this),On=(tn-yn)/vt(this,_e),jn=(hn-yn)/vt(this,$);this.scaleFactor=Math.min(On,jn)},$s=function(){const tn=En(this,ht,zs).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+tn,this.translationY*this.scaleFactor+tn)},sn=new WeakSet,Pl=function(tn){const hn=new Path2D;for(let yn=0,On=tn.length;yn<On;yn++){const[jn,zn,Vn,Tn]=tn[yn];yn===0&&hn.moveTo(...jn),hn.bezierCurveTo(zn[0],zn[1],Vn[0],Vn[1],Tn[0],Tn[1])}return hn},To=function(tn,hn,yn){const[On,jn,zn,Vn]=hn;switch(yn){case 0:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2)tn[Tn]+=On,tn[Tn+1]=Vn-tn[Tn+1];break;case 90:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2){const Xn=tn[Tn];tn[Tn]=tn[Tn+1]+On,tn[Tn+1]=Xn+jn}break;case 180:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2)tn[Tn]=zn-tn[Tn],tn[Tn+1]+=jn;break;case 270:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2){const Xn=tn[Tn];tn[Tn]=zn-tn[Tn+1],tn[Tn+1]=Vn-Xn}break;default:throw new Error("Invalid rotation")}return tn},Nl=function(tn,hn,yn){const[On,jn,zn,Vn]=hn;switch(yn){case 0:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2)tn[Tn]-=On,tn[Tn+1]=Vn-tn[Tn+1];break;case 90:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2){const Xn=tn[Tn];tn[Tn]=tn[Tn+1]-jn,tn[Tn+1]=Xn-On}break;case 180:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2)tn[Tn]=zn-tn[Tn],tn[Tn+1]-=jn;break;case 270:for(let Tn=0,Kn=tn.length;Tn<Kn;Tn+=2){const Xn=tn[Tn];tn[Tn]=Vn-tn[Tn+1],tn[Tn+1]=zn-Xn}break;default:throw new Error("Invalid rotation")}return tn},Ol=function(tn,hn,yn,On){var Kn,Xn;const jn=[],zn=this.thickness/2,Vn=tn*hn+zn,Tn=tn*yn+zn;for(const hr of this.paths){const cr=[],fr=[];for(let nr=0,ar=hr.length;nr<ar;nr++){const[dr,gr,Hn,Pt]=hr[nr],pn=tn*dr[0]+Vn,An=tn*dr[1]+Tn,Gn=tn*gr[0]+Vn,gn=tn*gr[1]+Tn,Bt=tn*Hn[0]+Vn,At=tn*Hn[1]+Tn,Pn=tn*Pt[0]+Vn,qn=tn*Pt[1]+Tn;nr===0&&(cr.push(pn,An),fr.push(pn,An)),cr.push(Gn,gn,Bt,At,Pn,qn),fr.push(Gn,gn),nr===ar-1&&fr.push(Pn,qn)}jn.push({bezier:En(Kn=Wn,sn,To).call(Kn,cr,On,this.rotation),points:En(Xn=Wn,sn,To).call(Xn,fr,On,this.rotation)})}return jn},Co=function(){let tn=1/0,hn=-1/0,yn=1/0,On=-1/0;for(const jn of this.paths)for(const[zn,Vn,Tn,Kn]of jn){const Xn=a.Util.bezierBoundingBox(...zn,...Vn,...Tn,...Kn);tn=Math.min(tn,Xn[0]),yn=Math.min(yn,Xn[1]),hn=Math.max(hn,Xn[2]),On=Math.max(On,Xn[3])}return[tn,yn,hn,On]},zs=function(){return vt(this,nt)?Math.ceil(this.thickness*this.parentScale):0},os=function(tn=!1){if(this.isEmpty())return;if(!vt(this,nt)){En(this,ht,Ur).call(this);return}const hn=En(this,ht,Co).call(this),yn=En(this,ht,zs).call(this);wn(this,_e,Math.max(c.AnnotationEditor.MIN_SIZE,hn[2]-hn[0])),wn(this,$,Math.max(c.AnnotationEditor.MIN_SIZE,hn[3]-hn[1]));const On=Math.ceil(yn+vt(this,_e)*this.scaleFactor),jn=Math.ceil(yn+vt(this,$)*this.scaleFactor),[zn,Vn]=this.parentDimensions;this.width=On/zn,this.height=jn/Vn,this.setAspectRatio(On,jn);const Tn=this.translationX,Kn=this.translationY;this.translationX=-hn[0],this.translationY=-hn[1],En(this,ht,ss).call(this),En(this,ht,Ur).call(this),wn(this,mt,On),wn(this,ot,jn),this.setDims(On,jn);const Xn=tn?yn/this.scaleFactor/2:0;this.translate(Tn-this.translationX-Xn,Kn-this.translationY-Xn)},Cn(Wn,sn),Sr(Wn,"_defaultColor",null),Sr(Wn,"_defaultOpacity",1),Sr(Wn,"_defaultThickness",1),Sr(Wn,"_type","ink");let _=Wn;i.InkEditor=_},(s,i,o)=>{var _,$,_e,et,rt,st,lt,dt,nt,tt,it,ws,Ss,Bs,ko,Il,Dl,Ro,Us,Ll;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var a=o(1),c=o(4),h=o(6),g=o(29);const kt=class kt extends c.AnnotationEditor{constructor(an){super({...an,name:"stampEditor"});Cn(this,it);Cn(this,_,null);Cn(this,$,null);Cn(this,_e,null);Cn(this,et,null);Cn(this,rt,null);Cn(this,st,null);Cn(this,lt,null);Cn(this,dt,null);Cn(this,nt,!1);Cn(this,tt,!1);wn(this,et,an.bitmapUrl),wn(this,rt,an.bitmapFile)}static initialize(an){c.AnnotationEditor.initialize(an)}static get supportedTypes(){const an=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",an.map(dn=>`image/${dn}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(an){return this.supportedTypes.includes(an)}static paste(an,dn){dn.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:an.getAsFile()})}remove(){var an,dn;vt(this,$)&&(wn(this,_,null),this._uiManager.imageManager.deleteId(vt(this,$)),(an=vt(this,st))==null||an.remove(),wn(this,st,null),(dn=vt(this,lt))==null||dn.disconnect(),wn(this,lt,null)),super.remove()}rebuild(){if(!this.parent){vt(this,$)&&En(this,it,Bs).call(this);return}super.rebuild(),this.div!==null&&(vt(this,$)&&En(this,it,Bs).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(vt(this,_e)||vt(this,_)||vt(this,et)||vt(this,rt))}get isResizable(){return!0}render(){if(this.div)return this.div;let an,dn;if(this.width&&(an=this.x,dn=this.y),super.render(),this.div.hidden=!0,vt(this,_)?En(this,it,ko).call(this):En(this,it,Bs).call(this),this.width){const[on,Jt]=this.parentDimensions;this.setAt(an*on,dn*Jt,this.width*on,this.height*Jt)}return this.div}static deserialize(an,dn,on){if(an instanceof g.StampAnnotationElement)return null;const Jt=super.deserialize(an,dn,on),{rect:Rt,bitmapUrl:zt,bitmapId:nn,isSvg:Nt,accessibilityData:Et}=an;nn&&on.imageManager.isValidId(nn)?wn(Jt,$,nn):wn(Jt,et,zt),wn(Jt,nt,Nt);const[St,jt]=Jt.pageDimensions;return Jt.width=(Rt[2]-Rt[0])/St,Jt.height=(Rt[3]-Rt[1])/jt,Et&&(Jt.altTextData=Et),Jt}serialize(an=!1,dn=null){if(this.isEmpty())return null;const on={annotationType:a.AnnotationEditorType.STAMP,bitmapId:vt(this,$),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:vt(this,nt),structTreeParentId:this._structTreeParentId};if(an)return on.bitmapUrl=En(this,it,Us).call(this,!0),on.accessibilityData=this.altTextData,on;const{decorative:Jt,altText:Rt}=this.altTextData;if(!Jt&&Rt&&(on.accessibilityData={type:"Figure",alt:Rt}),dn===null)return on;dn.stamps||(dn.stamps=new Map);const zt=vt(this,nt)?(on.rect[2]-on.rect[0])*(on.rect[3]-on.rect[1]):null;if(!dn.stamps.has(vt(this,$)))dn.stamps.set(vt(this,$),{area:zt,serialized:on}),on.bitmap=En(this,it,Us).call(this,!1);else if(vt(this,nt)){const nn=dn.stamps.get(vt(this,$));zt>nn.area&&(nn.area=zt,nn.serialized.bitmap.close(),nn.serialized.bitmap=En(this,it,Us).call(this,!1))}return on}};_=new WeakMap,$=new WeakMap,_e=new WeakMap,et=new WeakMap,rt=new WeakMap,st=new WeakMap,lt=new WeakMap,dt=new WeakMap,nt=new WeakMap,tt=new WeakMap,it=new WeakSet,ws=function(an,dn=!1){if(!an){this.remove();return}wn(this,_,an.bitmap),dn||(wn(this,$,an.id),wn(this,nt,an.isSvg)),En(this,it,ko).call(this)},Ss=function(){wn(this,_e,null),this._uiManager.enableWaiting(!1),vt(this,st)&&this.div.focus()},Bs=function(){if(vt(this,$)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(vt(this,$)).then(dn=>En(this,it,ws).call(this,dn,!0)).finally(()=>En(this,it,Ss).call(this));return}if(vt(this,et)){const dn=vt(this,et);wn(this,et,null),this._uiManager.enableWaiting(!0),wn(this,_e,this._uiManager.imageManager.getFromUrl(dn).then(on=>En(this,it,ws).call(this,on)).finally(()=>En(this,it,Ss).call(this)));return}if(vt(this,rt)){const dn=vt(this,rt);wn(this,rt,null),this._uiManager.enableWaiting(!0),wn(this,_e,this._uiManager.imageManager.getFromFile(dn).then(on=>En(this,it,ws).call(this,on)).finally(()=>En(this,it,Ss).call(this)));return}const an=document.createElement("input");an.type="file",an.accept=kt.supportedTypesStr,wn(this,_e,new Promise(dn=>{an.addEventListener("change",async()=>{if(!an.files||an.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const on=await this._uiManager.imageManager.getFromFile(an.files[0]);En(this,it,ws).call(this,on)}dn()}),an.addEventListener("cancel",()=>{this.remove(),dn()})}).finally(()=>En(this,it,Ss).call(this))),an.click()},ko=function(){const{div:an}=this;let{width:dn,height:on}=vt(this,_);const[Jt,Rt]=this.pageDimensions,zt=.75;if(this.width)dn=this.width*Jt,on=this.height*Rt;else if(dn>zt*Jt||on>zt*Rt){const St=Math.min(zt*Jt/dn,zt*Rt/on);dn*=St,on*=St}const[nn,Nt]=this.parentDimensions;this.setDims(dn*nn/Jt,on*Nt/Rt),this._uiManager.enableWaiting(!1);const Et=wn(this,st,document.createElement("canvas"));an.append(Et),an.hidden=!1,En(this,it,Ro).call(this,dn,on),En(this,it,Ll).call(this),vt(this,tt)||(this.parent.addUndoableEditor(this),wn(this,tt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Il=function(an,dn){var zt;const[on,Jt]=this.parentDimensions;this.width=an/on,this.height=dn/Jt,this.setDims(an,dn),(zt=this._initialOptions)!=null&&zt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,vt(this,dt)!==null&&clearTimeout(vt(this,dt)),wn(this,dt,setTimeout(()=>{wn(this,dt,null),En(this,it,Ro).call(this,an,dn)},200))},Dl=function(an,dn){const{width:on,height:Jt}=vt(this,_);let Rt=on,zt=Jt,nn=vt(this,_);for(;Rt>2*an||zt>2*dn;){const Nt=Rt,Et=zt;Rt>2*an&&(Rt=Rt>=16384?Math.floor(Rt/2)-1:Math.ceil(Rt/2)),zt>2*dn&&(zt=zt>=16384?Math.floor(zt/2)-1:Math.ceil(zt/2));const St=new OffscreenCanvas(Rt,zt);St.getContext("2d").drawImage(nn,0,0,Nt,Et,0,0,Rt,zt),nn=St.transferToImageBitmap()}return nn},Ro=function(an,dn){an=Math.ceil(an),dn=Math.ceil(dn);const on=vt(this,st);if(!on||on.width===an&&on.height===dn)return;on.width=an,on.height=dn;const Jt=vt(this,nt)?vt(this,_):En(this,it,Dl).call(this,an,dn),Rt=on.getContext("2d");Rt.filter=this._uiManager.hcmFilter,Rt.drawImage(Jt,0,0,Jt.width,Jt.height,0,0,an,dn)},Us=function(an){if(an){if(vt(this,nt)){const Jt=this._uiManager.imageManager.getSvgUrl(vt(this,$));if(Jt)return Jt}const dn=document.createElement("canvas");return{width:dn.width,height:dn.height}=vt(this,_),dn.getContext("2d").drawImage(vt(this,_),0,0),dn.toDataURL()}if(vt(this,nt)){const[dn,on]=this.pageDimensions,Jt=Math.round(this.width*dn*h.PixelsPerInch.PDF_TO_CSS_UNITS),Rt=Math.round(this.height*on*h.PixelsPerInch.PDF_TO_CSS_UNITS),zt=new OffscreenCanvas(Jt,Rt);return zt.getContext("2d").drawImage(vt(this,_),0,0,vt(this,_).width,vt(this,_).height,0,0,Jt,Rt),zt.transferToImageBitmap()}return structuredClone(vt(this,_))},Ll=function(){wn(this,lt,new ResizeObserver(an=>{const dn=an[0].contentRect;dn.width&&dn.height&&En(this,it,Il).call(this,dn.width,dn.height)})),vt(this,lt).observe(this.div)},Sr(kt,"_type","stamp");let b=kt;i.StampEditor=b}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var i=__webpack_module_cache__[s];if(i!==void 0)return i.exports;var o=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return h.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return g.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return b.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(s,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(s,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _.GlobalWorkerOptions}}),Object.defineProperty(s,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(s,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return $.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(s,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(s,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(s,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(s,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(s,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return o.version}});var i=__w_pdfjs_require__(1),o=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),h=__w_pdfjs_require__(27),g=__w_pdfjs_require__(5),b=__w_pdfjs_require__(29),_=__w_pdfjs_require__(14),$=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,runtime={exports:{}};(function(s){var i=function(o){var a=Object.prototype,c=a.hasOwnProperty,h=Object.defineProperty||function(Rt,zt,nn){Rt[zt]=nn.value},g,b=typeof Symbol=="function"?Symbol:{},_=b.iterator||"@@iterator",$=b.asyncIterator||"@@asyncIterator",_e=b.toStringTag||"@@toStringTag";function et(Rt,zt,nn){return Object.defineProperty(Rt,zt,{value:nn,enumerable:!0,configurable:!0,writable:!0}),Rt[zt]}try{et({},"")}catch{et=function(zt,nn,Nt){return zt[nn]=Nt}}function rt(Rt,zt,nn,Nt){var Et=zt&&zt.prototype instanceof at?zt:at,St=Object.create(Et.prototype),jt=new dn(Nt||[]);return h(St,"_invoke",{value:kt(Rt,nn,jt)}),St}o.wrap=rt;function st(Rt,zt,nn){try{return{type:"normal",arg:Rt.call(zt,nn)}}catch(Nt){return{type:"throw",arg:Nt}}}var lt="suspendedStart",dt="suspendedYield",nt="executing",tt="completed",it={};function at(){}function mt(){}function ot(){}var pt={};et(pt,_,function(){return this});var ht=Object.getPrototypeOf,gt=ht&&ht(ht(on([])));gt&&gt!==a&&c.call(gt,_)&&(pt=gt);var xt=ot.prototype=at.prototype=Object.create(pt);mt.prototype=ot,h(xt,"constructor",{value:ot,configurable:!0}),h(ot,"constructor",{value:mt,configurable:!0}),mt.displayName=et(ot,_e,"GeneratorFunction");function Tt(Rt){["next","throw","return"].forEach(function(zt){et(Rt,zt,function(nn){return this._invoke(zt,nn)})})}o.isGeneratorFunction=function(Rt){var zt=typeof Rt=="function"&&Rt.constructor;return zt?zt===mt||(zt.displayName||zt.name)==="GeneratorFunction":!1},o.mark=function(Rt){return Object.setPrototypeOf?Object.setPrototypeOf(Rt,ot):(Rt.__proto__=ot,et(Rt,_e,"GeneratorFunction")),Rt.prototype=Object.create(xt),Rt},o.awrap=function(Rt){return{__await:Rt}};function wt(Rt,zt){function nn(St,jt,en,sn){var rn=st(Rt[St],Rt,jt);if(rn.type==="throw")sn(rn.arg);else{var vn=rn.arg,_n=vn.value;return _n&&typeof _n=="object"&&c.call(_n,"__await")?zt.resolve(_n.__await).then(function(In){nn("next",In,en,sn)},function(In){nn("throw",In,en,sn)}):zt.resolve(_n).then(function(In){vn.value=In,en(vn)},function(In){return nn("throw",In,en,sn)})}}var Nt;function Et(St,jt){function en(){return new zt(function(sn,rn){nn(St,jt,sn,rn)})}return Nt=Nt?Nt.then(en,en):en()}h(this,"_invoke",{value:Et})}Tt(wt.prototype),et(wt.prototype,$,function(){return this}),o.AsyncIterator=wt,o.async=function(Rt,zt,nn,Nt,Et){Et===void 0&&(Et=Promise);var St=new wt(rt(Rt,zt,nn,Nt),Et);return o.isGeneratorFunction(zt)?St:St.next().then(function(jt){return jt.done?jt.value:St.next()})};function kt(Rt,zt,nn){var Nt=lt;return function(St,jt){if(Nt===nt)throw new Error("Generator is already running");if(Nt===tt){if(St==="throw")throw jt;return Jt()}for(nn.method=St,nn.arg=jt;;){var en=nn.delegate;if(en){var sn=Yt(en,nn);if(sn){if(sn===it)continue;return sn}}if(nn.method==="next")nn.sent=nn._sent=nn.arg;else if(nn.method==="throw"){if(Nt===lt)throw Nt=tt,nn.arg;nn.dispatchException(nn.arg)}else nn.method==="return"&&nn.abrupt("return",nn.arg);Nt=nt;var rn=st(Rt,zt,nn);if(rn.type==="normal"){if(Nt=nn.done?tt:dt,rn.arg===it)continue;return{value:rn.arg,done:nn.done}}else rn.type==="throw"&&(Nt=tt,nn.method="throw",nn.arg=rn.arg)}}}function Yt(Rt,zt){var nn=zt.method,Nt=Rt.iterator[nn];if(Nt===g)return zt.delegate=null,nn==="throw"&&Rt.iterator.return&&(zt.method="return",zt.arg=g,Yt(Rt,zt),zt.method==="throw")||nn!=="return"&&(zt.method="throw",zt.arg=new TypeError("The iterator does not provide a '"+nn+"' method")),it;var Et=st(Nt,Rt.iterator,zt.arg);if(Et.type==="throw")return zt.method="throw",zt.arg=Et.arg,zt.delegate=null,it;var St=Et.arg;if(!St)return zt.method="throw",zt.arg=new TypeError("iterator result is not an object"),zt.delegate=null,it;if(St.done)zt[Rt.resultName]=St.value,zt.next=Rt.nextLoc,zt.method!=="return"&&(zt.method="next",zt.arg=g);else return St;return zt.delegate=null,it}Tt(xt),et(xt,_e,"Generator"),et(xt,_,function(){return this}),et(xt,"toString",function(){return"[object Generator]"});function fn(Rt){var zt={tryLoc:Rt[0]};1 in Rt&&(zt.catchLoc=Rt[1]),2 in Rt&&(zt.finallyLoc=Rt[2],zt.afterLoc=Rt[3]),this.tryEntries.push(zt)}function an(Rt){var zt=Rt.completion||{};zt.type="normal",delete zt.arg,Rt.completion=zt}function dn(Rt){this.tryEntries=[{tryLoc:"root"}],Rt.forEach(fn,this),this.reset(!0)}o.keys=function(Rt){var zt=Object(Rt),nn=[];for(var Nt in zt)nn.push(Nt);return nn.reverse(),function Et(){for(;nn.length;){var St=nn.pop();if(St in zt)return Et.value=St,Et.done=!1,Et}return Et.done=!0,Et}};function on(Rt){if(Rt){var zt=Rt[_];if(zt)return zt.call(Rt);if(typeof Rt.next=="function")return Rt;if(!isNaN(Rt.length)){var nn=-1,Nt=function Et(){for(;++nn<Rt.length;)if(c.call(Rt,nn))return Et.value=Rt[nn],Et.done=!1,Et;return Et.value=g,Et.done=!0,Et};return Nt.next=Nt}}return{next:Jt}}o.values=on;function Jt(){return{value:g,done:!0}}return dn.prototype={constructor:dn,reset:function(Rt){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(an),!Rt)for(var zt in this)zt.charAt(0)==="t"&&c.call(this,zt)&&!isNaN(+zt.slice(1))&&(this[zt]=g)},stop:function(){this.done=!0;var Rt=this.tryEntries[0],zt=Rt.completion;if(zt.type==="throw")throw zt.arg;return this.rval},dispatchException:function(Rt){if(this.done)throw Rt;var zt=this;function nn(sn,rn){return St.type="throw",St.arg=Rt,zt.next=sn,rn&&(zt.method="next",zt.arg=g),!!rn}for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var Et=this.tryEntries[Nt],St=Et.completion;if(Et.tryLoc==="root")return nn("end");if(Et.tryLoc<=this.prev){var jt=c.call(Et,"catchLoc"),en=c.call(Et,"finallyLoc");if(jt&&en){if(this.prev<Et.catchLoc)return nn(Et.catchLoc,!0);if(this.prev<Et.finallyLoc)return nn(Et.finallyLoc)}else if(jt){if(this.prev<Et.catchLoc)return nn(Et.catchLoc,!0)}else if(en){if(this.prev<Et.finallyLoc)return nn(Et.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Rt,zt){for(var nn=this.tryEntries.length-1;nn>=0;--nn){var Nt=this.tryEntries[nn];if(Nt.tryLoc<=this.prev&&c.call(Nt,"finallyLoc")&&this.prev<Nt.finallyLoc){var Et=Nt;break}}Et&&(Rt==="break"||Rt==="continue")&&Et.tryLoc<=zt&&zt<=Et.finallyLoc&&(Et=null);var St=Et?Et.completion:{};return St.type=Rt,St.arg=zt,Et?(this.method="next",this.next=Et.finallyLoc,it):this.complete(St)},complete:function(Rt,zt){if(Rt.type==="throw")throw Rt.arg;return Rt.type==="break"||Rt.type==="continue"?this.next=Rt.arg:Rt.type==="return"?(this.rval=this.arg=Rt.arg,this.method="return",this.next="end"):Rt.type==="normal"&&zt&&(this.next=zt),it},finish:function(Rt){for(var zt=this.tryEntries.length-1;zt>=0;--zt){var nn=this.tryEntries[zt];if(nn.finallyLoc===Rt)return this.complete(nn.completion,nn.afterLoc),an(nn),it}},catch:function(Rt){for(var zt=this.tryEntries.length-1;zt>=0;--zt){var nn=this.tryEntries[zt];if(nn.tryLoc===Rt){var Nt=nn.completion;if(Nt.type==="throw"){var Et=Nt.arg;an(nn)}return Et}}throw new Error("illegal catch attempt")},delegateYield:function(Rt,zt,nn){return this.delegate={iterator:on(Rt),resultName:zt,nextLoc:nn},this.method==="next"&&(this.arg=g),it}},o}(s.exports);try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}})(runtime);var getId$3=(s,i)=>`${s}-${i}-${Math.random().toString(16).slice(3,8)}`;const getId$2=getId$3;let jobCounter=0;var createJob$2=({id:s,action:i,payload:o={}})=>{let a=s;return typeof a>"u"&&(a=getId$2("Job",jobCounter),jobCounter+=1),{id:a,action:i,payload:o}},log$2={};let logging=!1;log$2.logging=logging;log$2.setLogging=s=>{logging=s};log$2.log=(...s)=>logging?console.log.apply(void 0,s):null;const createJob$1=createJob$2,{log:log$1}=log$2,getId$1=getId$3;let schedulerCounter=0;var createScheduler$1=()=>{const s=getId$1("Scheduler",schedulerCounter),i={},o={};let a=[];schedulerCounter+=1;const c=()=>a.length,h=()=>Object.keys(i).length,g=()=>{if(a.length!==0){const et=Object.keys(i);for(let rt=0;rt<et.length;rt+=1)if(typeof o[et[rt]]>"u"){a[0](i[et[rt]]);break}}},b=(et,rt)=>new Promise((st,lt)=>{const dt=createJob$1({action:et,payload:rt});a.push(async nt=>{a.shift(),o[nt.id]=dt;try{st(await nt[et].apply(void 0,[...rt,dt.id]))}catch(tt){lt(tt)}finally{delete o[nt.id],g()}}),log$1(`[${s}]: Add ${dt.id} to JobQueue`),log$1(`[${s}]: JobQueue length=${a.length}`),g()});return{addWorker:et=>(i[et.id]=et,log$1(`[${s}]: Add ${et.id}`),log$1(`[${s}]: Number of workers=${h()}`),g(),et.id),addJob:async(et,...rt)=>{if(h()===0)throw Error(`[${s}]: You need to have at least one worker before adding jobs`);return b(et,rt)},terminate:async()=>{Object.keys(i).forEach(async et=>{await i[et].terminate()}),a=[]},getQueueLen:c,getNumWorkers:h}};function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1;const isElectron=isElectron_1;var getEnvironment=s=>{const i={};return typeof WorkerGlobalScope<"u"?i.type="webworker":isElectron()?i.type="electron":typeof document=="object"?i.type="browser":typeof process=="object"&&typeof commonjsRequire=="function"&&(i.type="node"),typeof s>"u"?i:i[s]};const isBrowser=getEnvironment("type")==="browser",resolveURL=isBrowser?s=>new URL(s,window.location.href).href:s=>s;var resolvePaths$1=s=>{const i={...s};return["corePath","workerPath","langPath"].forEach(o=>{s[o]&&(i[o]=resolveURL(i[o]))}),i},circularize$1=s=>{const i=[],o=[],a=[],c=[],h=[];return s.blocks&&s.blocks.forEach(g=>{g.paragraphs.forEach(b=>{b.lines.forEach(_=>{_.words.forEach($=>{$.symbols.forEach(_e=>{h.push({..._e,page:s,block:g,paragraph:b,line:_,word:$})}),c.push({...$,page:s,block:g,paragraph:b,line:_})}),a.push({..._,page:s,block:g,paragraph:b})}),o.push({...b,page:s,block:g})}),i.push({...g,page:s})}),{...s,blocks:i,paragraphs:o,lines:a,words:c,symbols:h}},OEM$2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const name="tesseract.js",version$1="5.0.3",description="Pure Javascript Multilingual OCR",main="src/index.js",types="src/index.d.ts",unpkg="dist/tesseract.min.js",jsdelivr="dist/tesseract.min.js",scripts={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser$1={"./src/worker/node/index.js":"./src/worker/browser/index.js"},author="",contributors=["jeromewu"],license="Apache-2.0",devDependencies={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides={"@rollup/pluginutils":"^5.0.2"},repository={type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs={url:"https://github.com/naptha/tesseract.js/issues"},homepage="https://github.com/naptha/tesseract.js",collective={type:"opencollective",url:"https://opencollective.com/tesseractjs"},require$$0={name,version:version$1,description,main,types,unpkg,jsdelivr,scripts,browser:browser$1,author,contributors,license,devDependencies,dependencies,overrides,repository,bugs,homepage,collective};var defaultOptions$3={workerBlobURL:!0,logger:()=>{}};const version=require$$0.version,defaultOptions$2=defaultOptions$3;var defaultOptions_1={...defaultOptions$2,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`},spawnWorker$2=({workerPath:s,workerBlobURL:i})=>{let o;if(Blob&&URL&&i){const a=new Blob([`importScripts("${s}");`],{type:"application/javascript"});o=new Worker(URL.createObjectURL(a))}else o=new Worker(s);return o},terminateWorker$2=s=>{s.terminate()},onMessage$2=(s,i)=>{s.onmessage=({data:o})=>{i(o)}},send$2=async(s,i)=>{s.postMessage(i)};const readFromBlobOrFile=s=>new Promise((i,o)=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.onerror=({target:{error:{code:c}}})=>{o(Error(`File could not be read! Code=${c}`))},a.readAsArrayBuffer(s)}),loadImage$2=async s=>{let i=s;if(typeof s>"u")return"undefined";if(typeof s=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(s)?i=atob(s.split(",")[1]).split("").map(o=>o.charCodeAt(0)):i=await(await fetch(s)).arrayBuffer();else if(typeof HTMLElement<"u"&&s instanceof HTMLElement)s.tagName==="IMG"&&(i=await loadImage$2(s.src)),s.tagName==="VIDEO"&&(i=await loadImage$2(s.poster)),s.tagName==="CANVAS"&&await new Promise(o=>{s.toBlob(async a=>{i=await readFromBlobOrFile(a),o()})});else if(typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas){const o=await s.convertToBlob();i=await readFromBlobOrFile(o)}else(s instanceof File||s instanceof Blob)&&(i=await readFromBlobOrFile(s));return new Uint8Array(i)};var loadImage_1=loadImage$2;const defaultOptions$1=defaultOptions_1,spawnWorker$1=spawnWorker$2,terminateWorker$1=terminateWorker$2,onMessage$1=onMessage$2,send$1=send$2,loadImage$1=loadImage_1;var browser={defaultOptions:defaultOptions$1,spawnWorker:spawnWorker$1,terminateWorker:terminateWorker$1,onMessage:onMessage$1,send:send$1,loadImage:loadImage$1};const resolvePaths=resolvePaths$1,circularize=circularize$1,createJob=createJob$2,{log}=log$2,getId=getId$3,OEM$1=OEM$2,{defaultOptions,spawnWorker,terminateWorker,onMessage,loadImage,send}=browser;let workerCounter=0;var createWorker$2=async(s="eng",i=OEM$1.LSTM_ONLY,o={},a={})=>{const c=getId("Worker",workerCounter),{logger:h,errorHandler:g,...b}=resolvePaths({...defaultOptions,...o}),_={},$={},_e=typeof s=="string"?s.split("+"):s;let et=i,rt=a;const st=[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(i)&&!b.legacyCore;let lt,dt;const nt=new Promise((Et,St)=>{dt=Et,lt=St}),tt=Et=>{lt(Et.message)};let it=spawnWorker(b);it.onerror=tt,workerCounter+=1;const at=(Et,St)=>{_[Et]=St},mt=(Et,St)=>{$[Et]=St},ot=({id:Et,action:St,payload:jt})=>new Promise((en,sn)=>{log(`[${c}]: Start ${Et}, action=${St}`),at(St,en),mt(St,sn),send(it,{workerId:c,jobId:Et,action:St,payload:jt})}),pt=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ht=Et=>ot(createJob({id:Et,action:"load",payload:{options:{lstmOnly:st,corePath:b.corePath,logging:b.logging}}})),gt=(Et,St,jt)=>ot(createJob({id:jt,action:"FS",payload:{method:"writeFile",args:[Et,St]}})),xt=(Et,St)=>ot(createJob({id:St,action:"FS",payload:{method:"readFile",args:[Et,{encoding:"utf8"}]}})),Tt=(Et,St)=>ot(createJob({id:St,action:"FS",payload:{method:"unlink",args:[Et]}})),wt=(Et,St,jt)=>ot(createJob({id:jt,action:"FS",payload:{method:Et,args:St}})),kt=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),Yt=(Et,St)=>ot(createJob({id:St,action:"loadLanguage",payload:{langs:Et,options:{langPath:b.langPath,dataPath:b.dataPath,cachePath:b.cachePath,cacheMethod:b.cacheMethod,gzip:b.gzip,lstmOnly:[OEM$1.LSTM_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(et)&&!b.legacyLang}}})),fn=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),an=(Et,St,jt,en)=>ot(createJob({id:en,action:"initialize",payload:{langs:Et,oem:St,config:jt}})),dn=(Et="eng",St,jt,en)=>{if(st&&[OEM$1.TESSERACT_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(St))throw Error("Legacy model requested but code missing.");const sn=St||et;et=sn;const rn=jt||rt;rt=rn;const _n=(typeof Et=="string"?Et.split("+"):Et).filter(In=>!_e.includes(In));return _e.push(..._n),_n.length>0?Yt(_n,en).then(()=>an(Et,sn,rn,en)):an(Et,sn,rn,en)},on=(Et={},St)=>ot(createJob({id:St,action:"setParameters",payload:{params:Et}})),Jt=async(Et,St={},jt={blocks:!0,text:!0,hocr:!0,tsv:!0},en)=>ot(createJob({id:en,action:"recognize",payload:{image:await loadImage(Et),options:St,output:jt}})),Rt=(Et="Tesseract OCR Result",St=!1,jt)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),ot(createJob({id:jt,action:"getPDF",payload:{title:Et,textonly:St}}))),zt=async(Et,St)=>{if(st)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return ot(createJob({id:St,action:"detect",payload:{image:await loadImage(Et)}}))},nn=async()=>(it!==null&&(terminateWorker(it),it=null),Promise.resolve());onMessage(it,({workerId:Et,jobId:St,status:jt,action:en,data:sn})=>{if(jt==="resolve"){log(`[${Et}]: Complete ${St}`);let rn=sn;en==="recognize"?rn=circularize(sn):en==="getPDF"&&(rn=Array.from({...sn,length:Object.keys(sn).length})),_[en]({jobId:St,data:rn})}else if(jt==="reject")if($[en](sn),en==="load"&&lt(sn),g)g(sn);else throw Error(sn);else jt==="progress"&&h({...sn,userJobId:St})});const Nt={id:c,worker:it,setResolve:at,setReject:mt,load:pt,writeText:gt,readText:xt,removeFile:Tt,FS:wt,loadLanguage:kt,initialize:fn,reinitialize:dn,setParameters:on,recognize:Jt,getPDF:Rt,detect:zt,terminate:nn};return ht().then(()=>Yt(s)).then(()=>an(s,i,a)).then(()=>dt(Nt)).catch(()=>{}),nt};const createWorker$1=createWorker$2,recognize=async(s,i,o)=>{const a=await createWorker$1(i,1,o);return a.recognize(s).finally(async()=>{await a.terminate()})},detect=async(s,i)=>{const o=await createWorker$1("osd",0,i);return o.detect(s).finally(async()=>{await o.terminate()})};var Tesseract$1={recognize,detect},languages$1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},PSM$1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const createScheduler=createScheduler$1,createWorker=createWorker$2,Tesseract=Tesseract$1,languages=languages$1,OEM=OEM$2,PSM=PSM$1,{setLogging}=log$2;var src={languages,OEM,PSM,createScheduler,createWorker,setLogging,...Tesseract},eventEmitter={exports:{}},d$1={exports:{}},_undefined$1=void 0,is$4=function(s){return s!==_undefined$1&&s!==null},isValue$3=is$4,possibleTypes={object:!0,function:!0,undefined:!0},is$3=function(s){return isValue$3(s)?hasOwnProperty.call(possibleTypes,typeof s):!1},isObject$4=is$3,is$2=function(s){if(!isObject$4(s))return!1;try{return s.constructor?s.constructor.prototype===s:!1}catch{return!1}},isPrototype=is$2,is$1=function(s){if(typeof s!="function"||!hasOwnProperty.call(s,"length"))return!1;try{if(typeof s.length!="number"||typeof s.call!="function"||typeof s.apply!="function")return!1}catch{return!1}return!isPrototype(s)},isFunction=is$1,classRe=/^\s*class[\s{/}]/,functionToString=Function.prototype.toString,is=function(s){return!(!isFunction(s)||classRe.test(functionToString.call(s)))},isImplemented$2=function(){var s=Object.assign,i;return typeof s!="function"?!1:(i={foo:"raz"},s(i,{bar:"dwa"},{trzy:"trzy"}),i.foo+i.bar+i.trzy==="razdwatrzy")},isImplemented$1,hasRequiredIsImplemented;function requireIsImplemented(){return hasRequiredIsImplemented||(hasRequiredIsImplemented=1,isImplemented$1=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),isImplemented$1}var noop=function(){},_undefined=noop(),isValue$2=function(s){return s!==_undefined&&s!==null},shim$2,hasRequiredShim$2;function requireShim$2(){if(hasRequiredShim$2)return shim$2;hasRequiredShim$2=1;var s=isValue$2,i=Object.keys;return shim$2=function(o){return i(s(o)?Object(o):o)},shim$2}var keys,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys=requireIsImplemented()()?Object.keys:requireShim$2()),keys}var validValue,hasRequiredValidValue;function requireValidValue(){if(hasRequiredValidValue)return validValue;hasRequiredValidValue=1;var s=isValue$2;return validValue=function(i){if(!s(i))throw new TypeError("Cannot use null or undefined");return i},validValue}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var s=requireKeys(),i=requireValidValue(),o=Math.max;return shim$1=function(a,c){var h,g,b=o(arguments.length,2),_;for(a=Object(i(a)),_=function($){try{a[$]=c[$]}catch(_e){h||(h=_e)}},g=1;g<b;++g)c=arguments[g],s(c).forEach(_);if(h!==void 0)throw h;return a},shim$1}var assign$1=isImplemented$2()?Object.assign:requireShim$1(),isValue$1=isValue$2,forEach=Array.prototype.forEach,create=Object.create,process$2=function(s,i){var o;for(o in s)i[o]=s[o]},normalizeOptions=function(s){var i=create(null);return forEach.call(arguments,function(o){isValue$1(o)&&process$2(Object(o),i)}),i},str="razdwatrzy",isImplemented=function(){return typeof str.contains!="function"?!1:str.contains("dwa")===!0&&str.contains("foo")===!1},shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var s=String.prototype.indexOf;return shim=function(i){return s.call(this,i,arguments[1])>-1},shim}var contains$3=isImplemented()?String.prototype.contains:requireShim(),isValue=is$4,isPlainFunction=is,assign=assign$1,normalizeOpts=normalizeOptions,contains$2=contains$3,d=d$1.exports=function(s,i){var o,a,c,h,g;return arguments.length<2||typeof s!="string"?(h=i,i=s,s=null):h=arguments[2],isValue(s)?(o=contains$2.call(s,"c"),a=contains$2.call(s,"e"),c=contains$2.call(s,"w")):(o=c=!0,a=!1),g={value:i,configurable:o,enumerable:a,writable:c},h?assign(normalizeOpts(h),g):g};d.gs=function(s,i,o){var a,c,h,g;return typeof s!="string"?(h=o,o=i,i=s,s=null):h=arguments[3],isValue(i)?isPlainFunction(i)?isValue(o)?isPlainFunction(o)||(h=o,o=void 0):o=void 0:(h=i,i=o=void 0):i=void 0,isValue(s)?(a=contains$2.call(s,"c"),c=contains$2.call(s,"e")):(a=!0,c=!1),g={get:i,set:o,configurable:a,enumerable:c},h?assign(normalizeOpts(h),g):g};var dExports=d$1.exports,validCallable=function(s){if(typeof s!="function")throw new TypeError(s+" is not a function");return s};(function(s,i){var o=dExports,a=validCallable,c=Function.prototype.apply,h=Function.prototype.call,g=Object.create,b=Object.defineProperty,_=Object.defineProperties,$=Object.prototype.hasOwnProperty,_e={configurable:!0,enumerable:!1,writable:!0},et,rt,st,lt,dt,nt,tt;et=function(it,at){var mt;return a(at),$.call(this,"__ee__")?mt=this.__ee__:(mt=_e.value=g(null),b(this,"__ee__",_e),_e.value=null),mt[it]?typeof mt[it]=="object"?mt[it].push(at):mt[it]=[mt[it],at]:mt[it]=at,this},rt=function(it,at){var mt,ot;return a(at),ot=this,et.call(this,it,mt=function(){st.call(ot,it,mt),c.call(at,this,arguments)}),mt.__eeOnceListener__=at,this},st=function(it,at){var mt,ot,pt,ht;if(a(at),!$.call(this,"__ee__"))return this;if(mt=this.__ee__,!mt[it])return this;if(ot=mt[it],typeof ot=="object")for(ht=0;pt=ot[ht];++ht)(pt===at||pt.__eeOnceListener__===at)&&(ot.length===2?mt[it]=ot[ht?0:1]:ot.splice(ht,1));else(ot===at||ot.__eeOnceListener__===at)&&delete mt[it];return this},lt=function(it){var at,mt,ot,pt,ht;if($.call(this,"__ee__")&&(pt=this.__ee__[it],!!pt))if(typeof pt=="object"){for(mt=arguments.length,ht=new Array(mt-1),at=1;at<mt;++at)ht[at-1]=arguments[at];for(pt=pt.slice(),at=0;ot=pt[at];++at)c.call(ot,this,ht)}else switch(arguments.length){case 1:h.call(pt,this);break;case 2:h.call(pt,this,arguments[1]);break;case 3:h.call(pt,this,arguments[1],arguments[2]);break;default:for(mt=arguments.length,ht=new Array(mt-1),at=1;at<mt;++at)ht[at-1]=arguments[at];c.call(pt,this,ht)}},dt={on:et,once:rt,off:st,emit:lt},nt={on:o(et),once:o(rt),off:o(st),emit:o(lt)},tt=_({},nt),s.exports=i=function(it){return it==null?g(tt):_(Object(it),nt)},i.methods=dt})(eventEmitter,eventEmitter.exports);var eventEmitterExports=eventEmitter.exports;const EventEmitter=getDefaultExportFromCjs(eventEmitterExports);var domParser={},entities={};entities.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",auml:"",Aring:"",aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:" ",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""};var sax={},nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_SPACE=2,S_EQ=3,S_ATTR_NOQUOT_VALUE=4,S_ATTR_END=5,S_TAG_SPACE=6,S_TAG_CLOSE=7;function XMLReader$1(){}XMLReader$1.prototype={parse:function(s,i,o){var a=this.domBuilder;a.startDocument(),_copy(i,i={}),parse$1(s,i,o,a,this.errorHandler),a.endDocument()}};function parse$1(s,i,o,a,c){function h(dn){if(dn>65535){dn-=65536;var on=55296+(dn>>10),Jt=56320+(dn&1023);return String.fromCharCode(on,Jt)}else return String.fromCharCode(dn)}function g(dn){var on=dn.slice(1,-1);return on in o?o[on]:on.charAt(0)==="#"?h(parseInt(on.substr(1).replace("x","0x"))):(c.error("entity not found:"+dn),dn)}function b(dn){if(dn>dt){var on=s.substring(dt,dn).replace(/&#?\w+;/g,g);rt&&_(dt),a.characters(on,0,dn-dt),dt=dn}}function _(dn,on){for(;dn>=_e&&(on=et.exec(s));)$=on.index,_e=$+on[0].length,rt.lineNumber++;rt.columnNumber=dn-$+1}for(var $=0,_e=0,et=/.*(?:\r\n?|\n)|.*$/g,rt=a.locator,st=[{currentNSMap:i}],lt={},dt=0;;){try{var nt=s.indexOf("<",dt);if(nt<0){if(!s.substr(dt).match(/^\s*$/)){var tt=a.doc,it=tt.createTextNode(s.substr(dt));tt.appendChild(it),a.currentElement=it}return}switch(nt>dt&&b(nt),s.charAt(nt+1)){case"/":var wt=s.indexOf(">",nt+3),at=s.substring(nt+2,wt),mt=st.pop();wt<0?(at=s.substring(nt+2).replace(/[\s<].*/,""),c.error("end tag name: "+at+" is not complete:"+mt.tagName),wt=nt+1+at.length):at.match(/\s</)&&(at=at.replace(/[\s<].*/,""),c.error("end tag name: "+at+" maybe not complete"),wt=nt+1+at.length);var ot=mt.localNSMap,pt=mt.tagName==at,ht=pt||mt.tagName&&mt.tagName.toLowerCase()==at.toLowerCase();if(ht){if(a.endElement(mt.uri,mt.localName,at),ot)for(var gt in ot)a.endPrefixMapping(gt);pt||c.fatalError("end tag name: "+at+" is not match the current start tagName:"+mt.tagName)}else st.push(mt);wt++;break;case"?":rt&&_(nt),wt=parseInstruction(s,nt,a);break;case"!":rt&&_(nt),wt=parseDCC(s,nt,a,c);break;default:rt&&_(nt);var xt=new ElementAttributes,Tt=st[st.length-1].currentNSMap,wt=parseElementStartPart(s,nt,xt,Tt,g,c),kt=xt.length;if(!xt.closed&&fixSelfClosed(s,wt,xt.tagName,lt)&&(xt.closed=!0,o.nbsp||c.warning("unclosed xml attribute")),rt&&kt){for(var Yt=copyLocator(rt,{}),fn=0;fn<kt;fn++){var an=xt[fn];_(an.offset),an.locator=copyLocator(rt,{})}a.locator=Yt,appendElement$1(xt,a,Tt)&&st.push(xt),a.locator=rt}else appendElement$1(xt,a,Tt)&&st.push(xt);xt.uri==="http://www.w3.org/1999/xhtml"&&!xt.closed?wt=parseHtmlSpecialContent(s,wt,xt.tagName,g,a):wt++}}catch(dn){c.error("element parse error: "+dn),wt=-1}wt>dt?dt=wt:b(Math.max(nt,dt)+1)}}function copyLocator(s,i){return i.lineNumber=s.lineNumber,i.columnNumber=s.columnNumber,i}function parseElementStartPart(s,i,o,a,c,h){for(var g,b,_=++i,$=S_TAG;;){var _e=s.charAt(_);switch(_e){case"=":if($===S_ATTR)g=s.slice(i,_),$=S_EQ;else if($===S_ATTR_SPACE)$=S_EQ;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if($===S_EQ||$===S_ATTR)if($===S_ATTR&&(h.warning('attribute value must after "="'),g=s.slice(i,_)),i=_+1,_=s.indexOf(_e,i),_>0)b=s.slice(i,_).replace(/&#?\w+;/g,c),o.add(g,b,i-1),$=S_ATTR_END;else throw new Error("attribute value no end '"+_e+"' match");else if($==S_ATTR_NOQUOT_VALUE)b=s.slice(i,_).replace(/&#?\w+;/g,c),o.add(g,b,i),h.warning('attribute "'+g+'" missed start quot('+_e+")!!"),i=_+1,$=S_ATTR_END;else throw new Error('attribute value must after "="');break;case"/":switch($){case S_TAG:o.setTagName(s.slice(i,_));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:$=S_TAG_CLOSE,o.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:case S_ATTR_SPACE:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return h.error("unexpected end of input"),$==S_TAG&&o.setTagName(s.slice(i,_)),_;case">":switch($){case S_TAG:o.setTagName(s.slice(i,_));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:b=s.slice(i,_),b.slice(-1)==="/"&&(o.closed=!0,b=b.slice(0,-1));case S_ATTR_SPACE:$===S_ATTR_SPACE&&(b=g),$==S_ATTR_NOQUOT_VALUE?(h.warning('attribute "'+b+'" missed quot(")!!'),o.add(g,b.replace(/&#?\w+;/g,c),i)):((a[""]!=="http://www.w3.org/1999/xhtml"||!b.match(/^(?:disabled|checked|selected)$/i))&&h.warning('attribute "'+b+'" missed value!! "'+b+'" instead!!'),o.add(b,b,i));break;case S_EQ:throw new Error("attribute value missed!!")}return _;case"":_e=" ";default:if(_e<=" ")switch($){case S_TAG:o.setTagName(s.slice(i,_)),$=S_TAG_SPACE;break;case S_ATTR:g=s.slice(i,_),$=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var b=s.slice(i,_).replace(/&#?\w+;/g,c);h.warning('attribute "'+b+'" missed quot(")!!'),o.add(g,b,i);case S_ATTR_END:$=S_TAG_SPACE;break}else switch($){case S_ATTR_SPACE:o.tagName,(a[""]!=="http://www.w3.org/1999/xhtml"||!g.match(/^(?:disabled|checked|selected)$/i))&&h.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),o.add(g,g,i),i=_,$=S_ATTR;break;case S_ATTR_END:h.warning('attribute space is required"'+g+'"!!');case S_TAG_SPACE:$=S_ATTR,i=_;break;case S_EQ:$=S_ATTR_NOQUOT_VALUE,i=_;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '>' must be connected to")}}_++}}function appendElement$1(s,i,o){for(var a=s.tagName,c=null,et=s.length;et--;){var h=s[et],g=h.qName,b=h.value,rt=g.indexOf(":");if(rt>0)var _=h.prefix=g.slice(0,rt),$=g.slice(rt+1),_e=_==="xmlns"&&$;else $=g,_=null,_e=g==="xmlns"&&"";h.localName=$,_e!==!1&&(c==null&&(c={},_copy(o,o={})),o[_e]=c[_e]=b,h.uri="http://www.w3.org/2000/xmlns/",i.startPrefixMapping(_e,b))}for(var et=s.length;et--;){h=s[et];var _=h.prefix;_&&(_==="xml"&&(h.uri="http://www.w3.org/XML/1998/namespace"),_!=="xmlns"&&(h.uri=o[_||""]))}var rt=a.indexOf(":");rt>0?(_=s.prefix=a.slice(0,rt),$=s.localName=a.slice(rt+1)):(_=null,$=s.localName=a);var st=s.uri=o[_||""];if(i.startElement(st,$,a,s),s.closed){if(i.endElement(st,$,a),c)for(_ in c)i.endPrefixMapping(_)}else return s.currentNSMap=o,s.localNSMap=c,!0}function parseHtmlSpecialContent(s,i,o,a,c){if(/^(?:script|textarea)$/i.test(o)){var h=s.indexOf("</"+o+">",i),g=s.substring(i+1,h);if(/[&<]/.test(g))return/^script$/i.test(o)?(c.characters(g,0,g.length),h):(g=g.replace(/&#?\w+;/g,a),c.characters(g,0,g.length),h)}return i+1}function fixSelfClosed(s,i,o,a){var c=a[o];return c==null&&(c=s.lastIndexOf("</"+o+">"),c<i&&(c=s.lastIndexOf("</"+o)),a[o]=c),c<i}function _copy(s,i){for(var o in s)i[o]=s[o]}function parseDCC(s,i,o,a){var c=s.charAt(i+2);switch(c){case"-":if(s.charAt(i+3)==="-"){var h=s.indexOf("-->",i+4);return h>i?(o.comment(s,i+4,h-i-4),h+3):(a.error("Unclosed comment"),-1)}else return-1;default:if(s.substr(i+3,6)=="CDATA["){var h=s.indexOf("]]>",i+9);return o.startCDATA(),o.characters(s,i+9,h-i-9),o.endCDATA(),h+3}var g=split(s,i),b=g.length;if(b>1&&/!doctype/i.test(g[0][0])){var _=g[1][0],$=b>3&&/^public$/i.test(g[2][0])&&g[3][0],_e=b>4&&g[4][0],et=g[b-1];return o.startDTD(_,$&&$.replace(/^(['"])(.*?)\1$/,"$2"),_e&&_e.replace(/^(['"])(.*?)\1$/,"$2")),o.endDTD(),et.index+et[0].length}}return-1}function parseInstruction(s,i,o){var a=s.indexOf("?>",i);if(a){var c=s.substring(i,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return c?(c[0].length,o.processingInstruction(c[1],c[2]),a+2):-1}return-1}function ElementAttributes(s){}ElementAttributes.prototype={setTagName:function(s){if(!tagNamePattern.test(s))throw new Error("invalid tagName:"+s);this.tagName=s},add:function(s,i,o){if(!tagNamePattern.test(s))throw new Error("invalid attribute:"+s);this[this.length++]={qName:s,value:i,offset:o}},length:0,getLocalName:function(s){return this[s].localName},getLocator:function(s){return this[s].locator},getQName:function(s){return this[s].qName},getURI:function(s){return this[s].uri},getValue:function(s){return this[s].value}};function split(s,i){var o,a=[],c=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(c.lastIndex=i,c.exec(s);o=c.exec(s);)if(a.push(o),o[1])return a}sax.XMLReader=XMLReader$1;var dom={};function copy(s,i){for(var o in s)i[o]=s[o]}function _extends(s,i){var o=s.prototype;if(!(o instanceof i)){let c=function(){};var a=c;c.prototype=i.prototype,c=new c,copy(o,c),s.prototype=o=c}o.constructor!=s&&(typeof s!="function"&&console.error("unknow Class:"+s),o.constructor=s)}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE$3=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE$1=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE$1=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={};ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1);ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2);var HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3);ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4);ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5);ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6);ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7);var NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8);ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9);var INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10);ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11);ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12);ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13);ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14);ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);function DOMException$1(s,i){if(i instanceof Error)var o=i;else o=this,Error.call(this,ExceptionMessage[s]),this.message=ExceptionMessage[s],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException$1);return o.code=s,i&&(this.message=this.message+": "+i),o}DOMException$1.prototype=Error.prototype;copy(ExceptionCode,DOMException$1);function NodeList(){}NodeList.prototype={length:0,item:function(s){return this[s]||null},toString:function(s,i){for(var o=[],a=0;a<this.length;a++)serializeToString(this[a],o,s,i);return o.join("")}};function LiveNodeList(s,i){this._node=s,this._refresh=i,_updateLiveList(this)}function _updateLiveList(s){var i=s._node._inc||s._node.ownerDocument._inc;if(s._inc!=i){var o=s._refresh(s._node);__set__(s,"length",o.length),copy(o,s),s._inc=i}}LiveNodeList.prototype.item=function(s){return _updateLiveList(this),this[s]};_extends(LiveNodeList,NodeList);function NamedNodeMap(){}function _findNodeIndex(s,i){for(var o=s.length;o--;)if(s[o]===i)return o}function _addNamedNode(s,i,o,a){if(a?i[_findNodeIndex(i,a)]=o:i[i.length++]=o,s){o.ownerElement=s;var c=s.ownerDocument;c&&(a&&_onRemoveAttribute(c,s,a),_onAddAttribute(c,s,o))}}function _removeNamedNode(s,i,o){var a=_findNodeIndex(i,o);if(a>=0){for(var c=i.length-1;a<c;)i[a]=i[++a];if(i.length=c,s){var h=s.ownerDocument;h&&(_onRemoveAttribute(h,s,o),o.ownerElement=null)}}else throw DOMException$1(NOT_FOUND_ERR,new Error(s.tagName+"@"+o))}NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(s){for(var i=this.length;i--;){var o=this[i];if(o.nodeName==s)return o}},setNamedItem:function(s){var i=s.ownerElement;if(i&&i!=this._ownerElement)throw new DOMException$1(INUSE_ATTRIBUTE_ERR);var o=this.getNamedItem(s.nodeName);return _addNamedNode(this._ownerElement,this,s,o),o},setNamedItemNS:function(s){var i=s.ownerElement,o;if(i&&i!=this._ownerElement)throw new DOMException$1(INUSE_ATTRIBUTE_ERR);return o=this.getNamedItemNS(s.namespaceURI,s.localName),_addNamedNode(this._ownerElement,this,s,o),o},removeNamedItem:function(s){var i=this.getNamedItem(s);return _removeNamedNode(this._ownerElement,this,i),i},removeNamedItemNS:function(s,i){var o=this.getNamedItemNS(s,i);return _removeNamedNode(this._ownerElement,this,o),o},getNamedItemNS:function(s,i){for(var o=this.length;o--;){var a=this[o];if(a.localName==i&&a.namespaceURI==s)return a}return null}};function DOMImplementation$1(s){if(this._features={},s)for(var i in s)this._features=s[i]}DOMImplementation$1.prototype={hasFeature:function(s,i){var o=this._features[s.toLowerCase()];return!!(o&&(!i||i in o))},createDocument:function(s,i,o){var a=new Document;if(a.implementation=this,a.childNodes=new NodeList,a.doctype=o,o&&a.appendChild(o),i){var c=a.createElementNS(s,i);a.appendChild(c)}return a},createDocumentType:function(s,i,o){var a=new DocumentType;return a.name=s,a.nodeName=s,a.publicId=i,a.systemId=o,a}};function Node$1(){}Node$1.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(s,i){return _insertBefore(this,s,i)},replaceChild:function(s,i){this.insertBefore(s,i),i&&this.removeChild(i)},removeChild:function(s){return _removeChild(this,s)},appendChild:function(s){return this.insertBefore(s,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(s){return cloneNode(this.ownerDocument||this,this,s)},normalize:function(){for(var s=this.firstChild;s;){var i=s.nextSibling;i&&i.nodeType==TEXT_NODE$1&&s.nodeType==TEXT_NODE$1?(this.removeChild(i),s.appendData(i.data)):(s.normalize(),s=i)}},isSupported:function(s,i){return this.ownerDocument.implementation.hasFeature(s,i)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(s){for(var i=this;i;){var o=i._nsMap;if(o){for(var a in o)if(o[a]==s)return a}i=i.nodeType==ATTRIBUTE_NODE?i.ownerDocument:i.parentNode}return null},lookupNamespaceURI:function(s){for(var i=this;i;){var o=i._nsMap;if(o&&s in o)return o[s];i=i.nodeType==ATTRIBUTE_NODE?i.ownerDocument:i.parentNode}return null},isDefaultNamespace:function(s){var i=this.lookupPrefix(s);return i==null}};function _xmlEncoder(s){return s=="<"&&"&lt;"||s==">"&&"&gt;"||s=="&"&&"&amp;"||s=='"'&&"&quot;"||"&#"+s.charCodeAt()+";"}copy(NodeType,Node$1);copy(NodeType,Node$1.prototype);function _visitNode(s,i){if(i(s))return!0;if(s=s.firstChild)do if(_visitNode(s,i))return!0;while(s=s.nextSibling)}function Document(){}function _onAddAttribute(s,i,o){s&&s._inc++;var a=o.namespaceURI;a=="http://www.w3.org/2000/xmlns/"&&(i._nsMap[o.prefix?o.localName:""]=o.value)}function _onRemoveAttribute(s,i,o,a){s&&s._inc++;var c=o.namespaceURI;c=="http://www.w3.org/2000/xmlns/"&&delete i._nsMap[o.prefix?o.localName:""]}function _onUpdateChild(s,i,o){if(s&&s._inc){s._inc++;var a=i.childNodes;if(o)a[a.length++]=o;else{for(var c=i.firstChild,h=0;c;)a[h++]=c,c=c.nextSibling;a.length=h}}}function _removeChild(s,i){var o=i.previousSibling,a=i.nextSibling;return o?o.nextSibling=a:s.firstChild=a,a?a.previousSibling=o:s.lastChild=o,_onUpdateChild(s.ownerDocument,s),i}function _insertBefore(s,i,o){var a=i.parentNode;if(a&&a.removeChild(i),i.nodeType===DOCUMENT_FRAGMENT_NODE){var c=i.firstChild;if(c==null)return i;var h=i.lastChild}else c=h=i;var g=o?o.previousSibling:s.lastChild;c.previousSibling=g,h.nextSibling=o,g?g.nextSibling=c:s.firstChild=c,o==null?s.lastChild=h:o.previousSibling=h;do c.parentNode=s;while(c!==h&&(c=c.nextSibling));return _onUpdateChild(s.ownerDocument||s,s),i.nodeType==DOCUMENT_FRAGMENT_NODE&&(i.firstChild=i.lastChild=null),i}function _appendSingleChild(s,i){var o=i.parentNode;if(o){var a=s.lastChild;o.removeChild(i);var a=s.lastChild}var a=s.lastChild;return i.parentNode=s,i.previousSibling=a,i.nextSibling=null,a?a.nextSibling=i:s.firstChild=i,s.lastChild=i,_onUpdateChild(s.ownerDocument,s,i),i}Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE$1,doctype:null,documentElement:null,_inc:1,insertBefore:function(s,i){if(s.nodeType==DOCUMENT_FRAGMENT_NODE){for(var o=s.firstChild;o;){var a=o.nextSibling;this.insertBefore(o,i),o=a}return s}return this.documentElement==null&&s.nodeType==ELEMENT_NODE$3&&(this.documentElement=s),_insertBefore(this,s,i),s.ownerDocument=this,s},removeChild:function(s){return this.documentElement==s&&(this.documentElement=null),_removeChild(this,s)},importNode:function(s,i){return importNode(this,s,i)},getElementById:function(s){var i=null;return _visitNode(this.documentElement,function(o){if(o.nodeType==ELEMENT_NODE$3&&o.getAttribute("id")==s)return i=o,!0}),i},getElementsByClassName:function(s){const i=new RegExp(`(^|\\s)${s}(\\s|$)`);return new LiveNodeList(this,o=>{var a=[];return _visitNode(o.documentElement,c=>{c!==o&&c.nodeType==ELEMENT_NODE$3&&i.test(c.getAttribute("class"))&&a.push(c)}),a})},createElement:function(s){var i=new Element$1;i.ownerDocument=this,i.nodeName=s,i.tagName=s,i.childNodes=new NodeList;var o=i.attributes=new NamedNodeMap;return o._ownerElement=i,i},createDocumentFragment:function(){var s=new DocumentFragment;return s.ownerDocument=this,s.childNodes=new NodeList,s},createTextNode:function(s){var i=new Text;return i.ownerDocument=this,i.appendData(s),i},createComment:function(s){var i=new Comment;return i.ownerDocument=this,i.appendData(s),i},createCDATASection:function(s){var i=new CDATASection;return i.ownerDocument=this,i.appendData(s),i},createProcessingInstruction:function(s,i){var o=new ProcessingInstruction;return o.ownerDocument=this,o.tagName=o.target=s,o.nodeValue=o.data=i,o},createAttribute:function(s){var i=new Attr;return i.ownerDocument=this,i.name=s,i.nodeName=s,i.localName=s,i.specified=!0,i},createEntityReference:function(s){var i=new EntityReference;return i.ownerDocument=this,i.nodeName=s,i},createElementNS:function(s,i){var o=new Element$1,a=i.split(":"),c=o.attributes=new NamedNodeMap;return o.childNodes=new NodeList,o.ownerDocument=this,o.nodeName=i,o.tagName=i,o.namespaceURI=s,a.length==2?(o.prefix=a[0],o.localName=a[1]):o.localName=i,c._ownerElement=o,o},createAttributeNS:function(s,i){var o=new Attr,a=i.split(":");return o.ownerDocument=this,o.nodeName=i,o.name=i,o.namespaceURI=s,o.specified=!0,a.length==2?(o.prefix=a[0],o.localName=a[1]):o.localName=i,o}};_extends(Document,Node$1);function Element$1(){this._nsMap={}}Element$1.prototype={nodeType:ELEMENT_NODE$3,hasAttribute:function(s){return this.getAttributeNode(s)!=null},getAttribute:function(s){var i=this.getAttributeNode(s);return i&&i.value||""},getAttributeNode:function(s){return this.attributes.getNamedItem(s)},setAttribute:function(s,i){var o=this.ownerDocument.createAttribute(s);o.value=o.nodeValue=""+i,this.setAttributeNode(o)},removeAttribute:function(s){var i=this.getAttributeNode(s);i&&this.removeAttributeNode(i)},appendChild:function(s){return s.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(s,null):_appendSingleChild(this,s)},setAttributeNode:function(s){return this.attributes.setNamedItem(s)},setAttributeNodeNS:function(s){return this.attributes.setNamedItemNS(s)},removeAttributeNode:function(s){return this.attributes.removeNamedItem(s.nodeName)},removeAttributeNS:function(s,i){var o=this.getAttributeNodeNS(s,i);o&&this.removeAttributeNode(o)},hasAttributeNS:function(s,i){return this.getAttributeNodeNS(s,i)!=null},getAttributeNS:function(s,i){var o=this.getAttributeNodeNS(s,i);return o&&o.value||""},setAttributeNS:function(s,i,o){var a=this.ownerDocument.createAttributeNS(s,i);a.value=a.nodeValue=""+o,this.setAttributeNode(a)},getAttributeNodeNS:function(s,i){return this.attributes.getNamedItemNS(s,i)},getElementsByTagName:function(s){return new LiveNodeList(this,function(i){var o=[];return _visitNode(i,function(a){a!==i&&a.nodeType==ELEMENT_NODE$3&&(s==="*"||a.tagName==s)&&o.push(a)}),o})},getElementsByTagNameNS:function(s,i){return new LiveNodeList(this,function(o){var a=[];return _visitNode(o,function(c){c!==o&&c.nodeType===ELEMENT_NODE$3&&(s==="*"||c.namespaceURI===s)&&(i==="*"||c.localName==i)&&a.push(c)}),a})}};Document.prototype.getElementsByTagName=Element$1.prototype.getElementsByTagName;Document.prototype.getElementsByTagNameNS=Element$1.prototype.getElementsByTagNameNS;_extends(Element$1,Node$1);function Attr(){}Attr.prototype.nodeType=ATTRIBUTE_NODE;_extends(Attr,Node$1);function CharacterData(){}CharacterData.prototype={data:"",substringData:function(s,i){return this.data.substring(s,s+i)},appendData:function(s){s=this.data+s,this.nodeValue=this.data=s,this.length=s.length},insertData:function(s,i){this.replaceData(s,0,i)},appendChild:function(s){throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(s,i){this.replaceData(s,i,"")},replaceData:function(s,i,o){var a=this.data.substring(0,s),c=this.data.substring(s+i);o=a+o+c,this.nodeValue=this.data=o,this.length=o.length}};_extends(CharacterData,Node$1);function Text(){}Text.prototype={nodeName:"#text",nodeType:TEXT_NODE$1,splitText:function(s){var i=this.data,o=i.substring(s);i=i.substring(0,s),this.data=this.nodeValue=i,this.length=i.length;var a=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling),a}};_extends(Text,CharacterData);function Comment(){}Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE};_extends(Comment,CharacterData);function CDATASection(){}CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE};_extends(CDATASection,CharacterData);function DocumentType(){}DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE;_extends(DocumentType,Node$1);function Notation(){}Notation.prototype.nodeType=NOTATION_NODE;_extends(Notation,Node$1);function Entity(){}Entity.prototype.nodeType=ENTITY_NODE;_extends(Entity,Node$1);function EntityReference(){}EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE;_extends(EntityReference,Node$1);function DocumentFragment(){}DocumentFragment.prototype.nodeName="#document-fragment";DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE;_extends(DocumentFragment,Node$1);function ProcessingInstruction(){}ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE;_extends(ProcessingInstruction,Node$1);function XMLSerializer$1(){}XMLSerializer$1.prototype.serializeToString=function(s,i,o){return nodeSerializeToString.call(s,i,o)};Node$1.prototype.toString=nodeSerializeToString;function nodeSerializeToString(s,i){var o=[],a=this.nodeType==9&&this.documentElement||this,c=a.prefix,h=a.namespaceURI;if(h&&c==null){var c=a.lookupPrefix(h);if(c==null)var g=[{namespace:h,prefix:null}]}return serializeToString(this,o,s,i,g),o.join("")}function needNamespaceDefine(s,i,o){var a=s.prefix||"",c=s.namespaceURI;if(!a&&!c||a==="xml"&&c==="http://www.w3.org/XML/1998/namespace"||c=="http://www.w3.org/2000/xmlns/")return!1;for(var h=o.length;h--;){var g=o[h];if(g.prefix==a)return g.namespace!=c}return!0}function serializeToString(s,i,o,a,c){if(a)if(s=a(s),s){if(typeof s=="string"){i.push(s);return}}else return;switch(s.nodeType){case ELEMENT_NODE$3:c||(c=[]),c.length;var h=s.attributes,g=h.length,st=s.firstChild,b=s.tagName;o=htmlns===s.namespaceURI||o,i.push("<",b);for(var _=0;_<g;_++){var $=h.item(_);$.prefix=="xmlns"?c.push({prefix:$.localName,namespace:$.value}):$.nodeName=="xmlns"&&c.push({prefix:"",namespace:$.value})}for(var _=0;_<g;_++){var $=h.item(_);if(needNamespaceDefine($,o,c)){var _e=$.prefix||"",et=$.namespaceURI,rt=_e?" xmlns:"+_e:" xmlns";i.push(rt,'="',et,'"'),c.push({prefix:_e,namespace:et})}serializeToString($,i,o,a,c)}if(needNamespaceDefine(s,o,c)){var _e=s.prefix||"",et=s.namespaceURI,rt=_e?" xmlns:"+_e:" xmlns";i.push(rt,'="',et,'"'),c.push({prefix:_e,namespace:et})}if(st||o&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(i.push(">"),o&&/^script$/i.test(b))for(;st;)st.data?i.push(st.data):serializeToString(st,i,o,a,c),st=st.nextSibling;else for(;st;)serializeToString(st,i,o,a,c),st=st.nextSibling;i.push("</",b,">")}else i.push("/>");return;case DOCUMENT_NODE$1:case DOCUMENT_FRAGMENT_NODE:for(var st=s.firstChild;st;)serializeToString(st,i,o,a,c),st=st.nextSibling;return;case ATTRIBUTE_NODE:return i.push(" ",s.name,'="',s.value.replace(/[<&"]/g,_xmlEncoder),'"');case TEXT_NODE$1:return i.push(s.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return i.push("<![CDATA[",s.data,"]]>");case COMMENT_NODE:return i.push("<!--",s.data,"-->");case DOCUMENT_TYPE_NODE:var lt=s.publicId,dt=s.systemId;if(i.push("<!DOCTYPE ",s.name),lt)i.push(' PUBLIC "',lt),dt&&dt!="."&&i.push('" "',dt),i.push('">');else if(dt&&dt!=".")i.push(' SYSTEM "',dt,'">');else{var nt=s.internalSubset;nt&&i.push(" [",nt,"]"),i.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return i.push("<?",s.target," ",s.data,"?>");case ENTITY_REFERENCE_NODE:return i.push("&",s.nodeName,";");default:i.push("??",s.nodeName)}}function importNode(s,i,o){var a;switch(i.nodeType){case ELEMENT_NODE$3:a=i.cloneNode(!1),a.ownerDocument=s;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:o=!0;break}if(a||(a=i.cloneNode(!1)),a.ownerDocument=s,a.parentNode=null,o)for(var c=i.firstChild;c;)a.appendChild(importNode(s,c,o)),c=c.nextSibling;return a}function cloneNode(s,i,o){var a=new i.constructor;for(var c in i){var h=i[c];typeof h!="object"&&h!=a[c]&&(a[c]=h)}switch(i.childNodes&&(a.childNodes=new NodeList),a.ownerDocument=s,a.nodeType){case ELEMENT_NODE$3:var g=i.attributes,b=a.attributes=new NamedNodeMap,_=g.length;b._ownerElement=a;for(var $=0;$<_;$++)a.setAttributeNode(cloneNode(s,g.item($),!0));break;case ATTRIBUTE_NODE:o=!0}if(o)for(var _e=i.firstChild;_e;)a.appendChild(cloneNode(s,_e,o)),_e=_e.nextSibling;return a}function __set__(s,i,o){s[i]=o}try{if(Object.defineProperty){let s=function(i){switch(i.nodeType){case ELEMENT_NODE$3:case DOCUMENT_FRAGMENT_NODE:var o=[];for(i=i.firstChild;i;)i.nodeType!==7&&i.nodeType!==8&&o.push(s(i)),i=i.nextSibling;return o.join("");default:return i.nodeValue}};var getTextContent=s;Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node$1.prototype,"textContent",{get:function(){return s(this)},set:function(i){switch(this.nodeType){case ELEMENT_NODE$3:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(i||String(i))&&this.appendChild(this.ownerDocument.createTextNode(i));break;default:this.data=i,this.value=i,this.nodeValue=i}}}),__set__=function(i,o,a){i["$$"+o]=a}}}catch(s){}dom.Node=Node$1;dom.DOMImplementation=DOMImplementation$1;dom.XMLSerializer=XMLSerializer$1;function DOMParser$1(s){this.options=s||{locator:{}}}DOMParser$1.prototype.parseFromString=function(s,i){var o=this.options,a=new XMLReader,c=o.domBuilder||new DOMHandler,h=o.errorHandler,g=o.locator,b=o.xmlns||{},_=/\/x?html?$/.test(i),$=_?htmlEntity.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return g&&c.setDocumentLocator(g),a.errorHandler=buildErrorHandler(h,c,g),a.domBuilder=o.domBuilder||c,_&&(b[""]="http://www.w3.org/1999/xhtml"),b.xml=b.xml||"http://www.w3.org/XML/1998/namespace",s?a.parse(s,b,$):a.errorHandler.error("invalid doc source"),c.doc};function buildErrorHandler(s,i,o){if(!s){if(i instanceof DOMHandler)return i;s=i}var a={},c=s instanceof Function;o=o||{};function h(g){var b=s[g];!b&&c&&(b=s.length==2?function(_){s(g,_)}:s),a[g]=b&&function(_){b("[xmldom "+g+"]	"+_+_locator(o))}||function(){}}return h("warning"),h("error"),h("fatalError"),a}function DOMHandler(){this.cdata=!1}function position(s,i){i.lineNumber=s.lineNumber,i.columnNumber=s.columnNumber}DOMHandler.prototype={startDocument:function(){this.doc=new DOMImplementation().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(s,i,o,a){var c=this.doc,h=c.createElementNS(s,o||i),g=a.length;appendElement(this,h),this.currentElement=h,this.locator&&position(this.locator,h);for(var b=0;b<g;b++){var s=a.getURI(b),_=a.getValue(b),o=a.getQName(b),$=c.createAttributeNS(s,o);this.locator&&position(a.getLocator(b),$),$.value=$.nodeValue=_,h.setAttributeNode($)}},endElement:function(s,i,o){var a=this.currentElement;a.tagName,this.currentElement=a.parentNode},startPrefixMapping:function(s,i){},endPrefixMapping:function(s){},processingInstruction:function(s,i){var o=this.doc.createProcessingInstruction(s,i);this.locator&&position(this.locator,o),appendElement(this,o)},ignorableWhitespace:function(s,i,o){},characters:function(s,i,o){if(s=_toString.apply(this,arguments),s){if(this.cdata)var a=this.doc.createCDATASection(s);else var a=this.doc.createTextNode(s);this.currentElement?this.currentElement.appendChild(a):/^\s*$/.test(s)&&this.doc.appendChild(a),this.locator&&position(this.locator,a)}},skippedEntity:function(s){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(s){(this.locator=s)&&(s.lineNumber=0)},comment:function(s,i,o){s=_toString.apply(this,arguments);var a=this.doc.createComment(s);this.locator&&position(this.locator,a),appendElement(this,a)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(s,i,o){var a=this.doc.implementation;if(a&&a.createDocumentType){var c=a.createDocumentType(s,i,o);this.locator&&position(this.locator,c),appendElement(this,c)}},warning:function(s){console.warn("[xmldom warning]	"+s,_locator(this.locator))},error:function(s){console.error("[xmldom error]	"+s,_locator(this.locator))},fatalError:function(s){throw console.error("[xmldom fatalError]	"+s,_locator(this.locator)),s}};function _locator(s){if(s)return`
@`+(s.systemId||"")+"#[line:"+s.lineNumber+",col:"+s.columnNumber+"]"}function _toString(s,i,o){return typeof s=="string"?s.substr(i,o):s.length>=i+o||i?new java.lang.String(s,i,o)+"":s}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(s){DOMHandler.prototype[s]=function(){return null}});function appendElement(s,i){s.currentElement?s.currentElement.appendChild(i):s.doc.appendChild(i)}var htmlEntity=entities,XMLReader=sax.XMLReader,DOMImplementation=domParser.DOMImplementation=dom.DOMImplementation;domParser.XMLSerializer=dom.XMLSerializer;var DOMParser_1=domParser.DOMParser=DOMParser$1;const requestAnimationFrame$1=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,ELEMENT_NODE$2=1,_URL=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function uuid(){var s=new Date().getTime(),i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var a=(s+Math.random()*16)%16|0;return s=Math.floor(s/16),(o=="x"?a:a&7|8).toString(16)});return i}function isElement(s){return!!(s&&s.nodeType==1)}function isNumber(s){return!isNaN(parseFloat(s))&&isFinite(s)}function isFloat(s){let i=parseFloat(s);return isNumber(s)===!1?!1:typeof s=="string"&&s.indexOf(".")>-1?!0:Math.floor(i)!==i}function prefixed(s){var i=["Webkit","webkit","Moz","O","ms"],o=["-webkit-","-webkit-","-moz-","-o-","-ms-"],a=s.toLowerCase(),c=i.length;if(typeof document>"u"||typeof document.body.style[a]<"u")return s;for(var h=0;h<c;h++)if(typeof document.body.style[o[h]+a]<"u")return o[h]+a;return s}function defaults(s){for(var i=1,o=arguments.length;i<o;i++){var a=arguments[i];for(var c in a)s[c]===void 0&&(s[c]=a[c])}return s}function extend(s){var i=[].slice.call(arguments,1);return i.forEach(function(o){o&&Object.getOwnPropertyNames(o).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a))})}),s}function locationOf(s,i,o,a,c){var h=a||0,g=c||i.length,b=parseInt(h+(g-h)/2),_;return o||(o=function($,_e){if($>_e)return 1;if($<_e)return-1;if($==_e)return 0}),g-h<=0?b:(_=o(i[b],s),g-h===1?_>=0?b:b+1:_===0?b:_===-1?locationOf(s,i,o,b,g):locationOf(s,i,o,h,b))}function indexOfSorted(s,i,o,a,c){var h=a||0,g=c||i.length,b=parseInt(h+(g-h)/2),_;return o||(o=function($,_e){if($>_e)return 1;if($<_e)return-1;if($==_e)return 0}),g-h<=0?-1:(_=o(i[b],s),g-h===1?_===0?b:-1:_===0?b:_===-1?indexOfSorted(s,i,o,b,g):indexOfSorted(s,i,o,h,b))}function bounds(s){var i=window.getComputedStyle(s),o=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],a=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],c=0,h=0;return o.forEach(function(g){c+=parseFloat(i[g])||0}),a.forEach(function(g){h+=parseFloat(i[g])||0}),{height:h,width:c}}function borders(s){var i=window.getComputedStyle(s),o=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],a=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],c=0,h=0;return o.forEach(function(g){c+=parseFloat(i[g])||0}),a.forEach(function(g){h+=parseFloat(i[g])||0}),{height:h,width:c}}function nodeBounds(s){let i,o=s.ownerDocument;if(s.nodeType==Node.TEXT_NODE){let a=o.createRange();a.selectNodeContents(s),i=a.getBoundingClientRect()}else i=s.getBoundingClientRect();return i}function windowBounds(){var s=window.innerWidth,i=window.innerHeight;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}function indexOfNode(s,i){for(var o=s.parentNode,a=o.childNodes,c,h=-1,g=0;g<a.length&&(c=a[g],c.nodeType===i&&h++,c!=s);g++);return h}function indexOfElementNode(s){return indexOfNode(s,ELEMENT_NODE$2)}function isXml(s){return["xml","opf","ncx"].indexOf(s)>-1}function createBlob(s,i){return new Blob([s],{type:i})}function createBlobUrl(s,i){var o,a=createBlob(s,i);return o=_URL.createObjectURL(a),o}function revokeBlobUrl(s){return _URL.revokeObjectURL(s)}function createBase64Url(s,i){var o,a;if(typeof s=="string")return o=btoa(encodeURIComponent(s)),a="data:"+i+";base64,"+o,a}function type(s){return Object.prototype.toString.call(s).slice(8,-1)}function parse(s,i,o){var a,c;return typeof DOMParser>"u"||o?c=DOMParser_1:c=DOMParser,s.charCodeAt(0)===65279&&(s=s.slice(1)),a=new c().parseFromString(s,i),a}function qs(s,i){var o;if(!s)throw new Error("No Element Provided");if(typeof s.querySelector<"u")return s.querySelector(i);if(o=s.getElementsByTagName(i),o.length)return o[0]}function qsa(s,i){return typeof s.querySelector<"u"?s.querySelectorAll(i):s.getElementsByTagName(i)}function qsp(s,i,o){var a,c;if(typeof s.querySelector<"u"){i+="[";for(var h in o)i+=h+"~='"+o[h]+"'";return i+="]",s.querySelector(i)}else if(a=s.getElementsByTagName(i),c=Array.prototype.slice.call(a,0).filter(function(g){for(var b in o)if(g.getAttribute(b)===o[b])return!0;return!1}),c)return c[0]}function sprint(s,i){var o=s.ownerDocument||s;typeof o.createTreeWalker<"u"?treeWalker(s,i,NodeFilter.SHOW_TEXT):walk(s,function(a){a&&a.nodeType===3&&i(a)})}function treeWalker(s,i,o){var a=document.createTreeWalker(s,o,null,!1);let c;for(;c=a.nextNode();)i(c)}function walk(s,i){if(i(s))return!0;if(s=s.firstChild,s)do{if(walk(s,i))return!0;s=s.nextSibling}while(s)}function blob2base64(s){return new Promise(function(i,o){var a=new FileReader;a.readAsDataURL(s),a.onloadend=function(){i(a.result)}})}function defer(){this.resolve=null,this.reject=null,this.id=uuid(),this.promise=new Promise((s,i)=>{this.resolve=s,this.reject=i}),Object.freeze(this)}function querySelectorByType(s,i,o){var a;if(typeof s.querySelector<"u"&&(a=s.querySelector(`${i}[*|type="${o}"]`)),!a||a.length===0){a=qsa(s,i);for(var c=0;c<a.length;c++)if(a[c].getAttributeNS("http://www.idpf.org/2007/ops","type")===o||a[c].getAttribute("epub:type")===o)return a[c]}else return a}function findChildren(s){for(var i=[],o=s.childNodes,a=0;a<o.length;a++){let c=o[a];c.nodeType===1&&i.push(c)}return i}function parents(s){for(var i=[s];s;s=s.parentNode)i.unshift(s);return i}function filterChildren(s,i,o){for(var a=s.childNodes,c=0;c<a.length;c++){let h=a[c];if(h.nodeType===1&&h.nodeName.toLowerCase()===i)return h}}function getParentByTagName(s,i){let o;if(!(s===null||i===""))for(o=s.parentNode;o.nodeType===1;){if(o.tagName.toLowerCase()===i)return o;o=o.parentNode}}class RangeObject{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(i,o){this.startContainer=i,this.startOffset=o,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(i,o){this.endContainer=i,this.endOffset=o,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(i){this.collapsed=!0,i?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(i){let o=i.parentNode,a=Array.prototype.indexOf.call(o.childNodes,i);this.setStart(o,a),this.setEnd(o,a+1)}selectNodeContents(i){i.childNodes[i.childNodes-1];let o=i.nodeType===3?i.textContent.length:parent.childNodes.length;this.setStart(i,0),this.setEnd(i,o)}_commonAncestorContainer(i,o){var a=parents(i||this.startContainer),c=parents(o||this.endContainer);if(a[0]==c[0]){for(var h=0;h<a.length;h++)if(a[h]!=c[h])return a[h-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}if(!process$1)var process$1={cwd:function(){return"/"}};function assertPath(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+s)}function normalizeStringPosix(s,i){for(var o="",a=-1,c=0,h,g=0;g<=s.length;++g){if(g<s.length)h=s.charCodeAt(g);else{if(h===47)break;h=47}if(h===47){if(!(a===g-1||c===1))if(a!==g-1&&c===2){if(o.length<2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){for(var b=o.length-1,_=b;_>=0&&o.charCodeAt(_)!==47;--_);if(_!==b){_===-1?o="":o=o.slice(0,_),a=g,c=0;continue}}else if(o.length===2||o.length===1){o="",a=g,c=0;continue}}i&&(o.length>0?o+="/..":o="..")}else o.length>0?o+="/"+s.slice(a+1,g):o=s.slice(a+1,g);a=g,c=0}else h===46&&c!==-1?++c:c=-1}return o}function _format(s,i){var o=i.dir||i.root,a=i.base||(i.name||"")+(i.ext||"");return o?o===i.root?o+a:o+s+a:a}var posix={resolve:function s(){for(var i="",o=!1,a,c=arguments.length-1;c>=-1&&!o;c--){var h;c>=0?h=arguments[c]:(a===void 0&&(a=process$1.cwd()),h=a),assertPath(h),h.length!==0&&(i=h+"/"+i,o=h.charCodeAt(0)===47)}return i=normalizeStringPosix(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function s(i){if(assertPath(i),i.length===0)return".";var o=i.charCodeAt(0)===47,a=i.charCodeAt(i.length-1)===47;return i=normalizeStringPosix(i,!o),i.length===0&&!o&&(i="."),i.length>0&&a&&(i+="/"),o?"/"+i:i},isAbsolute:function s(i){return assertPath(i),i.length>0&&i.charCodeAt(0)===47},join:function s(){if(arguments.length===0)return".";for(var i,o=0;o<arguments.length;++o){var a=arguments[o];assertPath(a),a.length>0&&(i===void 0?i=a:i+="/"+a)}return i===void 0?".":posix.normalize(i)},relative:function s(i,o){if(assertPath(i),assertPath(o),i===o||(i=posix.resolve(i),o=posix.resolve(o),i===o))return"";for(var a=1;a<i.length&&i.charCodeAt(a)===47;++a);for(var c=i.length,h=c-a,g=1;g<o.length&&o.charCodeAt(g)===47;++g);for(var b=o.length,_=b-g,$=h<_?h:_,_e=-1,et=0;et<=$;++et){if(et===$){if(_>$){if(o.charCodeAt(g+et)===47)return o.slice(g+et+1);if(et===0)return o.slice(g+et)}else h>$&&(i.charCodeAt(a+et)===47?_e=et:et===0&&(_e=0));break}var rt=i.charCodeAt(a+et),st=o.charCodeAt(g+et);if(rt!==st)break;rt===47&&(_e=et)}var lt="";for(et=a+_e+1;et<=c;++et)(et===c||i.charCodeAt(et)===47)&&(lt.length===0?lt+="..":lt+="/..");return lt.length>0?lt+o.slice(g+_e):(g+=_e,o.charCodeAt(g)===47&&++g,o.slice(g))},_makeLong:function s(i){return i},dirname:function s(i){if(assertPath(i),i.length===0)return".";for(var o=i.charCodeAt(0),a=o===47,c=-1,h=!0,g=i.length-1;g>=1;--g)if(o=i.charCodeAt(g),o===47){if(!h){c=g;break}}else h=!1;return c===-1?a?"/":".":a&&c===1?"//":i.slice(0,c)},basename:function s(i,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');assertPath(i);var a=0,c=-1,h=!0,g;if(o!==void 0&&o.length>0&&o.length<=i.length){if(o.length===i.length&&o===i)return"";var b=o.length-1,_=-1;for(g=i.length-1;g>=0;--g){var $=i.charCodeAt(g);if($===47){if(!h){a=g+1;break}}else _===-1&&(h=!1,_=g+1),b>=0&&($===o.charCodeAt(b)?--b===-1&&(c=g):(b=-1,c=_))}return a===c?c=_:c===-1&&(c=i.length),i.slice(a,c)}else{for(g=i.length-1;g>=0;--g)if(i.charCodeAt(g)===47){if(!h){a=g+1;break}}else c===-1&&(h=!1,c=g+1);return c===-1?"":i.slice(a,c)}},extname:function s(i){assertPath(i);for(var o=-1,a=0,c=-1,h=!0,g=0,b=i.length-1;b>=0;--b){var _=i.charCodeAt(b);if(_===47){if(!h){a=b+1;break}continue}c===-1&&(h=!1,c=b+1),_===46?o===-1?o=b:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||c===-1||g===0||g===1&&o===c-1&&o===a+1?"":i.slice(o,c)},format:function s(i){if(i===null||typeof i!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof i);return _format("/",i)},parse:function s(i){assertPath(i);var o={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return o;var a=i.charCodeAt(0),c=a===47,h;c?(o.root="/",h=1):h=0;for(var g=-1,b=0,_=-1,$=!0,_e=i.length-1,et=0;_e>=h;--_e){if(a=i.charCodeAt(_e),a===47){if(!$){b=_e+1;break}continue}_===-1&&($=!1,_=_e+1),a===46?g===-1?g=_e:et!==1&&(et=1):g!==-1&&(et=-1)}return g===-1||_===-1||et===0||et===1&&g===_-1&&g===b+1?_!==-1&&(b===0&&c?o.base=o.name=i.slice(1,_):o.base=o.name=i.slice(b,_)):(b===0&&c?(o.name=i.slice(1,g),o.base=i.slice(1,_)):(o.name=i.slice(b,g),o.base=i.slice(b,_)),o.ext=i.slice(g,_)),b>0?o.dir=i.slice(0,b-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",posix:null},path=posix;const path$1=getDefaultExportFromCjs(path);class Path{constructor(i){var o,a;o=i.indexOf("://"),o>-1&&(i=new URL(i).pathname),a=this.parse(i),this.path=i,this.isDirectory(i)?this.directory=i:this.directory=a.dir+"/",this.filename=a.base,this.extension=a.ext.slice(1)}parse(i){return path$1.parse(i)}isAbsolute(i){return path$1.isAbsolute(i||this.path)}isDirectory(i){return i.charAt(i.length-1)==="/"}resolve(i){return path$1.resolve(this.directory,i)}relative(i){var o=i&&i.indexOf("://")>-1;return o?i:path$1.relative(this.directory,i)}splitPath(i){return this.splitPathRe.exec(i).slice(1)}toString(){return this.path}}class Url{constructor(i,o){var a=i.indexOf("://")>-1,c=i,h;if(this.Url=void 0,this.href=i,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=o,!a&&o!==!1&&typeof o!="string"&&window&&window.location&&(this.base=window.location.href),a||this.base)try{this.base?this.Url=new URL(i,this.base):this.Url=new URL(i),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,c=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(h=new Path(this.base),c=h.resolve(c))}this.Path=new Path(c),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(i){var o=i.indexOf("://")>-1,a;return o?i:(a=path$1.resolve(this.directory,i),this.origin+a)}relative(i){return path$1.relative(i,this.directory)}toString(){return this.href}}const ELEMENT_NODE$1=1,TEXT_NODE=3,DOCUMENT_NODE=9;class EpubCFI{constructor(i,o,a){var c;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof EpubCFI))return new EpubCFI(i,o,a);if(typeof o=="string"?this.base=this.parseComponent(o):typeof o=="object"&&o.steps&&(this.base=o),c=this.checkType(i),c==="string")return this.str=i,extend(this,this.parse(i));if(c==="range")return extend(this,this.fromRange(i,this.base,a));if(c==="node")return extend(this,this.fromNode(i,this.base,a));if(c==="EpubCFI"&&i.path)return i;if(i)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(i){return this.isCfiString(i)?"string":i&&typeof i=="object"&&(type(i)==="Range"||typeof i.startContainer<"u")?"range":i&&typeof i=="object"&&typeof i.nodeType<"u"?"node":i&&typeof i=="object"&&i instanceof EpubCFI?"EpubCFI":!1}parse(i){var o={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},a,c,h;return typeof i!="string"?{spinePos:-1}:(i.indexOf("epubcfi(")===0&&i[i.length-1]===")"&&(i=i.slice(8,i.length-1)),a=this.getChapterComponent(i),a?(o.base=this.parseComponent(a),c=this.getPathComponent(i),o.path=this.parseComponent(c),h=this.getRange(i),h&&(o.range=!0,o.start=this.parseComponent(h[0]),o.end=this.parseComponent(h[1])),o.spinePos=o.base.steps[1].index,o):{spinePos:-1})}parseComponent(i){var o={steps:[],terminal:{offset:null,assertion:null}},a=i.split(":"),c=a[0].split("/"),h;return a.length>1&&(h=a[1],o.terminal=this.parseTerminal(h)),c[0]===""&&c.shift(),o.steps=c.map((function(g){return this.parseStep(g)}).bind(this)),o}parseStep(i){var o,a,c,h,g;if(h=i.match(/\[(.*)\]/),h&&h[1]&&(g=h[1]),a=parseInt(i),!isNaN(a))return a%2===0?(o="element",c=a/2-1):(o="text",c=(a-1)/2),{type:o,index:c,id:g||null}}parseTerminal(i){var o,a,c=i.match(/\[(.*)\]/);return c&&c[1]?(o=parseInt(i.split("[")[0]),a=c[1]):o=parseInt(i),isNumber(o)||(o=null),{offset:o,assertion:a}}getChapterComponent(i){var o=i.split("!");return o[0]}getPathComponent(i){var o=i.split("!");if(o[1])return o[1].split(",")[0]}getRange(i){var o=i.split(",");return o.length===3?[o[1],o[2]]:!1}getCharecterOffsetComponent(i){var o=i.split(":");return o[1]||""}joinSteps(i){return i?i.map(function(o){var a="";return o.type==="element"&&(a+=(o.index+1)*2),o.type==="text"&&(a+=1+2*o.index),o.id&&(a+="["+o.id+"]"),a}).join("/"):""}segmentString(i){var o="/";return o+=this.joinSteps(i.steps),i.terminal&&i.terminal.offset!=null&&(o+=":"+i.terminal.offset),i.terminal&&i.terminal.assertion!=null&&(o+="["+i.terminal.assertion+"]"),o}toString(){var i="epubcfi(";return i+=this.segmentString(this.base),i+="!",i+=this.segmentString(this.path),this.range&&this.start&&(i+=",",i+=this.segmentString(this.start)),this.range&&this.end&&(i+=",",i+=this.segmentString(this.end)),i+=")",i}compare(i,o){var a,c,h,g;if(typeof i=="string"&&(i=new EpubCFI(i)),typeof o=="string"&&(o=new EpubCFI(o)),i.spinePos>o.spinePos)return 1;if(i.spinePos<o.spinePos)return-1;i.range?(a=i.path.steps.concat(i.start.steps),h=i.start.terminal):(a=i.path.steps,h=i.path.terminal),o.range?(c=o.path.steps.concat(o.start.steps),g=o.start.terminal):(c=o.path.steps,g=o.path.terminal);for(var b=0;b<a.length;b++){if(!a[b])return-1;if(!c[b]||a[b].index>c[b].index)return 1;if(a[b].index<c[b].index)return-1}return a.length<c.length?-1:h.offset>g.offset?1:h.offset<g.offset?-1:0}step(i){var o=i.nodeType===TEXT_NODE?"text":"element";return{id:i.id,tagName:i.tagName,type:o,index:this.position(i)}}filteredStep(i,o){var a=this.filter(i,o),c;if(a)return c=a.nodeType===TEXT_NODE?"text":"element",{id:a.id,tagName:a.tagName,type:c,index:this.filteredPosition(a,o)}}pathTo(i,o,a){for(var c={steps:[],terminal:{offset:null,assertion:null}},h=i,g;h&&h.parentNode&&h.parentNode.nodeType!=DOCUMENT_NODE;)a?g=this.filteredStep(h,a):g=this.step(h),g&&c.steps.unshift(g),h=h.parentNode;return o!=null&&o>=0&&(c.terminal.offset=o,c.steps[c.steps.length-1].type!="text"&&c.steps.push({type:"text",index:0})),c}equalStep(i,o){return!i||!o?!1:i.index===o.index&&i.id===o.id&&i.type===o.type}fromRange(i,o,a){var c={range:!1,base:{},path:{},start:null,end:null},h=i.startContainer,g=i.endContainer,b=i.startOffset,_=i.endOffset,$=!1;if(a&&($=h.ownerDocument.querySelector("."+a)!=null),typeof o=="string"?(c.base=this.parseComponent(o),c.spinePos=c.base.steps[1].index):typeof o=="object"&&(c.base=o),i.collapsed)$&&(b=this.patchOffset(h,b,a)),c.path=this.pathTo(h,b,a);else{c.range=!0,$&&(b=this.patchOffset(h,b,a)),c.start=this.pathTo(h,b,a),$&&(_=this.patchOffset(g,_,a)),c.end=this.pathTo(g,_,a),c.path={steps:[],terminal:null};var _e=c.start.steps.length,et;for(et=0;et<_e&&this.equalStep(c.start.steps[et],c.end.steps[et]);et++)et===_e-1?c.start.terminal===c.end.terminal&&(c.path.steps.push(c.start.steps[et]),c.range=!1):c.path.steps.push(c.start.steps[et]);c.start.steps=c.start.steps.slice(c.path.steps.length),c.end.steps=c.end.steps.slice(c.path.steps.length)}return c}fromNode(i,o,a){var c={range:!1,base:{},path:{},start:null,end:null};return typeof o=="string"?(c.base=this.parseComponent(o),c.spinePos=c.base.steps[1].index):typeof o=="object"&&(c.base=o),c.path=this.pathTo(i,null,a),c}filter(i,o){var a,c,h,g,b,_=!1;return i.nodeType===TEXT_NODE?(_=!0,h=i.parentNode,a=i.parentNode.classList.contains(o)):(_=!1,a=i.classList.contains(o)),a&&_?(g=h.previousSibling,b=h.nextSibling,g&&g.nodeType===TEXT_NODE?c=g:b&&b.nodeType===TEXT_NODE&&(c=b),c||i):a&&!_?!1:i}patchOffset(i,o,a){if(i.nodeType!=TEXT_NODE)throw new Error("Anchor must be a text node");var c=i,h=o;for(i.parentNode.classList.contains(a)&&(c=i.parentNode);c.previousSibling;){if(c.previousSibling.nodeType===ELEMENT_NODE$1)if(c.previousSibling.classList.contains(a))h+=c.previousSibling.textContent.length;else break;else h+=c.previousSibling.textContent.length;c=c.previousSibling}return h}normalizedMap(i,o,a){var c={},h=-1,g,b=i.length,_,$;for(g=0;g<b;g++)_=i[g].nodeType,_===ELEMENT_NODE$1&&i[g].classList.contains(a)&&(_=TEXT_NODE),g>0&&_===TEXT_NODE&&$===TEXT_NODE?c[g]=h:o===_&&(h=h+1,c[g]=h),$=_;return c}position(i){var o,a;return i.nodeType===ELEMENT_NODE$1?(o=i.parentNode.children,o||(o=findChildren(i.parentNode)),a=Array.prototype.indexOf.call(o,i)):(o=this.textNodes(i.parentNode),a=o.indexOf(i)),a}filteredPosition(i,o){var a,c,h;return i.nodeType===ELEMENT_NODE$1?(a=i.parentNode.children,h=this.normalizedMap(a,ELEMENT_NODE$1,o)):(a=i.parentNode.childNodes,i.parentNode.classList.contains(o)&&(i=i.parentNode,a=i.parentNode.childNodes),h=this.normalizedMap(a,TEXT_NODE,o)),c=Array.prototype.indexOf.call(a,i),h[c]}stepsToXpath(i){var o=[".","*"];return i.forEach(function(a){var c=a.index+1;a.id?o.push("*[position()="+c+" and @id='"+a.id+"']"):a.type==="text"?o.push("text()["+c+"]"):o.push("*["+c+"]")}),o.join("/")}stepsToQuerySelector(i){var o=["html"];return i.forEach(function(a){var c=a.index+1;a.id?o.push("#"+a.id):a.type==="text"||o.push("*:nth-child("+c+")")}),o.join(">")}textNodes(i,o){return Array.prototype.slice.call(i.childNodes).filter(function(a){return a.nodeType===TEXT_NODE?!0:!!(o&&a.classList.contains(o))})}walkToNode(i,o,a){var c=o||document,h=c.documentElement,g,b,_=i.length,$;for($=0;$<_&&(b=i[$],b.type==="element"?b.id?h=c.getElementById(b.id):(g=h.children||findChildren(h),h=g[b.index]):b.type==="text"&&(h=this.textNodes(h,a)[b.index]),!!h);$++);return h}findNode(i,o,a){var c=o||document,h,g;return!a&&typeof c.evaluate<"u"?(g=this.stepsToXpath(i),h=c.evaluate(g,c,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):a?h=this.walkToNode(i,c,a):h=this.walkToNode(i,c),h}fixMiss(i,o,a,c){var h=this.findNode(i.slice(0,-1),a,c),g=h.childNodes,b=this.normalizedMap(g,TEXT_NODE,c),_,$,_e=i[i.length-1].index;for(let et in b){if(!b.hasOwnProperty(et))return;if(b[et]===_e)if(_=g[et],$=_.textContent.length,o>$)o=o-$;else{_.nodeType===ELEMENT_NODE$1?h=_.childNodes[0]:h=_;break}}return{container:h,offset:o}}toRange(i,o){var a=i||document,c,h,g,b,_,$=this,_e,et,rt=o?a.querySelector("."+o)!=null:!1,st;if(typeof a.createRange<"u"?c=a.createRange():c=new RangeObject,$.range?(h=$.start,_e=$.path.steps.concat(h.steps),b=this.findNode(_e,a,rt?o:null),g=$.end,et=$.path.steps.concat(g.steps),_=this.findNode(et,a,rt?o:null)):(h=$.path,_e=$.path.steps,b=this.findNode($.path.steps,a,rt?o:null)),b)try{h.terminal.offset!=null?c.setStart(b,h.terminal.offset):c.setStart(b,0)}catch{st=this.fixMiss(_e,h.terminal.offset,a,rt?o:null),c.setStart(st.container,st.offset)}else return console.log("No startContainer found for",this.toString()),null;if(_)try{g.terminal.offset!=null?c.setEnd(_,g.terminal.offset):c.setEnd(_,0)}catch{st=this.fixMiss(et,$.end.terminal.offset,a,rt?o:null),c.setEnd(st.container,st.offset)}return c}isCfiString(i){return typeof i=="string"&&i.indexOf("epubcfi(")===0&&i[i.length-1]===")"}generateChapterComponent(i,o,a){var c=parseInt(o),h=(i+1)*2,g="/"+h+"/";return g+=(c+1)*2,a&&(g+="["+a+"]"),g}collapse(i){this.range&&(this.range=!1,i?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Hook{constructor(i){this.context=i||this,this.hooks=[]}register(){for(var i=0;i<arguments.length;++i)if(typeof arguments[i]=="function")this.hooks.push(arguments[i]);else for(var o=0;o<arguments[i].length;++o)this.hooks.push(arguments[i][o])}deregister(i){let o;for(let a=0;a<this.hooks.length;a++)if(o=this.hooks[a],o===i){this.hooks.splice(a,1);break}}trigger(){var i=arguments,o=this.context,a=[];return this.hooks.forEach(function(c){var h=c.apply(o,i);h&&typeof h.then=="function"&&a.push(h)}),Promise.all(a)}list(){return this.hooks}clear(){return this.hooks=[]}}function replaceBase(s,i){var o,a,c=i.url,h=c.indexOf("://")>-1;s&&(a=qs(s,"head"),o=qs(a,"base"),o||(o=s.createElement("base"),a.insertBefore(o,a.firstChild)),!h&&window&&window.location&&(c=window.location.origin+c),o.setAttribute("href",c))}function replaceCanonical(s,i){var o,a,c=i.canonical;s&&(o=qs(s,"head"),a=qs(o,"link[rel='canonical']"),a?a.setAttribute("href",c):(a=s.createElement("link"),a.setAttribute("rel","canonical"),a.setAttribute("href",c),o.appendChild(a)))}function replaceMeta(s,i){var o,a,c=i.idref;s&&(o=qs(s,"head"),a=qs(o,"link[property='dc.identifier']"),a?a.setAttribute("content",c):(a=s.createElement("meta"),a.setAttribute("name","dc.identifier"),a.setAttribute("content",c),o.appendChild(a)))}function replaceLinks(s,i){var o=s.querySelectorAll("a[href]");if(o.length)for(var a=qs(s.ownerDocument,"base"),c=a?a.getAttribute("href"):void 0,h=(function(b){var _=b.getAttribute("href");if(_.indexOf("mailto:")!==0){var $=_.indexOf("://")>-1;if($)b.setAttribute("target","_blank");else{var _e;try{_e=new Url(_,c)}catch{}b.onclick=function(){return _e&&_e.hash?i(_e.Path.path+_e.hash):i(_e?_e.Path.path:_),!1}}}}).bind(this),g=0;g<o.length;g++)h(o[g])}function substitute(s,i,o){return i.forEach(function(a,c){a&&o[c]&&(a=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=s.replace(new RegExp(a,"g"),o[c]))}),s}function request(s,i,o,a){var c=typeof window<"u"?window.URL:!1,h=c?"blob":"arraybuffer",g=new defer,b=new XMLHttpRequest,_=XMLHttpRequest.prototype,$;"overrideMimeType"in _||Object.defineProperty(_,"overrideMimeType",{value:function(){}}),o&&(b.withCredentials=!0),b.onreadystatechange=et,b.onerror=_e,b.open("GET",s,!0);for($ in a)b.setRequestHeader($,a[$]);i=="json"&&b.setRequestHeader("Accept","application/json"),i||(i=new Path(s).extension),i=="blob"&&(b.responseType=h),isXml(i)&&b.overrideMimeType("text/xml"),i=="binary"&&(b.responseType="arraybuffer"),b.send();function _e(rt){g.reject(rt)}function et(){if(this.readyState===XMLHttpRequest.DONE){var rt=!1;if((this.responseType===""||this.responseType==="document")&&(rt=this.responseXML),this.status===200||this.status===0||rt){var st;if(!this.response&&!rt)return g.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),g.promise;if(this.status===403)return g.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),g.promise;rt?st=this.responseXML:isXml(i)?st=parse(this.response,"text/xml"):i=="xhtml"?st=parse(this.response,"application/xhtml+xml"):i=="html"||i=="htm"?st=parse(this.response,"text/html"):i=="json"?st=JSON.parse(this.response):i=="blob"?c?st=this.response:st=new Blob([this.response]):st=this.response,g.resolve(st)}else g.reject({status:this.status,message:this.response,stack:new Error().stack})}}return g.promise}class Section{constructor(i,o){this.idref=i.idref,this.linear=i.linear==="yes",this.properties=i.properties,this.index=i.index,this.href=i.href,this.url=i.url,this.canonical=i.canonical,this.next=i.next,this.prev=i.prev,this.cfiBase=i.cfiBase,o?this.hooks=o:(this.hooks={},this.hooks.serialize=new Hook(this),this.hooks.content=new Hook(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(i){var o=i||this.request||request,a=new defer,c=a.promise;return this.contents?a.resolve(this.contents):o(this.url).then((function(h){return this.document=h,this.contents=h.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){a.resolve(this.contents)}).bind(this)).catch(function(h){a.reject(h)}),c}base(){return replaceBase(this.document,this)}render(i){var o=new defer,a=o.promise;return this.output,this.load(i).then((function(c){var h=typeof navigator<"u"&&navigator.userAgent||"",g=h.indexOf("Trident")>=0,b;typeof XMLSerializer>"u"||g?b=domParser.XMLDOMParser:b=XMLSerializer;var _=new b;return this.output=_.serializeToString(c),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){o.resolve(this.output)}).bind(this)).catch(function(c){o.reject(c)}),a}find(i){var o=this,a=[],c=i.toLowerCase(),h=function(g){for(var b=g.textContent.toLowerCase(),_=o.document.createRange(),$,_e,et=-1,rt,st=150;_e!=-1;)_e=b.indexOf(c,et+1),_e!=-1&&(_=o.document.createRange(),_.setStart(g,_e),_.setEnd(g,_e+c.length),$=o.cfiFromRange(_),g.textContent.length<st?rt=g.textContent:(rt=g.textContent.substring(_e-st/2,_e+st/2),rt="..."+rt+"..."),a.push({cfi:$,excerpt:rt})),et=_e};return sprint(o.document,function(g){h(g)}),a}search(i,o=5){if(typeof document.createTreeWalker>"u")return this.find(i);let a=[];const c=150,h=this,g=i.toLowerCase(),b=function(et){const lt=et.reduce((dt,nt)=>dt+nt.textContent,"").toLowerCase().indexOf(g);if(lt!=-1){const nt=lt+g.length;let tt=0,it=0;if(lt<et[0].length){let at;for(;tt<et.length-1&&(it+=et[tt].length,!(nt<=it));)tt+=1;let mt=et[0],ot=et[tt],pt=h.document.createRange();pt.setStart(mt,lt);let ht=et.slice(0,tt).reduce((xt,Tt)=>xt+Tt.textContent.length,0);pt.setEnd(ot,ht>nt?nt:nt-ht),at=h.cfiFromRange(pt);let gt=et.slice(0,tt+1).reduce((xt,Tt)=>xt+Tt.textContent,"");gt.length>c&&(gt=gt.substring(lt-c/2,lt+c/2),gt="..."+gt+"..."),a.push({cfi:at,excerpt:gt})}}},_=document.createTreeWalker(h.document,NodeFilter.SHOW_TEXT,null,!1);let $,_e=[];for(;$=_.nextNode();)_e.push($),_e.length==o&&(b(_e.slice(0,o)),_e=_e.slice(1,o));return _e.length>0&&b(_e),a}reconcileLayoutSettings(i){var o={layout:i.layout,spread:i.spread,orientation:i.orientation};return this.properties.forEach(function(a){var c=a.replace("rendition:",""),h=c.indexOf("-"),g,b;h!=-1&&(g=c.slice(0,h),b=c.slice(h+1),o[g]=b)}),o}cfiFromRange(i){return new EpubCFI(i,this.cfiBase).toString()}cfiFromElement(i){return new EpubCFI(i,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class Spine{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Hook,this.hooks.content=new Hook,this.hooks.content.register(replaceBase),this.hooks.content.register(replaceCanonical),this.hooks.content.register(replaceMeta),this.epubcfi=new EpubCFI,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(i,o,a){this.items=i.spine,this.manifest=i.manifest,this.spineNodeIndex=i.spineNodeIndex,this.baseUrl=i.baseUrl||i.basePath||"",this.length=this.items.length,this.items.forEach((c,h)=>{var g=this.manifest[c.idref],b;c.index=h,c.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,c.index,c.idref),c.href&&(c.url=o(c.href,!0),c.canonical=a(c.href)),g&&(c.href=g.href,c.url=o(c.href,!0),c.canonical=a(c.href),g.properties.length&&c.properties.push.apply(c.properties,g.properties)),c.linear==="yes"?(c.prev=(function(){let _=c.index;for(;_>0;){let $=this.get(_-1);if($&&$.linear)return $;_-=1}}).bind(this),c.next=(function(){let _=c.index;for(;_<this.spineItems.length-1;){let $=this.get(_+1);if($&&$.linear)return $;_+=1}}).bind(this)):(c.prev=function(){},c.next=function(){}),b=new Section(c,this.hooks),this.append(b)}),this.loaded=!0}get(i){var o=0;if(typeof i>"u")for(;o<this.spineItems.length;){let a=this.spineItems[o];if(a&&a.linear)break;o+=1}else this.epubcfi.isCfiString(i)?o=new EpubCFI(i).spinePos:typeof i=="number"||isNaN(i)===!1?o=i:typeof i=="string"&&i.indexOf("#")===0?o=this.spineById[i.substring(1)]:typeof i=="string"&&(i=i.split("#")[0],o=this.spineByHref[i]||this.spineByHref[encodeURI(i)]);return this.spineItems[o]||null}append(i){var o=this.spineItems.length;return i.index=o,this.spineItems.push(i),this.spineByHref[decodeURI(i.href)]=o,this.spineByHref[encodeURI(i.href)]=o,this.spineByHref[i.href]=o,this.spineById[i.idref]=o,o}prepend(i){return this.spineByHref[i.href]=0,this.spineById[i.idref]=0,this.spineItems.forEach(function(o,a){o.index=a}),0}remove(i){var o=this.spineItems.indexOf(i);if(o>-1)return delete this.spineByHref[i.href],delete this.spineById[i.idref],this.spineItems.splice(o,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let i=0;do{let o=this.get(i);if(o&&o.linear)return o;i+=1}while(i<this.spineItems.length)}last(){let i=this.spineItems.length-1;do{let o=this.get(i);if(o&&o.linear)return o;i-=1}while(i>=0)}destroy(){this.each(i=>i.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Queue{constructor(i){this._q=[],this.context=i,this.tick=requestAnimationFrame$1,this.running=!1,this.paused=!1}enqueue(){var i,o,a,c=[].shift.call(arguments),h=arguments;if(!c)throw new Error("No Task Provided");return typeof c=="function"?(i=new defer,o=i.promise,a={task:c,args:h,deferred:i,promise:o}):a={promise:c},this._q.push(a),this.paused==!1&&!this.running&&this.run(),a.promise}dequeue(){var i,o,a;if(this._q.length&&!this.paused){if(i=this._q.shift(),o=i.task,o)return a=o.apply(this.context,i.args),a&&typeof a.then=="function"?a.then((function(){i.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){i.deferred.reject.apply(this.context,arguments)}).bind(this)):(i.deferred.resolve.apply(this.context,a),i.promise);if(i.promise)return i.promise}else return i=new defer,i.deferred.resolve(),i.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new defer),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const EPUBJS_VERSION="0.3",DOM_EVENTS=["keydown","keyup","keypressed","mouseup","mousedown","click","touchend","touchstart","touchmove"],EVENTS={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Locations{constructor(i,o,a){this.spine=i,this.request=o,this.pause=a||100,this.q=new Queue(this),this.epubcfi=new EpubCFI,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(i){return i&&(this.break=i),this.q.pause(),this.spine.each((function(o){o.linear&&this.q.enqueue(this.process.bind(this),o)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(i){return i.load(this.request).then((function(o){var a=new defer,c=this.parse(o,i.cfiBase);return this._locations=this._locations.concat(c),i.unload(),this.processingTimeout=setTimeout(()=>a.resolve(c),this.pause),a.promise}).bind(this))}parse(i,o,a){var c=[],h,g=i.ownerDocument,b=qs(g,"body"),_=0,$,_e=a||this.break,et=function(rt){var st=rt.length,lt,dt=0;if(rt.textContent.trim().length===0)return!1;for(_==0&&(h=this.createRange(),h.startContainer=rt,h.startOffset=0),lt=_e-_,lt>st&&(_+=st,dt=st);dt<st;)if(lt=_e-_,_===0&&(dt+=1,h=this.createRange(),h.startContainer=rt,h.startOffset=dt),dt+lt>=st)_+=st-dt,dt=st;else{dt+=lt,h.endContainer=rt,h.endOffset=dt;let nt=new EpubCFI(h,o).toString();c.push(nt),_=0}$=rt};if(sprint(b,et.bind(this)),h&&h.startContainer&&$){h.endContainer=$,h.endOffset=$.length;let rt=new EpubCFI(h,o).toString();c.push(rt),_=0}return c}generateFromWords(i,o,a){var c=i?new EpubCFI(i):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(h){h.linear&&(c?h.index>=c.spinePos&&this.q.enqueue(this.processWords.bind(this),h,o,c,a):this.q.enqueue(this.processWords.bind(this),h,o,c,a))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(i,o,a,c){return c&&this._locationsWords.length>=c?Promise.resolve():i.load(this.request).then((function(h){var g=new defer,b=this.parseWords(h,i,o,a),_=c-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(b.length>=c?b.slice(0,_):b),i.unload(),this.processingTimeout=setTimeout(()=>g.resolve(b),this.pause),g.promise}).bind(this))}countWords(i){return i=i.replace(/(^\s*)|(\s*$)/gi,""),i=i.replace(/[ ]{2,}/gi," "),i=i.replace(/\n /,`
`),i.split(" ").length}parseWords(i,o,a,c){var h=o.cfiBase,g=[],b=i.ownerDocument,_=qs(b,"body"),$=a,_e=c?c.spinePos!==o.index:!0,et;c&&o.index===c.spinePos&&(et=c.findNode(c.range?c.path.steps.concat(c.start.steps):c.path.steps,i.ownerDocument));var rt=function(st){if(!_e)if(st===et)_e=!0;else return!1;if(st.textContent.length<10&&st.textContent.trim().length===0)return!1;var lt=this.countWords(st.textContent),dt,nt=0;if(lt===0)return!1;for(dt=$-this._wordCounter,dt>lt&&(this._wordCounter+=lt,nt=lt);nt<lt;)if(dt=$-this._wordCounter,nt+dt>=lt)this._wordCounter+=lt-nt,nt=lt;else{nt+=dt;let tt=new EpubCFI(st,h);g.push({cfi:tt.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return sprint(_,rt.bind(this)),g}locationFromCfi(i){let o;return EpubCFI.prototype.isCfiString(i)&&(i=new EpubCFI(i)),this._locations.length===0?-1:(o=locationOf(i,this._locations,this.epubcfi.compare),o>this.total?this.total:o)}percentageFromCfi(i){if(this._locations.length===0)return null;var o=this.locationFromCfi(i);return this.percentageFromLocation(o)}percentageFromLocation(i){return!i||!this.total?0:i/this.total}cfiFromLocation(i){var o=-1;return typeof i!="number"&&(i=parseInt(i)),i>=0&&i<this._locations.length&&(o=this._locations[i]),o}cfiFromPercentage(i){let o;if(i>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),i>=1){let a=new EpubCFI(this._locations[this.total]);return a.collapse(),a.toString()}return o=Math.ceil(this.total*i),this.cfiFromLocation(o)}load(i){return typeof i=="string"?this._locations=JSON.parse(i):this._locations=i,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(i){var o;if(typeof i=="string")this._currentCfi=i;else if(typeof i=="number")this._current=i;else return;this._locations.length!==0&&(typeof i=="string"?(o=this.locationFromCfi(i),this._current=o):o=i,this.emit(EVENTS.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(o)}))}get currentLocation(){return this._current}set currentLocation(i){this.setCurrent(i)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}EventEmitter(Locations.prototype);class Container{constructor(i){this.packagePath="",this.directory="",this.encoding="",i&&this.parse(i)}parse(i){var o;if(!i)throw new Error("Container File Not Found");if(o=qs(i,"rootfile"),!o)throw new Error("No RootFile Found");this.packagePath=o.getAttribute("full-path"),this.directory=path$1.dirname(this.packagePath),this.encoding=i.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class Packaging{constructor(i){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},i&&this.parse(i)}parse(i){var o,a,c;if(!i)throw new Error("Package File Not Found");if(o=qs(i,"metadata"),!o)throw new Error("No Metadata Found");if(a=qs(i,"manifest"),!a)throw new Error("No Manifest Found");if(c=qs(i,"spine"),!c)throw new Error("No Spine Found");return this.manifest=this.parseManifest(a),this.navPath=this.findNavPath(a),this.ncxPath=this.findNcxPath(a,c),this.coverPath=this.findCoverPath(i),this.spineNodeIndex=indexOfElementNode(c),this.spine=this.parseSpine(c,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(i),this.metadata=this.parseMetadata(o),this.metadata.direction=c.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(i){var o={};return o.title=this.getElementText(i,"title"),o.creator=this.getElementText(i,"creator"),o.description=this.getElementText(i,"description"),o.pubdate=this.getElementText(i,"date"),o.publisher=this.getElementText(i,"publisher"),o.identifier=this.getElementText(i,"identifier"),o.language=this.getElementText(i,"language"),o.rights=this.getElementText(i,"rights"),o.modified_date=this.getPropertyText(i,"dcterms:modified"),o.layout=this.getPropertyText(i,"rendition:layout"),o.orientation=this.getPropertyText(i,"rendition:orientation"),o.flow=this.getPropertyText(i,"rendition:flow"),o.viewport=this.getPropertyText(i,"rendition:viewport"),o.media_active_class=this.getPropertyText(i,"media:active-class"),o.spread=this.getPropertyText(i,"rendition:spread"),o}parseManifest(i){var o={},a=qsa(i,"item"),c=Array.prototype.slice.call(a);return c.forEach(function(h){var g=h.getAttribute("id"),b=h.getAttribute("href")||"",_=h.getAttribute("media-type")||"",$=h.getAttribute("media-overlay")||"",_e=h.getAttribute("properties")||"";o[g]={href:b,type:_,overlay:$,properties:_e.length?_e.split(" "):[]}}),o}parseSpine(i,o){var a=[],c=qsa(i,"itemref"),h=Array.prototype.slice.call(c);return h.forEach(function(g,b){var _=g.getAttribute("idref"),$=g.getAttribute("properties")||"",_e=$.length?$.split(" "):[],et={idref:_,linear:g.getAttribute("linear")||"yes",properties:_e,index:b};a.push(et)}),a}findUniqueIdentifier(i){var o=i.documentElement.getAttribute("unique-identifier");if(!o)return"";var a=i.getElementById(o);return a&&a.localName==="identifier"&&a.namespaceURI==="http://purl.org/dc/elements/1.1/"&&a.childNodes.length>0?a.childNodes[0].nodeValue.trim():""}findNavPath(i){var o=qsp(i,"item",{properties:"nav"});return o?o.getAttribute("href"):!1}findNcxPath(i,o){var a=qsp(i,"item",{"media-type":"application/x-dtbncx+xml"}),c;return a||(c=o.getAttribute("toc"),c&&(a=i.querySelector(`#${c}`))),a?a.getAttribute("href"):!1}findCoverPath(i){var o=qs(i,"package");o.getAttribute("version");var a=qsp(i,"item",{properties:"cover-image"});if(a)return a.getAttribute("href");var c=qsp(i,"meta",{name:"cover"});if(c){var h=c.getAttribute("content"),g=i.getElementById(h);return g?g.getAttribute("href"):""}else return!1}getElementText(i,o){var a=i.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",o),c;return!a||a.length===0?"":(c=a[0],c.childNodes.length?c.childNodes[0].nodeValue:"")}getPropertyText(i,o){var a=qsp(i,"meta",{property:o});return a&&a.childNodes.length?a.childNodes[0].nodeValue:""}load(i){this.metadata=i.metadata;let o=i.readingOrder||i.spine;return this.spine=o.map((a,c)=>(a.index=c,a.linear=a.linear||"yes",a)),i.resources.forEach((a,c)=>{this.manifest[c]=a,a.rel&&a.rel[0]==="cover"&&(this.coverPath=a.href)}),this.spineNodeIndex=0,this.toc=i.toc.map((a,c)=>(a.label=a.title,a)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Navigation{constructor(i){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,i&&this.parse(i)}parse(i){let o=i.nodeType,a,c;o&&(a=qs(i,"html"),c=qs(i,"ncx")),o?a?(this.toc=this.parseNav(i),this.landmarks=this.parseLandmarks(i)):c&&(this.toc=this.parseNcx(i)):this.toc=this.load(i),this.length=0,this.unpack(this.toc)}unpack(i){for(var o,a=0;a<i.length;a++)o=i[a],o.href&&(this.tocByHref[o.href]=a),o.id&&(this.tocById[o.id]=a),this.length++,o.subitems.length&&this.unpack(o.subitems)}get(i){var o;return i?(i.indexOf("#")===0?o=this.tocById[i.substring(1)]:i in this.tocByHref&&(o=this.tocByHref[i]),this.getByIndex(i,o,this.toc)):this.toc}getByIndex(i,o,a){if(a.length===0)return;const c=a[o];if(c&&(i===c.id||i===c.href))return c;{let h;for(let g=0;g<a.length&&(h=this.getByIndex(i,o,a[g].subitems),!h);++g);return h}}landmark(i){var o;return i?(o=this.landmarksByType[i],this.landmarks[o]):this.landmarks}parseNav(i){var o=querySelectorByType(i,"nav","toc"),a=o?qsa(o,"li"):[],c=a.length,h,g={},b=[],_,$;if(!a||c===0)return b;for(h=0;h<c;++h)_=this.navItem(a[h]),_&&(g[_.id]=_,_.parent?($=g[_.parent],$.subitems.push(_)):b.push(_));return b}navItem(i){let o=i.getAttribute("id")||void 0,a=filterChildren(i,"a");if(!a)return;let c=a.getAttribute("href")||"";o||(o=c);let h=a.textContent||"",g=[],b=getParentByTagName(i,"li"),_;if(b&&(_=b.getAttribute("id"),!_)){const $=filterChildren(b,"a");_=$&&$.getAttribute("href")}for(;!_&&b;)if(b=getParentByTagName(b,"li"),b&&(_=b.getAttribute("id"),!_)){const $=filterChildren(b,"a");_=$&&$.getAttribute("href")}return{id:o,href:c,label:h,subitems:g,parent:_}}parseLandmarks(i){var o=querySelectorByType(i,"nav","landmarks"),a=o?qsa(o,"li"):[],c=a.length,h,g=[],b;if(!a||c===0)return g;for(h=0;h<c;++h)b=this.landmarkItem(a[h]),b&&(g.push(b),this.landmarksByType[b.type]=h);return g}landmarkItem(i){let o=filterChildren(i,"a");if(!o)return;let a=o.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,c=o.getAttribute("href")||"",h=o.textContent||"";return{href:c,label:h,type:a}}parseNcx(i){var o=qsa(i,"navPoint"),a=o.length,c,h={},g=[],b,_;if(!o||a===0)return g;for(c=0;c<a;++c)b=this.ncxItem(o[c]),h[b.id]=b,b.parent?(_=h[b.parent],_.subitems.push(b)):g.push(b);return g}ncxItem(i){var o=i.getAttribute("id")||!1,a=qs(i,"content"),c=a.getAttribute("src"),h=qs(i,"navLabel"),g=h.textContent?h.textContent:"",b=[],_=i.parentNode,$;return _&&(_.nodeName==="navPoint"||_.nodeName.split(":").slice(-1)[0]==="navPoint")&&($=_.getAttribute("id")),{id:o,href:c,label:g,subitems:b,parent:$}}load(i){return i.map(o=>(o.label=o.title,o.subitems=o.children?this.load(o.children):[],o))}forEach(i){return this.toc.forEach(i)}}var table={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},mimeTypes=function(){var s,i,o,a,c={};for(s in table)if(table.hasOwnProperty(s)){for(i in table[s])if(table[s].hasOwnProperty(i))if(o=table[s][i],typeof o=="string")c[o]=s+"/"+i;else for(a=0;a<o.length;a++)c[o[a]]=s+"/"+i}return c}(),defaultValue="text/plain";function lookup(s){return s&&mimeTypes[s.split(".").pop().toLowerCase()]||defaultValue}const mime={lookup};class Resources{constructor(i,o){this.settings={replacements:o&&o.replacements||"base64",archive:o&&o.archive,resolver:o&&o.resolver,request:o&&o.request},this.process(i)}process(i){this.manifest=i,this.resources=Object.keys(i).map(function(o){return i[o]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(i){if(i.type==="application/xhtml+xml"||i.type==="text/html")return!0}),this.assets=this.resources.filter(function(i){if(i.type!=="application/xhtml+xml"&&i.type!=="text/html")return!0}),this.css=this.resources.filter(function(i){if(i.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(i){return i.href}).bind(this)),this.cssUrls=this.css.map(function(i){return i.href})}createUrl(i){var o=new Url(i),a=mime.lookup(o.filename);return this.settings.archive?this.settings.archive.createUrl(i,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(i,"blob").then(c=>blob2base64(c)).then(c=>createBase64Url(c,a)):this.settings.request(i,"blob").then(c=>createBlobUrl(c,a))}replacements(){if(this.settings.replacements==="none")return new Promise((function(o){o(this.urls)}).bind(this));var i=this.urls.map(o=>{var a=this.settings.resolver(o);return this.createUrl(a).catch(c=>(console.error(c),null))});return Promise.all(i).then(o=>(this.replacementUrls=o.filter(a=>typeof a=="string"),o))}replaceCss(i,o){var a=[];return i=i||this.settings.archive,o=o||this.settings.resolver,this.cssUrls.forEach((function(c){var h=this.createCssFile(c,i,o).then((function(g){var b=this.urls.indexOf(c);b>-1&&(this.replacementUrls[b]=g)}).bind(this));a.push(h)}).bind(this)),Promise.all(a)}createCssFile(i){var o;if(path$1.isAbsolute(i))return new Promise(function(g){g()});var a=this.settings.resolver(i),c;this.settings.archive?c=this.settings.archive.getText(a):c=this.settings.request(a,"text");var h=this.urls.map(g=>{var b=this.settings.resolver(g),_=new Path(a).relative(b);return _});return c?c.then(g=>(g=substitute(g,h,this.replacementUrls),this.settings.replacements==="base64"?o=createBase64Url(g,"text/css"):o=createBlobUrl(g,"text/css"),o),g=>new Promise(function(b){b()})):new Promise(function(g){g()})}relativeTo(i,o){return o=o||this.settings.resolver,this.urls.map((function(a){var c=o(a),h=new Path(i).relative(c);return h}).bind(this))}get(i){var o=this.urls.indexOf(i);if(o!==-1)return this.replacementUrls.length?new Promise((function(a,c){a(this.replacementUrls[o])}).bind(this)):this.createUrl(i)}substitute(i,o){var a;return o?a=this.relativeTo(o):a=this.urls,substitute(i,a,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class PageList{constructor(i){this.pages=[],this.locations=[],this.epubcfi=new EpubCFI,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,i&&(this.pageList=this.parse(i)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(i){var o=qs(i,"html"),a=qs(i,"ncx");if(o)return this.parseNav(i);if(a)return this.parseNcx(i)}parseNav(i){var o=querySelectorByType(i,"nav","page-list"),a=o?qsa(o,"li"):[],c=a.length,h,g=[],b;if(!a||c===0)return g;for(h=0;h<c;++h)b=this.item(a[h]),g.push(b);return g}parseNcx(i){var o=[],a=0,c,h,g,b=0;if(h=qs(i,"pageList"),!h||(g=qsa(h,"pageTarget"),b=g.length,!g||g.length===0))return o;for(a=0;a<b;++a)c=this.ncxItem(g[a]),o.push(c);return o}ncxItem(i){var o=qs(i,"navLabel"),a=qs(o,"text"),c=a.textContent,h=qs(i,"content"),g=h.getAttribute("src"),b=parseInt(c,10);return{href:g,page:b}}item(i){var o=qs(i,"a"),a=o.getAttribute("href")||"",c=o.textContent||"",h=parseInt(c),g=a.indexOf("epubcfi"),b,_,$;return g!=-1?(b=a.split("#"),_=b[0],$=b.length>1?b[1]:!1,{cfi:$,href:a,packageUrl:_,page:h}):{href:a,page:h}}process(i){i.forEach(function(o){this.pages.push(o.page),o.cfi&&this.locations.push(o.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(i){var o=-1;if(this.locations.length===0)return-1;var a=indexOfSorted(i,this.locations,this.epubcfi.compare);return a!=-1?o=this.pages[a]:(a=locationOf(i,this.locations,this.epubcfi.compare),o=a-1>=0?this.pages[a-1]:this.pages[0],o!==void 0||(o=-1)),o}cfiFromPage(i){var o=-1;typeof i!="number"&&(i=parseInt(i));var a=this.pages.indexOf(i);return a!=-1&&(o=this.locations[a]),o}pageFromPercentage(i){var o=Math.round(this.totalPages*i);return o}percentageFromPage(i){var o=(i-this.firstPage)/this.totalPages;return Math.round(o*1e3)/1e3}percentageFromCfi(i){var o=this.pageFromCfi(i),a=this.percentageFromPage(o);return a}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class Layout{constructor(i){this.settings=i,this.name=i.layout||"reflowable",this._spread=i.spread!=="none",this._minSpreadWidth=i.minSpreadWidth||800,this._evenSpreads=i.evenSpreads||!1,i.flow==="scrolled"||i.flow==="scrolled-continuous"||i.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(i){return typeof i<"u"&&(i==="scrolled"||i==="scrolled-continuous"||i==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(i,o){return i&&(this._spread=i!=="none",this.update({spread:this._spread})),o>=0&&(this._minSpreadWidth=o),this._spread}calculate(i,o,a){var c=1,h=a||0,g=i,b=o,_=Math.floor(g/12),$,_e,et,rt;this._spread&&g>=this._minSpreadWidth?c=2:c=1,this.name==="reflowable"&&this._flow==="paginated"&&!(a>=0)&&(h=_%2===0?_:_-1),this.name==="pre-paginated"&&(h=0),c>1?($=g/c-h,et=$+h):($=g,et=g),this.name==="pre-paginated"&&c>1&&(g=$),_e=$*c+h,rt=g,this.width=g,this.height=b,this.spreadWidth=_e,this.pageWidth=et,this.delta=rt,this.columnWidth=$,this.gap=h,this.divisor=c,this.update({width:g,height:b,spreadWidth:_e,pageWidth:et,delta:rt,columnWidth:$,gap:h,divisor:c})}format(i,o,a){var c;return this.name==="pre-paginated"?c=i.fit(this.columnWidth,this.height,o):this._flow==="paginated"?c=i.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):a&&a==="horizontal"?c=i.size(null,this.height):c=i.size(this.width,null),c}count(i,o){let a,c;return this.name==="pre-paginated"?(a=1,c=1):this._flow==="paginated"?(o=o||this.delta,a=Math.ceil(i/o),c=a*this.divisor):(o=o||this.height,a=Math.ceil(i/o),c=a),{spreads:a,pages:c}}update(i){if(Object.keys(i).forEach(o=>{this.props[o]===i[o]&&delete i[o]}),Object.keys(i).length>0){let o=extend(this.props,i);this.emit(EVENTS.LAYOUT.UPDATED,o,i)}}}EventEmitter(Layout.prototype);class Themes{constructor(i){this.rendition=i,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(i){if(i){if(typeof i=="string")return this.registerUrl("default",i);if(typeof i=="object")return this.registerRules("default",i)}}registerThemes(i){for(var o in i)i.hasOwnProperty(o)&&(typeof i[o]=="string"?this.registerUrl(o,i[o]):this.registerRules(o,i[o]))}registerCss(i,o){this._themes[i]={serialized:o},(this._injected[i]||i=="default")&&this.update(i)}registerUrl(i,o){var a=new Url(o);this._themes[i]={url:a.toString()},(this._injected[i]||i=="default")&&this.update(i)}registerRules(i,o){this._themes[i]={rules:o},(this._injected[i]||i=="default")&&this.update(i)}select(i){var o=this._current,a;this._current=i,this.update(i),a=this.rendition.getContents(),a.forEach(c=>{c.removeClass(o),c.addClass(i)})}update(i){var o=this.rendition.getContents();o.forEach(a=>{this.add(i,a)})}inject(i){var o=[],a=this._themes,c;for(var h in a)a.hasOwnProperty(h)&&(h===this._current||h==="default")&&(c=a[h],(c.rules&&Object.keys(c.rules).length>0||c.url&&o.indexOf(c.url)===-1)&&this.add(h,i),this._injected.push(h));this._current!="default"&&i.addClass(this._current)}add(i,o){var a=this._themes[i];!a||!o||(a.url?o.addStylesheet(a.url):a.serialized?(o.addStylesheetCss(a.serialized,i),a.injected=!0):a.rules&&(o.addStylesheetRules(a.rules,i),a.injected=!0))}override(i,o,a){var c=this.rendition.getContents();this._overrides[i]={value:o,priority:a===!0},c.forEach(h=>{h.css(i,this._overrides[i].value,this._overrides[i].priority)})}removeOverride(i){var o=this.rendition.getContents();delete this._overrides[i],o.forEach(a=>{a.css(i)})}overrides(i){var o=this._overrides;for(var a in o)o.hasOwnProperty(a)&&i.css(a,o[a].value,o[a].priority)}fontSize(i){this.override("font-size",i)}font(i){this.override("font-family",i,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Mapping{constructor(i,o,a,c=!1){this.layout=i,this.horizontal=a==="horizontal",this.direction=o||"ltr",this._dev=c}section(i){var o=this.findRanges(i),a=this.rangeListToCfiList(i.section.cfiBase,o);return a}page(i,o,a,c){var h=i&&i.document?i.document.body:!1,g;if(h){if(g=this.rangePairToCfiPair(o,{start:this.findStart(h,a,c),end:this.findEnd(h,a,c)}),this._dev===!0){let b=i.document,_=new EpubCFI(g.start).toRange(b),$=new EpubCFI(g.end).toRange(b),_e=b.defaultView.getSelection(),et=b.createRange();_e.removeAllRanges(),et.setStart(_.startContainer,_.startOffset),et.setEnd($.endContainer,$.endOffset),_e.addRange(et)}return g}}walk(i,o){if(!(i&&i.nodeType===Node.TEXT_NODE)){var a={acceptNode:function(_){return _.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},c=a.acceptNode;c.acceptNode=a.acceptNode;for(var h=document.createTreeWalker(i,NodeFilter.SHOW_TEXT,c,!1),g,b;(g=h.nextNode())&&(b=o(g),!b););return b}}findRanges(i){for(var o=[],a=i.contents.scrollWidth(),c=Math.ceil(a/this.layout.spreadWidth),h=c*this.layout.divisor,g=this.layout.columnWidth,b=this.layout.gap,_,$,_e=0;_e<h.pages;_e++)_=(g+b)*_e,$=g*(_e+1)+b*_e,o.push({start:this.findStart(i.document.body,_,$),end:this.findEnd(i.document.body,_,$)});return o}findStart(i,o,a){for(var c=[i],h,g,b=i;c.length;)if(h=c.shift(),g=this.walk(h,_=>{var $,_e,et,rt,st;if(st=nodeBounds(_),this.horizontal&&this.direction==="ltr"){if($=this.horizontal?st.left:st.top,_e=this.horizontal?st.right:st.bottom,$>=o&&$<=a)return _;if(_e>o)return _;b=_,c.push(_)}else if(this.horizontal&&this.direction==="rtl"){if($=st.left,_e=st.right,_e<=a&&_e>=o)return _;if($<a)return _;b=_,c.push(_)}else{if(et=st.top,rt=st.bottom,et>=o&&et<=a)return _;if(rt>o)return _;b=_,c.push(_)}}),g)return this.findTextStartRange(g,o,a);return this.findTextStartRange(b,o,a)}findEnd(i,o,a){for(var c=[i],h,g=i,b;c.length;)if(h=c.shift(),b=this.walk(h,_=>{var $,_e,et,rt,st;if(st=nodeBounds(_),this.horizontal&&this.direction==="ltr"){if($=Math.round(st.left),_e=Math.round(st.right),$>a&&g)return g;if(_e>a)return _;g=_,c.push(_)}else if(this.horizontal&&this.direction==="rtl"){if($=Math.round(this.horizontal?st.left:st.top),_e=Math.round(this.horizontal?st.right:st.bottom),_e<o&&g)return g;if($<o)return _;g=_,c.push(_)}else{if(et=Math.round(st.top),rt=Math.round(st.bottom),et>a&&g)return g;if(rt>a)return _;g=_,c.push(_)}}),b)return this.findTextEndRange(b,o,a);return this.findTextEndRange(g,o,a)}findTextStartRange(i,o,a){for(var c=this.splitTextNodeIntoRanges(i),h,g,b,_,$,_e=0;_e<c.length;_e++)if(h=c[_e],g=h.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(b=g.left,b>=o)return h}else if(this.horizontal&&this.direction==="rtl"){if($=g.right,$<=a)return h}else if(_=g.top,_>=o)return h;return c[0]}findTextEndRange(i,o,a){for(var c=this.splitTextNodeIntoRanges(i),h,g,b,_,$,_e,et,rt=0;rt<c.length;rt++){if(g=c[rt],b=g.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(_=b.left,$=b.right,_>a&&h)return h;if($>a)return g}else if(this.horizontal&&this.direction==="rtl"){if(_=b.left,$=b.right,$<o&&h)return h;if(_<o)return g}else{if(_e=b.top,et=b.bottom,_e>a&&h)return h;if(et>a)return g}h=g}return c[c.length-1]}splitTextNodeIntoRanges(i,o){var a=[],c=i.textContent||"",h=c.trim(),g,b=i.ownerDocument,_=o||" ",$=h.indexOf(_);if($===-1||i.nodeType!=Node.TEXT_NODE)return g=b.createRange(),g.selectNodeContents(i),[g];for(g=b.createRange(),g.setStart(i,0),g.setEnd(i,$),a.push(g),g=!1;$!=-1;)$=h.indexOf(_,$+1),$>0&&(g&&(g.setEnd(i,$),a.push(g)),g=b.createRange(),g.setStart(i,$+1));return g&&(g.setEnd(i,h.length),a.push(g)),a}rangePairToCfiPair(i,o){var a=o.start,c=o.end;a.collapse(!0),c.collapse(!1);let h=new EpubCFI(a,i).toString(),g=new EpubCFI(c,i).toString();return{start:h,end:g}}rangeListToCfiList(i,o){for(var a=[],c,h=0;h<o.length;h++)c=this.rangePairToCfiPair(i,o[h]),a.push(c);return a}axis(i){return i&&(this.horizontal=i==="horizontal"),this.horizontal}}const hasNavigator=typeof navigator<"u",isChrome=hasNavigator&&/Chrome/.test(navigator.userAgent),isWebkit=hasNavigator&&!isChrome&&/AppleWebKit/.test(navigator.userAgent),ELEMENT_NODE=1;class Contents{constructor(i,o,a,c){this.epubcfi=new EpubCFI,this.document=i,this.documentElement=this.document.documentElement,this.content=o||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=c||0,this.cfiBase=a||"",this.epubReadingSystem("epub.js",EPUBJS_VERSION),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return DOM_EVENTS}width(i){var o=this.content;return i&&isNumber(i)&&(i=i+"px"),i&&(o.style.width=i),parseInt(this.window.getComputedStyle(o).width)}height(i){var o=this.content;return i&&isNumber(i)&&(i=i+"px"),i&&(o.style.height=i),parseInt(this.window.getComputedStyle(o).height)}contentWidth(i){var o=this.content||this.document.body;return i&&isNumber(i)&&(i=i+"px"),i&&(o.style.width=i),parseInt(this.window.getComputedStyle(o).width)}contentHeight(i){var o=this.content||this.document.body;return i&&isNumber(i)&&(i=i+"px"),i&&(o.style.height=i),parseInt(this.window.getComputedStyle(o).height)}textWidth(){let i,o,a=this.document.createRange(),c=this.content||this.document.body,h=borders(c);return a.selectNodeContents(c),i=a.getBoundingClientRect(),o=i.width,h&&h.width&&(o+=h.width),Math.round(o)}textHeight(){let i,o,a=this.document.createRange(),c=this.content||this.document.body;return a.selectNodeContents(c),i=a.getBoundingClientRect(),o=i.bottom,Math.round(o)}scrollWidth(){var i=this.documentElement.scrollWidth;return i}scrollHeight(){var i=this.documentElement.scrollHeight;return i}overflow(i){return i&&(this.documentElement.style.overflow=i),this.window.getComputedStyle(this.documentElement).overflow}overflowX(i){return i&&(this.documentElement.style.overflowX=i),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(i){return i&&(this.documentElement.style.overflowY=i),this.window.getComputedStyle(this.documentElement).overflowY}css(i,o,a){var c=this.content||this.document.body;return o?c.style.setProperty(i,o,a?"important":""):c.style.removeProperty(i),this.window.getComputedStyle(c)[i]}viewport(i){var o=this.document.querySelector("meta[name='viewport']"),a={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},c=[],h={};if(o&&o.hasAttribute("content")){let g=o.getAttribute("content"),b=g.match(/width\s*=\s*([^,]*)/),_=g.match(/height\s*=\s*([^,]*)/),$=g.match(/initial-scale\s*=\s*([^,]*)/),_e=g.match(/minimum-scale\s*=\s*([^,]*)/),et=g.match(/maximum-scale\s*=\s*([^,]*)/),rt=g.match(/user-scalable\s*=\s*([^,]*)/);b&&b.length&&typeof b[1]<"u"&&(a.width=b[1]),_&&_.length&&typeof _[1]<"u"&&(a.height=_[1]),$&&$.length&&typeof $[1]<"u"&&(a.scale=$[1]),_e&&_e.length&&typeof _e[1]<"u"&&(a.minimum=_e[1]),et&&et.length&&typeof et[1]<"u"&&(a.maximum=et[1]),rt&&rt.length&&typeof rt[1]<"u"&&(a.scalable=rt[1])}return h=defaults(i||{},a),i&&(h.width&&c.push("width="+h.width),h.height&&c.push("height="+h.height),h.scale&&c.push("initial-scale="+h.scale),h.scalable==="no"?(c.push("minimum-scale="+h.scale),c.push("maximum-scale="+h.scale),c.push("user-scalable="+h.scalable)):(h.scalable&&c.push("user-scalable="+h.scalable),h.minimum&&c.push("minimum-scale="+h.minimum),h.maximum&&c.push("minimum-scale="+h.maximum)),o||(o=this.document.createElement("meta"),o.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(o)),o.setAttribute("content",c.join(", ")),this.window.scrollTo(0,0)),h}expand(){this.emit(EVENTS.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let i=this.textWidth(),o=this.textHeight();(i!=this._size.width||o!=this._size.height)&&(this._size={width:i,height:o},this.onResize&&this.onResize(this._size),this.emit(EVENTS.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let i=this.content;i.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",i.style.transitionDuration="0.001ms",i.style.transitionTimingFunction="linear",i.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var i=this.document.styleSheets,o=(function(b){b.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),a=0;a<i.length;a+=1){var c;try{c=i[a].cssRules}catch{return}if(!c)return;for(var h=0;h<c.length;h+=1)if(c[h].media){var g=this.window.matchMedia(c[h].media.mediaText);g.addListener(o)}}}resizeObservers(){this.observer=new ResizeObserver(i=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(o=>{this.resizeCheck()});let i={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,i)}imageLoadListeners(){for(var i=this.document.querySelectorAll("img"),o,a=0;a<i.length;a++)o=i[a],typeof o.naturalWidth<"u"&&o.naturalWidth===0&&(o.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(i,o){var a,c={left:0,top:0};if(!this.document)return c;if(this.epubcfi.isCfiString(i)){let h=new EpubCFI(i).toRange(this.document,o);if(h){try{if(!h.endContainer||h.startContainer==h.endContainer&&h.startOffset==h.endOffset){let g=h.startContainer.textContent.indexOf(" ",h.startOffset);g==-1&&(g=h.startContainer.textContent.length),h.setEnd(h.startContainer,g)}}catch(g){console.error("setting end offset to start container length failed",g)}if(h.startContainer.nodeType===Node.ELEMENT_NODE)a=h.startContainer.getBoundingClientRect(),c.left=a.left,c.top=a.top;else if(isWebkit){let g=h.startContainer,b=new Range;try{g.nodeType===ELEMENT_NODE?a=g.getBoundingClientRect():h.startOffset+2<g.length?(b.setStart(g,h.startOffset),b.setEnd(g,h.startOffset+2),a=b.getBoundingClientRect()):h.startOffset-2>0?(b.setStart(g,h.startOffset-2),b.setEnd(g,h.startOffset),a=b.getBoundingClientRect()):a=g.parentNode.getBoundingClientRect()}catch(_){console.error(_,_.stack)}}else a=h.getBoundingClientRect()}}else if(typeof i=="string"&&i.indexOf("#")>-1){let h=i.substring(i.indexOf("#")+1),g=this.document.getElementById(h);if(g)if(isWebkit){let b=new Range;b.selectNode(g),a=b.getBoundingClientRect()}else a=g.getBoundingClientRect()}return a&&(c.left=a.left,c.top=a.top),c}addStylesheet(i){return new Promise((function(o,a){var c,h=!1;if(!this.document){o(!1);return}if(c=this.document.querySelector("link[href='"+i+"']"),c){o(!0);return}c=this.document.createElement("link"),c.type="text/css",c.rel="stylesheet",c.href=i,c.onload=c.onreadystatechange=function(){!h&&(!this.readyState||this.readyState=="complete")&&(h=!0,setTimeout(()=>{o(!0)},1))},this.document.head.appendChild(c)}).bind(this))}_getStylesheetNode(i){var o;return i="epubjs-inserted-css-"+(i||""),this.document?(o=this.document.getElementById(i),o||(o=this.document.createElement("style"),o.id=i,this.document.head.appendChild(o)),o):!1}addStylesheetCss(i,o){if(!this.document||!i)return!1;var a;return a=this._getStylesheetNode(o),a.innerHTML=i,!0}addStylesheetRules(i,o){var a;if(!(!this.document||!i||i.length===0))if(a=this._getStylesheetNode(o).sheet,Object.prototype.toString.call(i)==="[object Array]")for(var c=0,h=i.length;c<h;c++){var g=1,b=i[c],_=i[c][0],$="";Object.prototype.toString.call(b[1][0])==="[object Array]"&&(b=b[1],g=0);for(var _e=b.length;g<_e;g++){var et=b[g];$+=et[0]+":"+et[1]+(et[2]?" !important":"")+`;
`}a.insertRule(_+"{"+$+"}",a.cssRules.length)}else Object.keys(i).forEach(st=>{const lt=i[st];if(Array.isArray(lt))lt.forEach(dt=>{const tt=Object.keys(dt).map(it=>`${it}:${dt[it]}`).join(";");a.insertRule(`${st}{${tt}}`,a.cssRules.length)});else{const nt=Object.keys(lt).map(tt=>`${tt}:${lt[tt]}`).join(";");a.insertRule(`${st}{${nt}}`,a.cssRules.length)}})}addScript(i){return new Promise((function(o,a){var c,h=!1;if(!this.document){o(!1);return}c=this.document.createElement("script"),c.type="text/javascript",c.async=!0,c.src=i,c.onload=c.onreadystatechange=function(){!h&&(!this.readyState||this.readyState=="complete")&&(h=!0,setTimeout(function(){o(!0)},1))},this.document.head.appendChild(c)}).bind(this))}addClass(i){var o;this.document&&(o=this.content||this.document.body,o&&o.classList.add(i))}removeClass(i){var o;this.document&&(o=this.content||this.document.body,o&&o.classList.remove(i))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),DOM_EVENTS.forEach(function(i){this.document.addEventListener(i,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(DOM_EVENTS.forEach(function(i){this.document.removeEventListener(i,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(i){this.emit(i.type,i)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(i){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var o=this.window.getSelection();this.triggerSelectedEvent(o)}).bind(this),250)}triggerSelectedEvent(i){var o,a;i&&i.rangeCount>0&&(o=i.getRangeAt(0),o.collapsed||(a=new EpubCFI(o,this.cfiBase).toString(),this.emit(EVENTS.CONTENTS.SELECTED,a),this.emit(EVENTS.CONTENTS.SELECTED_RANGE,o)))}range(i,o){var a=new EpubCFI(i);return a.toRange(this.document,o)}cfiFromRange(i,o){return new EpubCFI(i,this.cfiBase,o).toString()}cfiFromNode(i,o){return new EpubCFI(i,this.cfiBase,o).toString()}map(i){var o=new Mapping(i);return o.section()}size(i,o){var a={scale:1,scalable:"no"};this.layoutStyle("scrolling"),i>=0&&(this.width(i),a.width=i,this.css("padding","0 "+i/12+"px")),o>=0&&(this.height(o),a.height=o),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(a)}columns(i,o,a,c,h){let g=prefixed("column-axis"),b=prefixed("column-gap"),_=prefixed("column-width"),$=prefixed("column-fill"),et=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),h==="rtl"&&et==="horizontal"&&this.direction(h),this.width(i),this.height(o),this.viewport({width:i,height:o,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),et==="vertical"?(this.css("padding-top",c/2+"px",!0),this.css("padding-bottom",c/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(g,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",c/2+"px",!0),this.css("padding-right",c/2+"px",!0),this.css(g,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css($,"auto"),this.css(b,c+"px"),this.css(_,a+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(i,o,a){var c="scale("+i+")",h="";this.css("transform-origin","top left"),(o>=0||a>=0)&&(h=" translate("+(o||0)+"px, "+(a||0)+"px )"),this.css("transform",c+h)}fit(i,o,a){var c=this.viewport(),h=parseInt(c.width),g=parseInt(c.height),b=i/h,_=o/g,$=b<_?b:_;if(this.layoutStyle("paginated"),this.width(h),this.height(g),this.overflow("hidden"),this.scaler($,0,0),this.css("background-size",h*$+"px "+g*$+"px"),this.css("background-color","transparent"),a&&a.properties.includes("page-spread-left")){var _e=i-h*$;this.css("margin-left",_e+"px")}}direction(i){this.documentElement&&(this.documentElement.style.direction=i)}mapPage(i,o,a,c,h){var g=new Mapping(o,h);return g.page(this,i,a,c)}linksHandler(){replaceLinks(this.content,i=>{this.emit(EVENTS.CONTENTS.LINK_CLICKED,i)})}writingMode(i){let o=prefixed("writing-mode");return i&&this.documentElement&&(this.documentElement.style[o]=i),this.window.getComputedStyle(this.documentElement)[o]||""}layoutStyle(i){return i&&(this._layoutStyle=i,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(i,o){return navigator.epubReadingSystem={name:i,version:o,layoutStyle:this.layoutStyle(),hasFeature:function(a){switch(a){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}EventEmitter(Contents.prototype);class Annotations{constructor(i){this.rendition=i,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(i,o,a,c,h,g){let b=encodeURI(o+i),$=new EpubCFI(o).spinePos,_e=new Annotation({type:i,cfiRange:o,data:a,sectionIndex:$,cb:c,className:h,styles:g});return this._annotations[b]=_e,$ in this._annotationsBySectionIndex?this._annotationsBySectionIndex[$].push(b):this._annotationsBySectionIndex[$]=[b],this.rendition.views().forEach(rt=>{_e.sectionIndex===rt.index&&_e.attach(rt)}),_e}remove(i,o){let a=encodeURI(i+o);if(a in this._annotations){let c=this._annotations[a];if(o&&c.type!==o)return;this.rendition.views().forEach(g=>{this._removeFromAnnotationBySectionIndex(c.sectionIndex,a),c.sectionIndex===g.index&&c.detach(g)}),delete this._annotations[a]}}_removeFromAnnotationBySectionIndex(i,o){this._annotationsBySectionIndex[i]=this._annotationsAt(i).filter(a=>a!==o)}_annotationsAt(i){return this._annotationsBySectionIndex[i]}highlight(i,o,a,c,h){return this.add("highlight",i,o,a,c,h)}underline(i,o,a,c,h){return this.add("underline",i,o,a,c,h)}mark(i,o,a){return this.add("mark",i,o,a)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(i){let o=i.index;o in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[o].forEach(c=>{this._annotations[c].attach(i)})}clear(i){let o=i.index;o in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[o].forEach(c=>{this._annotations[c].detach(i)})}show(){}hide(){}}class Annotation{constructor({type:i,cfiRange:o,data:a,sectionIndex:c,cb:h,className:g,styles:b}){this.type=i,this.cfiRange=o,this.data=a,this.sectionIndex=c,this.mark=void 0,this.cb=h,this.className=g,this.styles=b}update(i){this.data=i}attach(i){let{cfiRange:o,data:a,type:c,mark:h,cb:g,className:b,styles:_}=this,$;return c==="highlight"?$=i.highlight(o,a,g,b,_):c==="underline"?$=i.underline(o,a,g,b,_):c==="mark"&&($=i.mark(o,a,g)),this.mark=$,this.emit(EVENTS.ANNOTATION.ATTACH,$),$}detach(i){let{cfiRange:o,type:a}=this,c;return i&&(a==="highlight"?c=i.unhighlight(o):a==="underline"?c=i.ununderline(o):a==="mark"&&(c=i.unmark(o))),this.mark=void 0,this.emit(EVENTS.ANNOTATION.DETACH,c),c}text(){}}EventEmitter(Annotation.prototype);var marks={},svg={};Object.defineProperty(svg,"__esModule",{value:!0});svg.createElement=createElement;function createElement(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}svg.default={createElement};var events={};Object.defineProperty(events,"__esModule",{value:!0});events.proxyMouse=proxyMouse;events.clone=clone;events.default={proxyMouse};function proxyMouse(s,i){function o(g){for(var b=i.length-1;b>=0;b--){var _=i[b],$=g.clientX,_e=g.clientY;if(g.touches&&g.touches.length&&($=g.touches[0].clientX,_e=g.touches[0].clientY),!!contains$1(_,s,$,_e)){_.dispatchEvent(clone(g));break}}}if(s.nodeName==="iframe"||s.nodeName==="IFRAME")try{this.target=s.contentDocument}catch{this.target=s}else this.target=s;for(var a=["mouseup","mousedown","click","touchstart"],c=0;c<a.length;c++){var h=a[c];this.target.addEventListener(h,function(g){return o(g)},!1)}}function clone(s){var i=Object.assign({},s,{bubbles:!1});try{return new MouseEvent(s.type,i)}catch{var o=document.createEvent("MouseEvents");return o.initMouseEvent(s.type,!1,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),o}}function contains$1(s,i,o,a){var c=i.getBoundingClientRect();function h(_e,et,rt){var st=_e.top-c.top,lt=_e.left-c.left,dt=st+_e.height,nt=lt+_e.width;return st<=rt&&lt<=et&&dt>rt&&nt>et}var g=s.getBoundingClientRect();if(!h(g,o,a))return!1;for(var b=s.getClientRects(),_=0,$=b.length;_<$;_++)if(h(b[_],o,a))return!0;return!1}var Pane_1,Highlight_1;Object.defineProperty(marks,"__esModule",{value:!0});var Underline_1=marks.Underline=Highlight_1=marks.Highlight=marks.Mark=Pane_1=marks.Pane=void 0,_get=function s(i,o,a){i===null&&(i=Function.prototype);var c=Object.getOwnPropertyDescriptor(i,o);if(c===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:s(h,o,a)}else{if("value"in c)return c.value;var g=c.get;return g===void 0?void 0:g.call(a)}},_createClass=function(){function s(i,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(i,c.key,c)}}return function(i,o,a){return o&&s(i.prototype,o),a&&s(i,a),i}}(),_svg=svg,_svg2=_interopRequireDefault(_svg),_events=events,_events2=_interopRequireDefault(_events);function _interopRequireDefault(s){return s&&s.__esModule?s:{default:s}}function _possibleConstructorReturn(s,i){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:s}function _inherits(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);s.prototype=Object.create(i&&i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(s,i):s.__proto__=i)}function _classCallCheck(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}Pane_1=marks.Pane=function(){function s(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;_classCallCheck(this,s),this.target=i,this.element=_svg2.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),_events2.default.proxyMouse(this.target,this.marks),this.container=o,this.container.appendChild(this.element),this.render()}return _createClass(s,[{key:"addMark",value:function(o){var a=_svg2.default.createElement("g");return this.element.appendChild(a),o.bind(a,this.container),this.marks.push(o),o.render(),o}},{key:"removeMark",value:function(o){var a=this.marks.indexOf(o);if(a!==-1){var c=o.unbind();this.element.removeChild(c),this.marks.splice(a,1)}}},{key:"render",value:function(){setCoords(this.element,coords(this.target,this.container));var o=!0,a=!1,c=void 0;try{for(var h=this.marks[Symbol.iterator](),g;!(o=(g=h.next()).done);o=!0){var b=g.value;b.render()}}catch(_){a=!0,c=_}finally{try{!o&&h.return&&h.return()}finally{if(a)throw c}}}}]),s}();var Mark=marks.Mark=function(){function s(){_classCallCheck(this,s),this.element=null}return _createClass(s,[{key:"bind",value:function(o,a){this.element=o,this.container=a}},{key:"unbind",value:function(){var o=this.element;return this.element=null,o}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(o){this.element&&this.element.dispatchEvent(o)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var o=[],a=this.element.firstChild;a;)o.push(a.getBoundingClientRect()),a=a.nextSibling;return o}},{key:"filteredRanges",value:function(){var o=Array.from(this.range.getClientRects());return o.filter(function(a){for(var c=0;c<o.length;c++){if(o[c]===a)return!0;var h=contains(o[c],a);if(h)return!1}return!0})}}]),s}(),Highlight=Highlight_1=marks.Highlight=function(s){_inherits(i,s);function i(o,a,c,h){_classCallCheck(this,i);var g=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return g.range=o,g.className=a,g.data=c||{},g.attributes=h||{},g}return _createClass(i,[{key:"bind",value:function(a,c){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"bind",this).call(this,a,c);for(var h in this.data)this.data.hasOwnProperty(h)&&(this.element.dataset[h]=this.data[h]);for(var h in this.attributes)this.attributes.hasOwnProperty(h)&&this.element.setAttribute(h,this.attributes[h]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var a=this.element.ownerDocument.createDocumentFragment(),c=this.filteredRanges(),h=this.element.getBoundingClientRect(),g=this.container.getBoundingClientRect(),b=0,_=c.length;b<_;b++){var $=c[b],_e=_svg2.default.createElement("rect");_e.setAttribute("x",$.left-h.left+g.left),_e.setAttribute("y",$.top-h.top+g.top),_e.setAttribute("height",$.height),_e.setAttribute("width",$.width),a.appendChild(_e)}this.element.appendChild(a)}}]),i}(Mark);Underline_1=marks.Underline=function(s){_inherits(i,s);function i(o,a,c,h){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o,a,c,h))}return _createClass(i,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var a=this.element.ownerDocument.createDocumentFragment(),c=this.filteredRanges(),h=this.element.getBoundingClientRect(),g=this.container.getBoundingClientRect(),b=0,_=c.length;b<_;b++){var $=c[b],_e=_svg2.default.createElement("rect");_e.setAttribute("x",$.left-h.left+g.left),_e.setAttribute("y",$.top-h.top+g.top),_e.setAttribute("height",$.height),_e.setAttribute("width",$.width),_e.setAttribute("fill","none");var et=_svg2.default.createElement("line");et.setAttribute("x1",$.left-h.left+g.left),et.setAttribute("x2",$.left-h.left+g.left+$.width),et.setAttribute("y1",$.top-h.top+g.top+$.height-1),et.setAttribute("y2",$.top-h.top+g.top+$.height-1),et.setAttribute("stroke-width",1),et.setAttribute("stroke","black"),et.setAttribute("stroke-linecap","square"),a.appendChild(_e),a.appendChild(et)}this.element.appendChild(a)}}]),i}(Highlight);function coords(s,i){var o=i.getBoundingClientRect(),a=s.getBoundingClientRect();return{top:a.top-o.top,left:a.left-o.left,height:s.scrollHeight,width:s.scrollWidth}}function setCoords(s,i){s.style.setProperty("top",i.top+"px","important"),s.style.setProperty("left",i.left+"px","important"),s.style.setProperty("height",i.height+"px","important"),s.style.setProperty("width",i.width+"px","important")}function contains(s,i){return i.right<=s.right&&i.left>=s.left&&i.top>=s.top&&i.bottom<=s.bottom}class IframeView{constructor(i,o){this.settings=extend({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1},o||{}),this.id="epubjs-view-"+uuid(),this.section=i,this.index=i.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new EpubCFI,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(i){var o=document.createElement("div");return o.classList.add("epub-view"),o.style.height="0px",o.style.width="0px",o.style.overflow="hidden",o.style.position="relative",o.style.display="block",i&&i=="horizontal"?o.style.flex="none":o.style.flex="initial",o}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=bounds(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(i,o){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(i)),this.sectionRender.then((function(a){return this.load(a)}).bind(this)).then((function(){let a=this.contents.writingMode(),c;return this.settings.flow==="scrolled"?c=a.indexOf("vertical")===0?"horizontal":"vertical":c=a.indexOf("vertical")===0?"vertical":"horizontal",a.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(c),this.emit(EVENTS.VIEWS.AXIS,c),this.setWritingMode(a),this.emit(EVENTS.VIEWS.WRITING_MODE,a),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((h,g)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),h()})}).bind(this),(function(a){return this.emit(EVENTS.VIEWS.LOAD_ERROR,a),new Promise((c,h)=>{h(a)})}).bind(this)).then((function(){this.emit(EVENTS.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(i,o){var a=i||this.settings.width,c=o||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",a,c):this.settings.axis==="horizontal"?this.lock("height",a,c):this.lock("width",a,c),this.settings.width=a,this.settings.height=c}lock(i,o,a){var c=borders(this.element),h;this.iframe?h=borders(this.iframe):h={width:0,height:0},i=="width"&&isNumber(o)&&(this.lockedWidth=o-c.width-h.width),i=="height"&&isNumber(a)&&(this.lockedHeight=a-c.height-h.height),i==="both"&&isNumber(o)&&isNumber(a)&&(this.lockedWidth=o-c.width-h.width,this.lockedHeight=a-c.height-h.height),this.displayed&&this.iframe&&this.expand()}expand(i){var o=this.lockedWidth,a=this.lockedHeight,c;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(o=this.layout.columnWidth,a=this.layout.height):this.settings.axis==="horizontal"?(o=this.contents.textWidth(),o%this.layout.pageWidth>0&&(o=Math.ceil(o/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(c=o/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&c%2>0&&(o+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(a=this.contents.textHeight(),this.settings.flow==="paginated"&&a%this.layout.height>0&&(a=Math.ceil(a/this.layout.height)*this.layout.height)),(this._needsReframe||o!=this._width||a!=this._height)&&this.reframe(o,a),this._expanding=!1)}reframe(i,o){var a;isNumber(i)&&(this.element.style.width=i+"px",this.iframe.style.width=i+"px",this._width=i),isNumber(o)&&(this.element.style.height=o+"px",this.iframe.style.height=o+"px",this._height=o);let c=this.prevBounds?i-this.prevBounds.width:i,h=this.prevBounds?o-this.prevBounds.height:o;a={width:i,height:o,widthDelta:c,heightDelta:h},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let g;for(let b in this.marks)this.marks.hasOwnProperty(b)&&(g=this.marks[b],this.placeMark(g.element,g.range))}),this.onResize(this,a),this.emit(EVENTS.VIEWS.RESIZED,a),this.prevBounds=a,this.elementBounds=bounds(this.element)}load(i){var o=new defer,a=o.promise;if(!this.iframe)return o.reject(new Error("No Iframe Available")),a;if(this.iframe.onload=(function(h){this.onLoad(h,o)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=createBlobUrl(i,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=i,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return o.reject(new Error("No Document Available")),a;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var c=this;MSApp.execUnsafeLocalFunction(function(){c.iframe.contentDocument.write(i)})}else this.iframe.contentDocument.write(i);this.iframe.contentDocument.close()}return a}onLoad(i,o){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Contents(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var a=this.document.querySelector("link[rel='canonical']");a?a.setAttribute("href",this.section.canonical):(a=this.document.createElement("link"),a.setAttribute("rel","canonical"),a.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(a)),this.contents.on(EVENTS.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(EVENTS.CONTENTS.RESIZE,c=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),o.resolve(this.contents)}setLayout(i){this.layout=i,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(i){this.settings.axis=i,i=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(i){this.writingMode=i}addListeners(){}removeListeners(i){}display(i){var o=new defer;return this.displayed?o.resolve(this):this.render(i).then((function(){this.emit(EVENTS.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,o.resolve(this)}).bind(this),function(a){o.reject(a,this)}),o.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(EVENTS.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(EVENTS.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(i){this.iframe.getBoundingClientRect();var o=this.contents.locationOf(i,this.settings.ignoreClass);return{left:o.left,top:o.top}}onDisplayed(i){}onResize(i,o){}bounds(i){return(i||!this.elementBounds)&&(this.elementBounds=bounds(this.element)),this.elementBounds}highlight(i,o={},a,c="epubjs-hl",h={}){if(!this.contents)return;const g=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},h);let b=this.contents.range(i),_=()=>{this.emit(EVENTS.VIEWS.MARK_CLICKED,i,o)};o.epubcfi=i,this.pane||(this.pane=new Pane_1(this.iframe,this.element));let $=new Highlight_1(b,c,o,g),_e=this.pane.addMark($);return this.highlights[i]={mark:_e,element:_e.element,listeners:[_,a]},_e.element.setAttribute("ref",c),_e.element.addEventListener("click",_),_e.element.addEventListener("touchstart",_),a&&(_e.element.addEventListener("click",a),_e.element.addEventListener("touchstart",a)),_e}underline(i,o={},a,c="epubjs-ul",h={}){if(!this.contents)return;const g=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},h);let b=this.contents.range(i),_=()=>{this.emit(EVENTS.VIEWS.MARK_CLICKED,i,o)};o.epubcfi=i,this.pane||(this.pane=new Pane_1(this.iframe,this.element));let $=new Underline_1(b,c,o,g),_e=this.pane.addMark($);return this.underlines[i]={mark:_e,element:_e.element,listeners:[_,a]},_e.element.setAttribute("ref",c),_e.element.addEventListener("click",_),_e.element.addEventListener("touchstart",_),a&&(_e.element.addEventListener("click",a),_e.element.addEventListener("touchstart",a)),_e}mark(i,o={},a){if(!this.contents)return;if(i in this.marks)return this.marks[i];let c=this.contents.range(i);if(!c)return;let h=c.commonAncestorContainer,g=h.nodeType===1?h:h.parentNode,b=$=>{this.emit(EVENTS.VIEWS.MARK_CLICKED,i,o)};c.collapsed&&h.nodeType===1?(c=new Range,c.selectNodeContents(h)):c.collapsed&&(c=new Range,c.selectNodeContents(g));let _=this.document.createElement("a");return _.setAttribute("ref","epubjs-mk"),_.style.position="absolute",_.dataset.epubcfi=i,o&&Object.keys(o).forEach($=>{_.dataset[$]=o[$]}),a&&(_.addEventListener("click",a),_.addEventListener("touchstart",a)),_.addEventListener("click",b),_.addEventListener("touchstart",b),this.placeMark(_,c),this.element.appendChild(_),this.marks[i]={element:_,range:c,listeners:[b,a]},g}placeMark(i,o){let a,c,h;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let b=o.getBoundingClientRect();a=b.top,c=b.right}else{let b=o.getClientRects(),_;for(var g=0;g!=b.length;g++)_=b[g],(!h||_.left<h)&&(h=_.left,c=Math.ceil(h/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,a=_.top)}i.style.top=`${a}px`,i.style.left=`${c}px`}unhighlight(i){let o;i in this.highlights&&(o=this.highlights[i],this.pane.removeMark(o.mark),o.listeners.forEach(a=>{a&&(o.element.removeEventListener("click",a),o.element.removeEventListener("touchstart",a))}),delete this.highlights[i])}ununderline(i){let o;i in this.underlines&&(o=this.underlines[i],this.pane.removeMark(o.mark),o.listeners.forEach(a=>{a&&(o.element.removeEventListener("click",a),o.element.removeEventListener("touchstart",a))}),delete this.underlines[i])}unmark(i){let o;i in this.marks&&(o=this.marks[i],this.element.removeChild(o.element),o.listeners.forEach(a=>{a&&(o.element.removeEventListener("click",a),o.element.removeEventListener("touchstart",a))}),delete this.marks[i])}destroy(){for(let i in this.highlights)this.unhighlight(i);for(let i in this.underlines)this.ununderline(i);for(let i in this.marks)this.unmark(i);this.blobUrl&&revokeBlobUrl(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}EventEmitter(IframeView.prototype);function scrollType(){var s="reverse",i=createDefiner();return document.body.appendChild(i),i.scrollLeft>0?s="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(i.children[0].children[1].scrollIntoView(),i.scrollLeft<0&&(s="negative")):(i.scrollLeft=1,i.scrollLeft===0&&(s="negative")),document.body.removeChild(i),s}function createDefiner(){var s=document.createElement("div");s.dir="rtl",s.style.position="fixed",s.style.width="1px",s.style.height="1px",s.style.top="0px",s.style.left="0px",s.style.overflow="hidden";var i=document.createElement("div");i.style.width="2px";var o=document.createElement("span");o.style.width="1px",o.style.display="inline-block";var a=document.createElement("span");return a.style.width="1px",a.style.display="inline-block",i.appendChild(o),i.appendChild(a),s.appendChild(i),s}function isObject$3(s){var i=typeof s;return s!=null&&(i=="object"||i=="function")}var isObject_1=isObject$3,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),_root=root$2,root$1=_root,now$1=function(){return root$1.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(s){for(var i=s.length;i--&&reWhitespace.test(s.charAt(i)););return i}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(s){return s&&s.slice(0,trimmedEndIndex(s)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root=_root,Symbol$3=root.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(s){var i=hasOwnProperty$1.call(s,symToStringTag$1),o=s[symToStringTag$1];try{s[symToStringTag$1]=void 0;var a=!0}catch{}var c=nativeObjectToString$1.call(s);return a&&(i?s[symToStringTag$1]=o:delete s[symToStringTag$1]),c}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1(s){return nativeObjectToString.call(s)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$1(s){return s==null?s===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(s)?getRawTag(s):objectToString(s)}var _baseGetTag=baseGetTag$1;function isObjectLike$1(s){return s!=null&&typeof s=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(s){return typeof s=="symbol"||isObjectLike(s)&&baseGetTag(s)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(s){if(typeof s=="number")return s;if(isSymbol(s))return NAN;if(isObject$2(s)){var i=typeof s.valueOf=="function"?s.valueOf():s;s=isObject$2(i)?i+"":i}if(typeof s!="string")return s===0?s:+s;s=baseTrim(s);var o=reIsBinary.test(s);return o||reIsOctal.test(s)?freeParseInt(s.slice(2),o?2:8):reIsBadHex.test(s)?NAN:+s}var toNumber_1=toNumber$1,isObject$1=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(s,i,o){var a,c,h,g,b,_,$=0,_e=!1,et=!1,rt=!0;if(typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT$1);i=toNumber(i)||0,isObject$1(o)&&(_e=!!o.leading,et="maxWait"in o,h=et?nativeMax(toNumber(o.maxWait)||0,i):h,rt="trailing"in o?!!o.trailing:rt);function st(pt){var ht=a,gt=c;return a=c=void 0,$=pt,g=s.apply(gt,ht),g}function lt(pt){return $=pt,b=setTimeout(tt,i),_e?st(pt):g}function dt(pt){var ht=pt-_,gt=pt-$,xt=i-ht;return et?nativeMin(xt,h-gt):xt}function nt(pt){var ht=pt-_,gt=pt-$;return _===void 0||ht>=i||ht<0||et&&gt>=h}function tt(){var pt=now();if(nt(pt))return it(pt);b=setTimeout(tt,dt(pt))}function it(pt){return b=void 0,rt&&a?st(pt):(a=c=void 0,g)}function at(){b!==void 0&&clearTimeout(b),$=0,a=_=c=b=void 0}function mt(){return b===void 0?g:it(now())}function ot(){var pt=now(),ht=nt(pt);if(a=arguments,c=this,_=pt,ht){if(b===void 0)return lt(_);if(et)return clearTimeout(b),b=setTimeout(tt,i),st(_)}return b===void 0&&(b=setTimeout(tt,i)),g}return ot.cancel=at,ot.flush=mt,ot}var debounce_1=debounce$1;const debounce$2=getDefaultExportFromCjs(debounce_1);var debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(s,i,o){var a=!0,c=!0;if(typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(o)&&(a="leading"in o?!!o.leading:a,c="trailing"in o?!!o.trailing:c),debounce(s,i,{leading:a,maxWait:i,trailing:c})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);class Stage{constructor(i){this.settings=i||{},this.id="epubjs-container-"+uuid(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(i){let o=i.height,a=i.width,c=i.overflow||!1,h=i.axis||"vertical",g=i.direction;extend(this.settings,i),i.height&&isNumber(i.height)&&(o=i.height+"px"),i.width&&isNumber(i.width)&&(a=i.width+"px");let b=document.createElement("div");return b.id=this.id,b.classList.add("epub-container"),b.style.wordSpacing="0",b.style.lineHeight="0",b.style.verticalAlign="top",b.style.position="relative",h==="horizontal"&&(b.style.display="flex",b.style.flexDirection="row",b.style.flexWrap="nowrap"),a&&(b.style.width=a),o&&(b.style.height=o),c&&(c==="scroll"&&h==="vertical"?(b.style["overflow-y"]=c,b.style["overflow-x"]="hidden"):c==="scroll"&&h==="horizontal"?(b.style["overflow-y"]="hidden",b.style["overflow-x"]=c):b.style.overflow=c),g&&(b.dir=g,b.style.direction=g),g&&this.settings.fullsize&&(document.body.style.direction=g),b}wrap(i){var o=document.createElement("div");return o.style.visibility="hidden",o.style.overflow="hidden",o.style.width="0",o.style.height="0",o.appendChild(i),o}getElement(i){var o;if(isElement(i)?o=i:typeof i=="string"&&(o=document.getElementById(i)),!o)throw new Error("Not an Element");return o}attachTo(i){var o=this.getElement(i),a;if(o)return this.settings.hidden?a=this.wrapper:a=this.container,o.appendChild(a),this.element=o,o}getContainer(){return this.container}onResize(i){(!isNumber(this.settings.width)||!isNumber(this.settings.height))&&(this.resizeFunc=throttle$1(i,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(i){this.orientationChangeFunc=i,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(i,o){var a;let c=i||this.settings.width,h=o||this.settings.height;i===null?(a=this.element.getBoundingClientRect(),a.width&&(i=Math.floor(a.width),this.container.style.width=i+"px")):isNumber(i)?this.container.style.width=i+"px":this.container.style.width=i,o===null?(a=a||this.element.getBoundingClientRect(),a.height&&(o=a.height,this.container.style.height=o+"px")):isNumber(o)?this.container.style.height=o+"px":this.container.style.height=o,isNumber(i)||(i=this.container.clientWidth),isNumber(o)||(o=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let g=windowBounds(),b=window.getComputedStyle(document.body),_={left:parseFloat(b["padding-left"])||0,right:parseFloat(b["padding-right"])||0,top:parseFloat(b["padding-top"])||0,bottom:parseFloat(b["padding-bottom"])||0};return c||(i=g.width-_.left-_.right),(this.settings.fullsize&&!h||!h)&&(o=g.height-_.top-_.bottom),{width:i-this.containerPadding.left-this.containerPadding.right,height:o-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let i;return this.container.style.overflow!=="visible"&&(i=this.container&&this.container.getBoundingClientRect()),!i||!i.width||!i.height?windowBounds():i}getSheet(){var i=document.createElement("style");return i.appendChild(document.createTextNode("")),document.head.appendChild(i),i.sheet}addStyleRules(i,o){var a="#"+this.id+" ",c="";this.sheet||(this.sheet=this.getSheet()),o.forEach(function(h){for(var g in h)h.hasOwnProperty(g)&&(c+=g+":"+h[g]+";")}),this.sheet.insertRule(a+i+" {"+c+"}",0)}axis(i){i==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=i}direction(i){this.container&&(this.container.dir=i,this.container.style.direction=i),this.settings.fullsize&&(document.body.style.direction=i),this.settings.dir=i}overflow(i){this.container&&(i==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=i,this.container.style["overflow-x"]="hidden"):i==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=i):this.container.style.overflow=i),this.settings.overflow=i}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Views{constructor(i){this.container=i,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(i){return this._views.indexOf(i)}slice(){return this._views.slice.apply(this._views,arguments)}get(i){return this._views[i]}append(i){return this._views.push(i),this.container&&this.container.appendChild(i.element),this.length++,i}prepend(i){return this._views.unshift(i),this.container&&this.container.insertBefore(i.element,this.container.firstChild),this.length++,i}insert(i,o){return this._views.splice(o,0,i),this.container&&(o<this.container.children.length?this.container.insertBefore(i.element,this.container.children[o]):this.container.appendChild(i.element)),this.length++,i}remove(i){var o=this._views.indexOf(i);o>-1&&this._views.splice(o,1),this.destroy(i),this.length--}destroy(i){i.displayed&&i.destroy(),this.container&&this.container.removeChild(i.element),i=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var i,o=this.length;if(this.length){for(var a=0;a<o;a++)i=this._views[a],this.destroy(i);this._views=[],this.length=0}}find(i){for(var o,a=this.length,c=0;c<a;c++)if(o=this._views[c],o.displayed&&o.section.index==i.index)return o}displayed(){for(var i=[],o,a=this.length,c=0;c<a;c++)o=this._views[c],o.displayed&&i.push(o);return i}show(){for(var i,o=this.length,a=0;a<o;a++)i=this._views[a],i.displayed&&i.show();this.hidden=!1}hide(){for(var i,o=this.length,a=0;a<o;a++)i=this._views[a],i.displayed&&i.hide();this.hidden=!0}}class DefaultViewManager{constructor(i){this.name="default",this.optsSettings=i.settings,this.View=i.view,this.request=i.request,this.renditionQueue=i.queue,this.q=new Queue(this),this.settings=extend(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0}),extend(this.settings,i.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0},this.rendered=!1}render(i,o){let a=i.tagName;typeof this.settings.fullsize>"u"&&a&&(a.toLowerCase()=="body"||a.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=o,this.settings.rtlScrollType=scrollType(),this.stage=new Stage({width:o.width,height:o.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(i),this.container=this.stage.getContainer(),this.views=new Views(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var i;window.addEventListener("unload",(function(o){this.destroy()}).bind(this)),this.settings.fullsize?i=window:i=this.container,this._onScroll=this.onScroll.bind(this),i.addEventListener("scroll",this._onScroll)}removeEventListeners(){var i;this.settings.fullsize?i=window:i=this.container,i.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(i){let{orientation:o}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(EVENTS.MANAGERS.ORIENTATION_CHANGE,o)}).bind(this),500)}onResized(i){this.resize()}resize(i,o,a){let c=this.stage.size(i,o);if(this.winBounds=windowBounds(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===c.width&&this._stageSize.height===c.height||(this._stageSize=c,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(EVENTS.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},a))}createView(i,o){return new this.View(i,extend(this.viewSettings,{forceRight:o}))}handleNextPrePaginated(i,o,a){let c;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(i||o.index===0)return;if(c=o.next(),c&&!c.properties.includes("page-spread-left"))return a.call(this,c)}}display(i,o){var a=new defer,c=a.promise;(o===i.href||isNumber(o))&&(o=void 0);var h=this.views.find(i);if(h&&i&&this.layout.name!=="pre-paginated"){let b=h.offset();if(this.settings.direction==="ltr")this.scrollTo(b.left,b.top,!0);else{let _=h.width();this.scrollTo(b.left+_,b.top,!0)}if(o){let _=h.locationOf(o);this.moveTo(_)}return a.resolve(),c}this.clear();let g=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&i.properties.includes("page-spread-right")&&(g=!0),this.add(i,g).then((function(b){if(o){let _=b.locationOf(o);this.moveTo(_)}}).bind(this),b=>{a.reject(b)}).then((function(){return this.handleNextPrePaginated(g,i,this.add)}).bind(this)).then((function(){this.views.show(),a.resolve()}).bind(this)),c}afterDisplayed(i){this.emit(EVENTS.MANAGERS.ADDED,i)}afterResized(i){this.emit(EVENTS.MANAGERS.RESIZE,i.section)}moveTo(i){var o=0,a=0;this.isPaginated?(o=Math.floor(i.left/this.layout.delta)*this.layout.delta,o+this.layout.delta>this.container.scrollWidth&&(o=this.container.scrollWidth-this.layout.delta)):a=i.top,this.scrollTo(o,a,!0)}add(i,o){var a=this.createView(i,o);return this.views.append(a),a.onDisplayed=this.afterDisplayed.bind(this),a.onResize=this.afterResized.bind(this),a.on(EVENTS.VIEWS.AXIS,c=>{this.updateAxis(c)}),a.on(EVENTS.VIEWS.WRITING_MODE,c=>{this.updateWritingMode(c)}),a.display(this.request)}append(i,o){var a=this.createView(i,o);return this.views.append(a),a.onDisplayed=this.afterDisplayed.bind(this),a.onResize=this.afterResized.bind(this),a.on(EVENTS.VIEWS.AXIS,c=>{this.updateAxis(c)}),a.on(EVENTS.VIEWS.WRITING_MODE,c=>{this.updateWritingMode(c)}),a.display(this.request)}prepend(i,o){var a=this.createView(i,o);return a.on(EVENTS.VIEWS.RESIZED,c=>{this.counter(c)}),this.views.prepend(a),a.onDisplayed=this.afterDisplayed.bind(this),a.onResize=this.afterResized.bind(this),a.on(EVENTS.VIEWS.AXIS,c=>{this.updateAxis(c)}),a.on(EVENTS.VIEWS.WRITING_MODE,c=>{this.updateWritingMode(c)}),a.display(this.request)}counter(i){this.settings.axis==="vertical"?this.scrollBy(0,i.heightDelta,!0):this.scrollBy(i.widthDelta,0,!0)}next(){var i,o;let a=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!a||a==="ltr")?(this.scrollLeft=this.container.scrollLeft,o=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,o<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):i=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&a==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(o=this.container.scrollLeft,o>0?this.scrollBy(this.layout.delta,0,!0):i=this.views.last().section.next()):(o=this.container.scrollLeft+this.layout.delta*-1,o>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):i=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):i=this.views.last().section.next()):i=this.views.last().section.next(),i)){this.clear();let c=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&i.properties.includes("page-spread-right")&&(c=!0),this.append(i,c).then((function(){return this.handleNextPrePaginated(c,i,this.append)}).bind(this),h=>h).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var i,o;let a=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!a||a==="ltr")?(this.scrollLeft=this.container.scrollLeft,o=this.container.scrollLeft,o>0?this.scrollBy(-this.layout.delta,0,!0):i=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&a==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(o=this.container.scrollLeft+this.container.offsetWidth,o<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):i=this.views.first().section.prev()):(o=this.container.scrollLeft,o<0?this.scrollBy(-this.layout.delta,0,!0):i=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):i=this.views.first().section.prev()):i=this.views.first().section.prev(),i)){this.clear();let c=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof i.prev()!="object"&&(c=!0),this.prepend(i,c).then((function(){var h;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(h=i.prev(),h))return this.prepend(h)}).bind(this),h=>h).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var i=this.visible();return i.length?i[i.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let i=this.visible(),o=this.container.getBoundingClientRect(),a=o.height<window.innerHeight?o.height:window.innerHeight,c=o.width<window.innerWidth?o.width:window.innerWidth,h=this.settings.axis==="vertical";this.settings.direction;let g=0,b=0;return this.settings.fullsize&&(g=h?window.scrollY:window.scrollX),i.map($=>{let{index:_e,href:et}=$.section,rt=$.position(),st=$.width(),lt=$.height(),dt,nt,tt,it;h?(dt=g+o.top-rt.top+b,nt=dt+a-b,it=this.layout.count(lt,a).pages,tt=a):(dt=g+o.left-rt.left+b,nt=dt+c-b,it=this.layout.count(st,c).pages,tt=c);let at=Math.ceil(dt/tt),mt=[],ot=Math.ceil(nt/tt);if(this.settings.direction==="rtl"&&!h){let gt=at;at=it-ot,ot=it-gt}mt=[];for(var pt=at;pt<=ot;pt++){let gt=pt+1;mt.push(gt)}let ht=this.mapping.page($.contents,$.section.cfiBase,dt,nt);return{index:_e,href:et,pages:mt,totalPages:it,mapping:ht}})}paginatedLocation(){let i=this.visible(),o=this.container.getBoundingClientRect(),a=0,c=0;return this.settings.fullsize&&(a=window.scrollX),i.map(g=>{let{index:b,href:_}=g.section,$,_e=g.position(),et=g.width(),rt,st,lt;this.settings.direction==="rtl"?($=o.right-a,lt=Math.min(Math.abs($-_e.left),this.layout.width)-c,st=_e.width-(_e.right-$)-c,rt=st-lt):($=o.left+a,lt=Math.min(_e.right-$,this.layout.width)-c,rt=$-_e.left+c,st=rt+lt),c+=lt;let dt=this.mapping.page(g.contents,g.section.cfiBase,rt,st),nt=this.layout.count(et).pages,tt=Math.floor(rt/this.layout.pageWidth),it=[],at=Math.floor(st/this.layout.pageWidth);if(tt<0&&(tt=0,at=at+1),this.settings.direction==="rtl"){let ot=tt;tt=nt-at,at=nt-ot}for(var mt=tt+1;mt<=at;mt++){let ot=mt;it.push(ot)}return{index:b,href:_,pages:it,totalPages:nt,mapping:dt}})}isVisible(i,o,a,c){var h=i.position(),g=c||this.bounds();return this.settings.axis==="horizontal"&&h.right>g.left-o&&h.left<g.right+a?!0:this.settings.axis==="vertical"&&h.bottom>g.top-o&&h.top<g.bottom+a}visible(){for(var i=this.bounds(),o=this.views.displayed(),a=o.length,c=[],h,g,b=0;b<a;b++)g=o[b],h=this.isVisible(g,0,0,i),h===!0&&c.push(g);return c}scrollBy(i,o,a){let c=this.settings.direction==="rtl"?-1:1;a&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(i*c,o*c):(i&&(this.container.scrollLeft+=i*c),o&&(this.container.scrollTop+=o)),this.scrolled=!0}scrollTo(i,o,a){a&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(i,o):(this.container.scrollLeft=i,this.container.scrollTop=o),this.scrolled=!0}onScroll(){let i,o;this.settings.fullsize?(i=window.scrollY,o=window.scrollX):(i=this.container.scrollTop,o=this.container.scrollLeft),this.scrollTop=i,this.scrollLeft=o,this.ignore?this.ignore=!1:(this.emit(EVENTS.MANAGERS.SCROLL,{top:i,left:o}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var i;return i=this.stage.bounds(),i}applyLayout(i){this.layout=i,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(i){this.viewSettings.layout=i,this.mapping=new Mapping(i.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(o){o&&o.setLayout(i)})}updateWritingMode(i){this.writingMode=i}updateAxis(i,o){!o&&i===this.settings.axis||(this.settings.axis=i,this.stage&&this.stage.axis(i),this.viewSettings.axis=i,this.mapping&&(this.mapping=new Mapping(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(i==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(i,o="auto"){let a=i==="paginated"||i==="auto";this.isPaginated=a,i==="scrolled-doc"||i==="scrolled-continuous"||i==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=i,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=a?"hidden":o,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var i=[];return this.views&&this.views.forEach(function(o){const a=o&&o.contents;a&&i.push(a)}),i}direction(i="ltr"){this.settings.direction=i,this.stage&&this.stage.direction(i),this.viewSettings.direction=i,this.updateLayout()}isRendered(){return this.rendered}}EventEmitter(DefaultViewManager.prototype);const PI_D2=Math.PI/2,EASING_EQUATIONS={easeOutSine:function(s){return Math.sin(s*PI_D2)},easeInOutSine:function(s){return-.5*(Math.cos(Math.PI*s)-1)},easeInOutQuint:function(s){return(s/=.5)<1?.5*Math.pow(s,5):.5*(Math.pow(s-2,5)+2)},easeInCubic:function(s){return Math.pow(s,3)}};class Snap{constructor(i,o){this.settings=extend({duration:80,minVelocity:.2,minDistance:10,easing:EASING_EQUATIONS.easeInCubic},o||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(i)}setup(i){this.manager=i,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(EVENTS.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(EVENTS.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(i){let o=i.contents;["touchstart","touchmove","touchend"].forEach(a=>{o.on(a,c=>this.triggerViewEvent(c,o))})}triggerViewEvent(i,o){this.emit(i.type,i,o)}onScroll(i){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(i){this.resizeCanceler=!0}onTouchStart(i){let{screenX:o,screenY:a}=i.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=o,this.startTouchY=a,this.startTime=this.now()),this.endTouchX=o,this.endTouchY=a,this.endTime=this.now()}onTouchMove(i){let{screenX:o,screenY:a}=i.touches[0],c=Math.abs(a-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&c<10&&(this.element.scrollLeft-=o-this.endTouchX),this.endTouchX=o,this.endTouchY=a,this.endTime=this.now()}onTouchEnd(i){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let o=this.wasSwiped();o!==0?this.snap(o):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let i=this.layout.pageWidth*this.layout.divisor,o=this.endTouchX-this.startTouchX,a=Math.abs(o),c=this.endTime-this.startTime,h=o/c,g=this.settings.minVelocity;if(a<=this.settings.minDistance||a>=i)return 0;if(h>g)return-1;if(h<-g)return 1}needsSnap(){let i=this.scrollLeft,o=this.layout.pageWidth*this.layout.divisor;return i%o!==0}snap(i=0){let o=this.scrollLeft,a=this.layout.pageWidth*this.layout.divisor,c=Math.round(o/a)*a;return i&&(c+=i*a),this.smoothScrollTo(c)}smoothScrollTo(i){const o=new defer,a=this.scrollLeft,c=this.now(),h=this.settings.duration,g=this.settings.easing;this.snapping=!0;function b(){const _=this.now(),$=Math.min(1,(_-c)/h);if(g($),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,o.resolve();return}$<1?(window.requestAnimationFrame(b.bind(this)),this.scrollTo(a+(i-a)*$,0)):(this.scrollTo(i,0),this.snapping=!1,o.resolve())}return b.call(this),o.promise}scrollTo(i=0,o=0){this.fullsize?window.scroll(i,o):(this.scroller.scrollLeft=i,this.scroller.scrollTop=o)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}EventEmitter(Snap.prototype);class ContinuousViewManager extends DefaultViewManager{constructor(i){super(i),this.name="continuous",this.settings=extend(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10}),extend(this.settings,i.settings||{}),i.settings.gap!="undefined"&&i.settings.gap===0&&(this.settings.gap=i.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1},this.scrollTop=0,this.scrollLeft=0}display(i,o){return DefaultViewManager.prototype.display.call(this,i,o).then((function(){return this.fill()}).bind(this))}fill(i){var o=i||new defer;return this.q.enqueue(()=>this.check()).then(a=>{a?this.fill(o):o.resolve()}),o.promise}moveTo(i){var o=0,a=0;this.isPaginated?(o=Math.floor(i.left/this.layout.delta)*this.layout.delta,o+this.settings.offsetDelta):(a=i.top,i.top+this.settings.offsetDelta),(o>0||a>0)&&this.scrollBy(o,a,!0)}afterResized(i){this.emit(EVENTS.MANAGERS.RESIZE,i.section)}removeShownListeners(i){i.onDisplayed=function(){}}add(i){var o=this.createView(i);return this.views.append(o),o.on(EVENTS.VIEWS.RESIZED,a=>{o.expanded=!0}),o.on(EVENTS.VIEWS.AXIS,a=>{this.updateAxis(a)}),o.on(EVENTS.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),o.onDisplayed=this.afterDisplayed.bind(this),o.onResize=this.afterResized.bind(this),o.display(this.request)}append(i){var o=this.createView(i);return o.on(EVENTS.VIEWS.RESIZED,a=>{o.expanded=!0}),o.on(EVENTS.VIEWS.AXIS,a=>{this.updateAxis(a)}),o.on(EVENTS.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),this.views.append(o),o.onDisplayed=this.afterDisplayed.bind(this),o}prepend(i){var o=this.createView(i);return o.on(EVENTS.VIEWS.RESIZED,a=>{this.counter(a),o.expanded=!0}),o.on(EVENTS.VIEWS.AXIS,a=>{this.updateAxis(a)}),o.on(EVENTS.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),this.views.prepend(o),o.onDisplayed=this.afterDisplayed.bind(this),o}counter(i){this.settings.axis==="vertical"?this.scrollBy(0,i.heightDelta,!0):this.scrollBy(i.widthDelta,0,!0)}update(i){for(var o=this.bounds(),a=this.views.all(),c=a.length,h=typeof i<"u"?i:this.settings.offset||0,g,b,_=new defer,$=[],_e=0;_e<c;_e++)if(b=a[_e],g=this.isVisible(b,h,h,o),g===!0)if(b.displayed)b.show();else{let et=b.display(this.request).then(function(rt){rt.show()},rt=>{b.hide()});$.push(et)}else this.q.enqueue(b.destroy.bind(b)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return $.length?Promise.all($).catch(et=>{_.reject(et)}):(_.resolve(),_.promise)}check(i,o){var a=new defer,c=[],h=this.settings.axis==="horizontal",g=this.settings.offset||0;i&&h&&(g=i),o&&!h&&(g=o);var b=this._bounds;let _=h?this.scrollLeft:this.scrollTop,$=h?Math.floor(b.width):b.height,_e=h?this.container.scrollWidth:this.container.scrollHeight,et=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",rt=this.settings.rtlScrollType,st=this.settings.direction==="rtl";this.settings.fullsize?(h&&st&&rt==="negative"||!h&&st&&rt==="default")&&(_=_*-1):(st&&rt==="default"&&et==="horizontal"&&(_=_e-$-_),st&&rt==="negative"&&et==="horizontal"&&(_=_*-1));let lt=()=>{let at=this.views.first(),mt=at&&at.section.prev();mt&&c.push(this.prepend(mt))},dt=()=>{let at=this.views.last(),mt=at&&at.section.next();mt&&c.push(this.append(mt))},nt=_+$+g,tt=_-g;nt>=_e&&dt(),tt<0&&lt();let it=c.map(at=>at.display(this.request));return c.length?Promise.all(it).then(()=>this.check()).then(()=>this.update(g),at=>at):(this.q.enqueue((function(){this.update()}).bind(this)),a.resolve(!1),a.promise)}trim(){for(var i=new defer,o=this.views.displayed(),a=o[0],c=o[o.length-1],h=this.views.indexOf(a),g=this.views.indexOf(c),b=this.views.slice(0,h),_=this.views.slice(g+1),$=0;$<b.length-1;$++)this.erase(b[$],b);for(var _e=1;_e<_.length;_e++)this.erase(_[_e]);return i.resolve(),i.promise}erase(i,o){var a,c;this.settings.fullsize?(a=window.scrollY,c=window.scrollX):(a=this.container.scrollTop,c=this.container.scrollLeft);var h=i.bounds();this.views.remove(i),o&&(this.settings.axis==="vertical"?this.scrollTo(0,a-h.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(c+Math.floor(h.width),0,!0):this.scrollTo(c,0,!0):this.scrollTo(c-Math.floor(h.width),0,!0))}addEventListeners(i){window.addEventListener("unload",(function(o){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Snap(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var i;this.tick=requestAnimationFrame$1;let o=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(i=window,this.scrollTop=window.scrollY*o,this.scrollLeft=window.scrollX*o):(i=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),i.addEventListener("scroll",this._onScroll),this._scrolled=debounce$2(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var i;this.settings.fullsize?i=window:i=this.container,i.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let i,o,a=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(i=window.scrollY*a,o=window.scrollX*a):(i=this.container.scrollTop,o=this.container.scrollLeft),this.scrollTop=i,this.scrollLeft=o,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(i-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(o-this.prevScrollLeft),this.prevScrollTop=i,this.prevScrollLeft=o,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(EVENTS.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let i=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(i,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let i=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-i,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(i){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(i,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Snap(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class Rendition{constructor(i,o){this.settings=extend(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr"}),extend(this.settings,o),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=i,this.hooks={},this.hooks.display=new Hook(this),this.hooks.serialize=new Hook(this),this.hooks.content=new Hook(this),this.hooks.unloaded=new Hook(this),this.hooks.layout=new Hook(this),this.hooks.render=new Hook(this),this.hooks.show=new Hook(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Themes(this),this.annotations=new Annotations(this),this.epubcfi=new EpubCFI,this.q=new Queue(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new defer,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(i){this.manager=i}requireManager(i){var o;return typeof i=="string"&&i==="default"?o=DefaultViewManager:typeof i=="string"&&i==="continuous"?o=ContinuousViewManager:o=i,o}requireView(i){var o;return typeof i=="string"&&i==="iframe"?o=IframeView:o=i,o}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(EVENTS.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(EVENTS.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(EVENTS.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(EVENTS.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(EVENTS.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(EVENTS.RENDITION.STARTED),this.starting.resolve()}attachTo(i){return this.q.enqueue((function(){this.manager.render(i,{width:this.settings.width,height:this.settings.height}),this.emit(EVENTS.RENDITION.ATTACHED)}).bind(this))}display(i){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,i)}_display(i){if(this.book){this.epubcfi.isCfiString(i);var o=new defer,a=o.promise,c;return this.displaying=o,this.book.locations.length()&&isFloat(i)&&(i=this.book.locations.cfiFromPercentage(parseFloat(i))),c=this.book.spine.get(i),c?(this.manager.display(c,i).then(()=>{o.resolve(c),this.displaying=void 0,this.emit(EVENTS.RENDITION.DISPLAYED,c),this.reportLocation()},h=>{this.emit(EVENTS.RENDITION.DISPLAY_ERROR,h)}),a):(o.reject(new Error("No Section Found")),a)}}afterDisplayed(i){i.on(EVENTS.VIEWS.MARK_CLICKED,(o,a)=>this.triggerMarkEvent(o,a,i.contents)),this.hooks.render.trigger(i,this).then(()=>{i.contents?this.hooks.content.trigger(i.contents,this).then(()=>{this.emit(EVENTS.RENDITION.RENDERED,i.section,i)}):this.emit(EVENTS.RENDITION.RENDERED,i.section,i)})}afterRemoved(i){this.hooks.unloaded.trigger(i,this).then(()=>{this.emit(EVENTS.RENDITION.REMOVED,i.section,i)})}onResized(i,o){this.emit(EVENTS.RENDITION.RESIZED,{width:i.width,height:i.height},o),this.location&&this.location.start&&this.display(o||this.location.start.cfi)}onOrientationChange(i){this.emit(EVENTS.RENDITION.ORIENTATION_CHANGE,i)}moveTo(i){this.manager.moveTo(i)}resize(i,o,a){i&&(this.settings.width=i),o&&(this.settings.height=o),this.manager.resize(i,o,a)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(i){var o,a=this.settings.layout||i.layout||"reflowable",c=this.settings.spread||i.spread||"auto",h=this.settings.orientation||i.orientation||"auto",g=this.settings.flow||i.flow||"auto",b=i.viewport||"",_=this.settings.minSpreadWidth||i.minSpreadWidth||800,$=this.settings.direction||i.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),o={layout:a,spread:c,orientation:h,flow:g,viewport:b,minSpreadWidth:_,direction:$},o}flow(i){var o=i;(i==="scrolled"||i==="scrolled-doc"||i==="scrolled-continuous")&&(o="scrolled"),(i==="auto"||i==="paginated")&&(o="paginated"),this.settings.flow=i,this._layout&&this._layout.flow(o),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(o),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(i){return i&&(this._layout=new Layout(i),this._layout.spread(i.spread,this.settings.minSpreadWidth),this._layout.on(EVENTS.LAYOUT.UPDATED,(o,a)=>{this.emit(EVENTS.RENDITION.LAYOUT,o,a)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(i,o){this.settings.spread=i,o&&(this.settings.minSpreadWidth=o),this._layout&&this._layout.spread(i,o),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(i){this.settings.direction=i||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var a=this.manager.currentLocation();if(a&&a.then&&typeof a.then=="function")a.then((function(c){let h=this.located(c);!h||!h.start||!h.end||(this.location=h,this.emit(EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(EVENTS.RENDITION.RELOCATED,this.location))}).bind(this));else if(a){let c=this.located(a);if(!c||!c.start||!c.end)return;this.location=c,this.emit(EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(EVENTS.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(o){return this.located(o)}).bind(this));else if(i)return this.located(i)}located(i){if(!i.length)return{};let o=i[0],a=i[i.length-1],c={start:{index:o.index,href:o.href,cfi:o.mapping.start,displayed:{page:o.pages[0]||1,total:o.totalPages}},end:{index:a.index,href:a.href,cfi:a.mapping.end,displayed:{page:a.pages[a.pages.length-1]||1,total:a.totalPages}}},h=this.book.locations.locationFromCfi(o.mapping.start),g=this.book.locations.locationFromCfi(a.mapping.end);h!=null&&(c.start.location=h,c.start.percentage=this.book.locations.percentageFromLocation(h)),g!=null&&(c.end.location=g,c.end.percentage=this.book.locations.percentageFromLocation(g));let b=this.book.pageList.pageFromCfi(o.mapping.start),_=this.book.pageList.pageFromCfi(a.mapping.end);return b!=-1&&(c.start.page=b),_!=-1&&(c.end.page=_),a.index===this.book.spine.last().index&&c.end.displayed.page>=c.end.displayed.total&&(c.atEnd=!0),o.index===this.book.spine.first().index&&c.start.displayed.page===1&&(c.atStart=!0),c}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(i){DOM_EVENTS.forEach(o=>{i.on(o,a=>this.triggerViewEvent(a,i))}),i.on(EVENTS.CONTENTS.SELECTED,o=>this.triggerSelectedEvent(o,i))}triggerViewEvent(i,o){this.emit(i.type,i,o)}triggerSelectedEvent(i,o){this.emit(EVENTS.RENDITION.SELECTED,i,o)}triggerMarkEvent(i,o,a){this.emit(EVENTS.RENDITION.MARK_CLICKED,i,o,a)}getRange(i,o){var a=new EpubCFI(i),c=this.manager.visible().filter(function(h){if(a.spinePos===h.index)return!0});if(c.length)return c[0].contents.range(a,o)}adjustImages(i){if(this._layout.name==="pre-paginated")return new Promise(function(h){h()});let o=i.window.getComputedStyle(i.content,null),a=(i.content.offsetHeight-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)))*.95,c=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight);return i.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-c+"px":"100%")+"!important","max-height":a+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-c+"px":"100%")+"!important","max-height":a+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(h,g){setTimeout(function(){h()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(i){i&&i.on(EVENTS.CONTENTS.LINK_CLICKED,o=>{let a=this.book.path.relative(o);this.display(a)})}injectStylesheet(i,o){let a=i.createElement("link");a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",this.settings.stylesheet),i.getElementsByTagName("head")[0].appendChild(a)}injectScript(i,o){let a=i.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",this.settings.script),a.textContent=" ",i.getElementsByTagName("head")[0].appendChild(a)}injectIdentifier(i,o){let a=this.book.packaging.metadata.identifier,c=i.createElement("meta");c.setAttribute("name","dc.relation.ispartof"),a&&c.setAttribute("content",a),i.getElementsByTagName("head")[0].appendChild(c)}}EventEmitter(Rendition.prototype);var jszip={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(s,i){(function(o){s.exports=o()})(function(){return function o(a,c,h){function g($,_e){if(!c[$]){if(!a[$]){var et=typeof commonjsRequire=="function"&&commonjsRequire;if(!_e&&et)return et($,!0);if(b)return b($,!0);var rt=new Error("Cannot find module '"+$+"'");throw rt.code="MODULE_NOT_FOUND",rt}var st=c[$]={exports:{}};a[$][0].call(st.exports,function(lt){var dt=a[$][1][lt];return g(dt||lt)},st,st.exports,o,a,c,h)}return c[$].exports}for(var b=typeof commonjsRequire=="function"&&commonjsRequire,_=0;_<h.length;_++)g(h[_]);return g}({1:[function(o,a,c){var h=o("./utils"),g=o("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(_){for(var $=[],_e,et,rt,st,lt,dt,nt,tt=0,it=_.length,at=it,mt=h.getTypeOf(_)!=="string";tt<_.length;)at=it-tt,mt?(_e=_[tt++],et=tt<it?_[tt++]:0,rt=tt<it?_[tt++]:0):(_e=_.charCodeAt(tt++),et=tt<it?_.charCodeAt(tt++):0,rt=tt<it?_.charCodeAt(tt++):0),st=_e>>2,lt=(_e&3)<<4|et>>4,dt=at>1?(et&15)<<2|rt>>6:64,nt=at>2?rt&63:64,$.push(b.charAt(st)+b.charAt(lt)+b.charAt(dt)+b.charAt(nt));return $.join("")},c.decode=function(_){var $,_e,et,rt,st,lt,dt,nt=0,tt=0,it="data:";if(_.substr(0,it.length)===it)throw new Error("Invalid base64 input, it looks like a data url.");_=_.replace(/[^A-Za-z0-9+/=]/g,"");var at=_.length*3/4;if(_.charAt(_.length-1)===b.charAt(64)&&at--,_.charAt(_.length-2)===b.charAt(64)&&at--,at%1!==0)throw new Error("Invalid base64 input, bad content length.");var mt;for(g.uint8array?mt=new Uint8Array(at|0):mt=new Array(at|0);nt<_.length;)rt=b.indexOf(_.charAt(nt++)),st=b.indexOf(_.charAt(nt++)),lt=b.indexOf(_.charAt(nt++)),dt=b.indexOf(_.charAt(nt++)),$=rt<<2|st>>4,_e=(st&15)<<4|lt>>2,et=(lt&3)<<6|dt,mt[tt++]=$,lt!==64&&(mt[tt++]=_e),dt!==64&&(mt[tt++]=et);return mt}},{"./support":30,"./utils":32}],2:[function(o,a,c){var h=o("./external"),g=o("./stream/DataWorker"),b=o("./stream/Crc32Probe"),_=o("./stream/DataLengthProbe");function $(_e,et,rt,st,lt){this.compressedSize=_e,this.uncompressedSize=et,this.crc32=rt,this.compression=st,this.compressedContent=lt}$.prototype={getContentWorker:function(){var _e=new g(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _("data_length")),et=this;return _e.on("end",function(){if(this.streamInfo.data_length!==et.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_e},getCompressedWorker:function(){return new g(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},$.createWorkerFrom=function(_e,et,rt){return _e.pipe(new b).pipe(new _("uncompressedSize")).pipe(et.compressWorker(rt)).pipe(new _("compressedSize")).withStreamInfo("compression",et)},a.exports=$},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,a,c){var h=o("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},c.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,a,c){var h=o("./utils");function g(){for(var _e,et=[],rt=0;rt<256;rt++){_e=rt;for(var st=0;st<8;st++)_e=_e&1?3988292384^_e>>>1:_e>>>1;et[rt]=_e}return et}var b=g();function _(_e,et,rt,st){var lt=b,dt=st+rt;_e=_e^-1;for(var nt=st;nt<dt;nt++)_e=_e>>>8^lt[(_e^et[nt])&255];return _e^-1}function $(_e,et,rt,st){var lt=b,dt=st+rt;_e=_e^-1;for(var nt=st;nt<dt;nt++)_e=_e>>>8^lt[(_e^et.charCodeAt(nt))&255];return _e^-1}a.exports=function(et,rt){if(typeof et>"u"||!et.length)return 0;var st=h.getTypeOf(et)!=="string";return st?_(rt|0,et,et.length,0):$(rt|0,et,et.length,0)}},{"./utils":32}],5:[function(o,a,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(o,a,c){var h=null;typeof Promise<"u"?h=Promise:h=o("lie"),a.exports={Promise:h}},{lie:37}],7:[function(o,a,c){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=o("pako"),b=o("./utils"),_=o("./stream/GenericWorker"),$=h?"uint8array":"array";c.magic="\b\0";function _e(et,rt){_.call(this,"FlateWorker/"+et),this._pako=null,this._pakoAction=et,this._pakoOptions=rt,this.meta={}}b.inherits(_e,_),_e.prototype.processChunk=function(et){this.meta=et.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo($,et.data),!1)},_e.prototype.flush=function(){_.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_e.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this._pako=null},_e.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var et=this;this._pako.onData=function(rt){et.push({data:rt,meta:et.meta})}},c.compressWorker=function(et){return new _e("Deflate",et)},c.uncompressWorker=function(){return new _e("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,a,c){var h=o("../utils"),g=o("../stream/GenericWorker"),b=o("../utf8"),_=o("../crc32"),$=o("../signature"),_e=function(tt,it){var at="",mt;for(mt=0;mt<it;mt++)at+=String.fromCharCode(tt&255),tt=tt>>>8;return at},et=function(tt,it){var at=tt;return tt||(at=it?16893:33204),(at&65535)<<16},rt=function(tt){return(tt||0)&63},st=function(tt,it,at,mt,ot,pt){var ht=tt.file,gt=tt.compression,xt=pt!==b.utf8encode,Tt=h.transformTo("string",pt(ht.name)),wt=h.transformTo("string",b.utf8encode(ht.name)),kt=ht.comment,Yt=h.transformTo("string",pt(kt)),fn=h.transformTo("string",b.utf8encode(kt)),an=wt.length!==ht.name.length,dn=fn.length!==kt.length,on,Jt,Rt="",zt="",nn="",Nt=ht.dir,Et=ht.date,St={crc32:0,compressedSize:0,uncompressedSize:0};(!it||at)&&(St.crc32=tt.crc32,St.compressedSize=tt.compressedSize,St.uncompressedSize=tt.uncompressedSize);var jt=0;it&&(jt|=8),!xt&&(an||dn)&&(jt|=2048);var en=0,sn=0;Nt&&(en|=16),ot==="UNIX"?(sn=798,en|=et(ht.unixPermissions,Nt)):(sn=20,en|=rt(ht.dosPermissions)),on=Et.getUTCHours(),on=on<<6,on=on|Et.getUTCMinutes(),on=on<<5,on=on|Et.getUTCSeconds()/2,Jt=Et.getUTCFullYear()-1980,Jt=Jt<<4,Jt=Jt|Et.getUTCMonth()+1,Jt=Jt<<5,Jt=Jt|Et.getUTCDate(),an&&(zt=_e(1,1)+_e(_(Tt),4)+wt,Rt+="up"+_e(zt.length,2)+zt),dn&&(nn=_e(1,1)+_e(_(Yt),4)+fn,Rt+="uc"+_e(nn.length,2)+nn);var rn="";rn+=`
\0`,rn+=_e(jt,2),rn+=gt.magic,rn+=_e(on,2),rn+=_e(Jt,2),rn+=_e(St.crc32,4),rn+=_e(St.compressedSize,4),rn+=_e(St.uncompressedSize,4),rn+=_e(Tt.length,2),rn+=_e(Rt.length,2);var vn=$.LOCAL_FILE_HEADER+rn+Tt+Rt,_n=$.CENTRAL_FILE_HEADER+_e(sn,2)+rn+_e(Yt.length,2)+"\0\0\0\0"+_e(en,4)+_e(mt,4)+Tt+Rt+Yt;return{fileRecord:vn,dirRecord:_n}},lt=function(tt,it,at,mt,ot){var pt="",ht=h.transformTo("string",ot(mt));return pt=$.CENTRAL_DIRECTORY_END+"\0\0\0\0"+_e(tt,2)+_e(tt,2)+_e(it,4)+_e(at,4)+_e(ht.length,2)+ht,pt},dt=function(tt){var it="";return it=$.DATA_DESCRIPTOR+_e(tt.crc32,4)+_e(tt.compressedSize,4)+_e(tt.uncompressedSize,4),it};function nt(tt,it,at,mt){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=it,this.zipPlatform=at,this.encodeFileName=mt,this.streamFiles=tt,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(nt,g),nt.prototype.push=function(tt){var it=tt.meta.percent||0,at=this.entriesCount,mt=this._sources.length;this.accumulate?this.contentBuffer.push(tt):(this.bytesWritten+=tt.data.length,g.prototype.push.call(this,{data:tt.data,meta:{currentFile:this.currentFile,percent:at?(it+100*(at-mt-1))/at:100}}))},nt.prototype.openedSource=function(tt){this.currentSourceOffset=this.bytesWritten,this.currentFile=tt.file.name;var it=this.streamFiles&&!tt.file.dir;if(it){var at=st(tt,it,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:at.fileRecord,meta:{percent:0}})}else this.accumulate=!0},nt.prototype.closedSource=function(tt){this.accumulate=!1;var it=this.streamFiles&&!tt.file.dir,at=st(tt,it,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(at.dirRecord),it)this.push({data:dt(tt),meta:{percent:100}});else for(this.push({data:at.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},nt.prototype.flush=function(){for(var tt=this.bytesWritten,it=0;it<this.dirRecords.length;it++)this.push({data:this.dirRecords[it],meta:{percent:100}});var at=this.bytesWritten-tt,mt=lt(this.dirRecords.length,at,tt,this.zipComment,this.encodeFileName);this.push({data:mt,meta:{percent:100}})},nt.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},nt.prototype.registerPrevious=function(tt){this._sources.push(tt);var it=this;return tt.on("data",function(at){it.processChunk(at)}),tt.on("end",function(){it.closedSource(it.previous.streamInfo),it._sources.length?it.prepareNextSource():it.end()}),tt.on("error",function(at){it.error(at)}),this},nt.prototype.resume=function(){if(!g.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},nt.prototype.error=function(tt){var it=this._sources;if(!g.prototype.error.call(this,tt))return!1;for(var at=0;at<it.length;at++)try{it[at].error(tt)}catch{}return!0},nt.prototype.lock=function(){g.prototype.lock.call(this);for(var tt=this._sources,it=0;it<tt.length;it++)tt[it].lock()},a.exports=nt},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,a,c){var h=o("../compressions"),g=o("./ZipFileWorker"),b=function(_,$){var _e=_||$,et=h[_e];if(!et)throw new Error(_e+" is not a valid compression method !");return et};c.generateWorker=function(_,$,_e){var et=new g($.streamFiles,_e,$.platform,$.encodeFileName),rt=0;try{_.forEach(function(st,lt){rt++;var dt=b(lt.options.compression,$.compression),nt=lt.options.compressionOptions||$.compressionOptions||{},tt=lt.dir,it=lt.date;lt._compressWorker(dt,nt).withStreamInfo("file",{name:st,dir:tt,date:it,comment:lt.comment||"",unixPermissions:lt.unixPermissions,dosPermissions:lt.dosPermissions}).pipe(et)}),et.entriesCount=rt}catch(st){et.error(st)}return et}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,a,c){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new h;for(var b in this)typeof this[b]!="function"&&(g[b]=this[b]);return g}}h.prototype=o("./object"),h.prototype.loadAsync=o("./load"),h.support=o("./support"),h.defaults=o("./defaults"),h.version="3.10.1",h.loadAsync=function(g,b){return new h().loadAsync(g,b)},h.external=o("./external"),a.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,a,c){var h=o("./utils"),g=o("./external"),b=o("./utf8"),_=o("./zipEntries"),$=o("./stream/Crc32Probe"),_e=o("./nodejsUtils");function et(rt){return new g.Promise(function(st,lt){var dt=rt.decompressed.getContentWorker().pipe(new $);dt.on("error",function(nt){lt(nt)}).on("end",function(){dt.streamInfo.crc32!==rt.decompressed.crc32?lt(new Error("Corrupted zip : CRC32 mismatch")):st()}).resume()})}a.exports=function(rt,st){var lt=this;return st=h.extend(st||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),_e.isNode&&_e.isStream(rt)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",rt,!0,st.optimizedBinaryString,st.base64).then(function(dt){var nt=new _(st);return nt.load(dt),nt}).then(function(nt){var tt=[g.Promise.resolve(nt)],it=nt.files;if(st.checkCRC32)for(var at=0;at<it.length;at++)tt.push(et(it[at]));return g.Promise.all(tt)}).then(function(nt){for(var tt=nt.shift(),it=tt.files,at=0;at<it.length;at++){var mt=it[at],ot=mt.fileNameStr,pt=h.resolve(mt.fileNameStr);lt.file(pt,mt.decompressed,{binary:!0,optimizedBinaryString:!0,date:mt.date,dir:mt.dir,comment:mt.fileCommentStr.length?mt.fileCommentStr:null,unixPermissions:mt.unixPermissions,dosPermissions:mt.dosPermissions,createFolders:st.createFolders}),mt.dir||(lt.file(pt).unsafeOriginalName=ot)}return tt.zipComment.length&&(lt.comment=tt.zipComment),lt})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,a,c){var h=o("../utils"),g=o("../stream/GenericWorker");function b(_,$){g.call(this,"Nodejs stream input adapter for "+_),this._upstreamEnded=!1,this._bindStream($)}h.inherits(b,g),b.prototype._bindStream=function(_){var $=this;this._stream=_,_.pause(),_.on("data",function(_e){$.push({data:_e,meta:{percent:0}})}).on("error",function(_e){$.isPaused?this.generatedError=_e:$.error(_e)}).on("end",function(){$.isPaused?$._upstreamEnded=!0:$.end()})},b.prototype.pause=function(){return g.prototype.pause.call(this)?(this._stream.pause(),!0):!1},b.prototype.resume=function(){return g.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},a.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,a,c){var h=o("readable-stream").Readable,g=o("../utils");g.inherits(b,h);function b(_,$,_e){h.call(this,$),this._helper=_;var et=this;_.on("data",function(rt,st){et.push(rt)||et._helper.pause(),_e&&_e(st)}).on("error",function(rt){et.emit("error",rt)}).on("end",function(){et.push(null)})}b.prototype._read=function(){this._helper.resume()},a.exports=b},{"../utils":32,"readable-stream":16}],14:[function(o,a,c){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(h,g){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(h,g);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new Buffer(h,g)},allocBuffer:function(h){if(Buffer.alloc)return Buffer.alloc(h);var g=new Buffer(h);return g.fill(0),g},isBuffer:function(h){return Buffer.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(o,a,c){var h=o("./utf8"),g=o("./utils"),b=o("./stream/GenericWorker"),_=o("./stream/StreamHelper"),$=o("./defaults"),_e=o("./compressedObject"),et=o("./zipObject"),rt=o("./generate"),st=o("./nodejsUtils"),lt=o("./nodejs/NodejsStreamInputAdapter"),dt=function(ot,pt,ht){var gt=g.getTypeOf(pt),xt,Tt=g.extend(ht||{},$);Tt.date=Tt.date||new Date,Tt.compression!==null&&(Tt.compression=Tt.compression.toUpperCase()),typeof Tt.unixPermissions=="string"&&(Tt.unixPermissions=parseInt(Tt.unixPermissions,8)),Tt.unixPermissions&&Tt.unixPermissions&16384&&(Tt.dir=!0),Tt.dosPermissions&&Tt.dosPermissions&16&&(Tt.dir=!0),Tt.dir&&(ot=tt(ot)),Tt.createFolders&&(xt=nt(ot))&&it.call(this,xt,!0);var wt=gt==="string"&&Tt.binary===!1&&Tt.base64===!1;(!ht||typeof ht.binary>"u")&&(Tt.binary=!wt);var kt=pt instanceof _e&&pt.uncompressedSize===0;(kt||Tt.dir||!pt||pt.length===0)&&(Tt.base64=!1,Tt.binary=!0,pt="",Tt.compression="STORE",gt="string");var Yt=null;pt instanceof _e||pt instanceof b?Yt=pt:st.isNode&&st.isStream(pt)?Yt=new lt(ot,pt):Yt=g.prepareContent(ot,pt,Tt.binary,Tt.optimizedBinaryString,Tt.base64);var fn=new et(ot,Yt,Tt);this.files[ot]=fn},nt=function(ot){ot.slice(-1)==="/"&&(ot=ot.substring(0,ot.length-1));var pt=ot.lastIndexOf("/");return pt>0?ot.substring(0,pt):""},tt=function(ot){return ot.slice(-1)!=="/"&&(ot+="/"),ot},it=function(ot,pt){return pt=typeof pt<"u"?pt:$.createFolders,ot=tt(ot),this.files[ot]||dt.call(this,ot,null,{dir:!0,createFolders:pt}),this.files[ot]};function at(ot){return Object.prototype.toString.call(ot)==="[object RegExp]"}var mt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(ot){var pt,ht,gt;for(pt in this.files)gt=this.files[pt],ht=pt.slice(this.root.length,pt.length),ht&&pt.slice(0,this.root.length)===this.root&&ot(ht,gt)},filter:function(ot){var pt=[];return this.forEach(function(ht,gt){ot(ht,gt)&&pt.push(gt)}),pt},file:function(ot,pt,ht){if(arguments.length===1)if(at(ot)){var gt=ot;return this.filter(function(Tt,wt){return!wt.dir&&gt.test(Tt)})}else{var xt=this.files[this.root+ot];return xt&&!xt.dir?xt:null}else ot=this.root+ot,dt.call(this,ot,pt,ht);return this},folder:function(ot){if(!ot)return this;if(at(ot))return this.filter(function(xt,Tt){return Tt.dir&&ot.test(xt)});var pt=this.root+ot,ht=it.call(this,pt),gt=this.clone();return gt.root=ht.name,gt},remove:function(ot){ot=this.root+ot;var pt=this.files[ot];if(pt||(ot.slice(-1)!=="/"&&(ot+="/"),pt=this.files[ot]),pt&&!pt.dir)delete this.files[ot];else for(var ht=this.filter(function(xt,Tt){return Tt.name.slice(0,ot.length)===ot}),gt=0;gt<ht.length;gt++)delete this.files[ht[gt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(ot){var pt,ht={};try{if(ht=g.extend(ot||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),ht.type=ht.type.toLowerCase(),ht.compression=ht.compression.toUpperCase(),ht.type==="binarystring"&&(ht.type="string"),!ht.type)throw new Error("No output type specified.");g.checkSupport(ht.type),(ht.platform==="darwin"||ht.platform==="freebsd"||ht.platform==="linux"||ht.platform==="sunos")&&(ht.platform="UNIX"),ht.platform==="win32"&&(ht.platform="DOS");var gt=ht.comment||this.comment||"";pt=rt.generateWorker(this,ht,gt)}catch(xt){pt=new b("error"),pt.error(xt)}return new _(pt,ht.type||"string",ht.mimeType)},generateAsync:function(ot,pt){return this.generateInternalStream(ot).accumulate(pt)},generateNodeStream:function(ot,pt){return ot=ot||{},ot.type||(ot.type="nodebuffer"),this.generateInternalStream(ot).toNodejsStream(pt)}};a.exports=mt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,a,c){a.exports=o("stream")},{stream:void 0}],17:[function(o,a,c){var h=o("./DataReader"),g=o("../utils");function b(_){h.call(this,_);for(var $=0;$<this.data.length;$++)_[$]=_[$]&255}g.inherits(b,h),b.prototype.byteAt=function(_){return this.data[this.zero+_]},b.prototype.lastIndexOfSignature=function(_){for(var $=_.charCodeAt(0),_e=_.charCodeAt(1),et=_.charCodeAt(2),rt=_.charCodeAt(3),st=this.length-4;st>=0;--st)if(this.data[st]===$&&this.data[st+1]===_e&&this.data[st+2]===et&&this.data[st+3]===rt)return st-this.zero;return-1},b.prototype.readAndCheckSignature=function(_){var $=_.charCodeAt(0),_e=_.charCodeAt(1),et=_.charCodeAt(2),rt=_.charCodeAt(3),st=this.readData(4);return $===st[0]&&_e===st[1]&&et===st[2]&&rt===st[3]},b.prototype.readData=function(_){if(this.checkOffset(_),_===0)return[];var $=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,$},a.exports=b},{"../utils":32,"./DataReader":18}],18:[function(o,a,c){var h=o("../utils");function g(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var _=0,$;for(this.checkOffset(b),$=this.index+b-1;$>=this.index;$--)_=(_<<8)+this.byteAt($);return this.index+=b,_},readString:function(b){return h.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC((b>>25&127)+1980,(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(b&31)<<1))}},a.exports=g},{"../utils":32}],19:[function(o,a,c){var h=o("./Uint8ArrayReader"),g=o("../utils");function b(_){h.call(this,_)}g.inherits(b,h),b.prototype.readData=function(_){this.checkOffset(_);var $=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,$},a.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,a,c){var h=o("./DataReader"),g=o("../utils");function b(_){h.call(this,_)}g.inherits(b,h),b.prototype.byteAt=function(_){return this.data.charCodeAt(this.zero+_)},b.prototype.lastIndexOfSignature=function(_){return this.data.lastIndexOf(_)-this.zero},b.prototype.readAndCheckSignature=function(_){var $=this.readData(4);return _===$},b.prototype.readData=function(_){this.checkOffset(_);var $=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,$},a.exports=b},{"../utils":32,"./DataReader":18}],21:[function(o,a,c){var h=o("./ArrayReader"),g=o("../utils");function b(_){h.call(this,_)}g.inherits(b,h),b.prototype.readData=function(_){if(this.checkOffset(_),_===0)return new Uint8Array(0);var $=this.data.subarray(this.zero+this.index,this.zero+this.index+_);return this.index+=_,$},a.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(o,a,c){var h=o("../utils"),g=o("../support"),b=o("./ArrayReader"),_=o("./StringReader"),$=o("./NodeBufferReader"),_e=o("./Uint8ArrayReader");a.exports=function(et){var rt=h.getTypeOf(et);return h.checkSupport(rt),rt==="string"&&!g.uint8array?new _(et):rt==="nodebuffer"?new $(et):g.uint8array?new _e(h.transformTo("uint8array",et)):new b(h.transformTo("array",et))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,a,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,a,c){var h=o("./GenericWorker"),g=o("../utils");function b(_){h.call(this,"ConvertWorker to "+_),this.destType=_}g.inherits(b,h),b.prototype.processChunk=function(_){this.push({data:g.transformTo(this.destType,_.data),meta:_.meta})},a.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(o,a,c){var h=o("./GenericWorker"),g=o("../crc32"),b=o("../utils");function _(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}b.inherits(_,h),_.prototype.processChunk=function($){this.streamInfo.crc32=g($.data,this.streamInfo.crc32||0),this.push($)},a.exports=_},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,a,c){var h=o("../utils"),g=o("./GenericWorker");function b(_){g.call(this,"DataLengthProbe for "+_),this.propName=_,this.withStreamInfo(_,0)}h.inherits(b,g),b.prototype.processChunk=function(_){if(_){var $=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=$+_.data.length}g.prototype.processChunk.call(this,_)},a.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(o,a,c){var h=o("../utils"),g=o("./GenericWorker"),b=16*1024;function _($){g.call(this,"DataWorker");var _e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,$.then(function(et){_e.dataIsReady=!0,_e.data=et,_e.max=et&&et.length||0,_e.type=h.getTypeOf(et),_e.isPaused||_e._tickAndRepeat()},function(et){_e.error(et)})}h.inherits(_,g),_.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},_.prototype.resume=function(){return g.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0):!1},_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var $=b,_e=null,et=Math.min(this.max,this.index+$);if(this.index>=this.max)return this.end();switch(this.type){case"string":_e=this.data.substring(this.index,et);break;case"uint8array":_e=this.data.subarray(this.index,et);break;case"array":case"nodebuffer":_e=this.data.slice(this.index,et);break}return this.index=et,this.push({data:_e,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=_},{"../utils":32,"./GenericWorker":28}],28:[function(o,a,c){function h(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return this.isFinished?!1:(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,b){return this._listeners[g].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,b){if(this._listeners[g])for(var _=0;_<this._listeners[g].length;_++)this._listeners[g][_].call(this,b)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var b=this;return g.on("data",function(_){b.processChunk(_)}),g.on("end",function(){b.end()}),g.on("error",function(_){b.error(_)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var g=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,b){return this.extraStreamInfo[g]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},a.exports=h},{}],29:[function(o,a,c){var h=o("../utils"),g=o("./ConvertWorker"),b=o("./GenericWorker"),_=o("../base64"),$=o("../support"),_e=o("../external"),et=null;if($.nodestream)try{et=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function rt(nt,tt,it){switch(nt){case"blob":return h.newBlob(h.transformTo("arraybuffer",tt),it);case"base64":return _.encode(tt);default:return h.transformTo(nt,tt)}}function st(nt,tt){var it,at=0,mt=null,ot=0;for(it=0;it<tt.length;it++)ot+=tt[it].length;switch(nt){case"string":return tt.join("");case"array":return Array.prototype.concat.apply([],tt);case"uint8array":for(mt=new Uint8Array(ot),it=0;it<tt.length;it++)mt.set(tt[it],at),at+=tt[it].length;return mt;case"nodebuffer":return Buffer.concat(tt);default:throw new Error("concat : unsupported type '"+nt+"'")}}function lt(nt,tt){return new _e.Promise(function(it,at){var mt=[],ot=nt._internalType,pt=nt._outputType,ht=nt._mimeType;nt.on("data",function(gt,xt){mt.push(gt),tt&&tt(xt)}).on("error",function(gt){mt=[],at(gt)}).on("end",function(){try{var gt=rt(pt,st(ot,mt),ht);it(gt)}catch(xt){at(xt)}mt=[]}).resume()})}function dt(nt,tt,it){var at=tt;switch(tt){case"blob":case"arraybuffer":at="uint8array";break;case"base64":at="string";break}try{this._internalType=at,this._outputType=tt,this._mimeType=it,h.checkSupport(at),this._worker=nt.pipe(new g(at)),nt.lock()}catch(mt){this._worker=new b("error"),this._worker.error(mt)}}dt.prototype={accumulate:function(nt){return lt(this,nt)},on:function(nt,tt){var it=this;return nt==="data"?this._worker.on(nt,function(at){tt.call(it,at.data,at.meta)}):this._worker.on(nt,function(){h.delay(tt,arguments,it)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(nt){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new et(this,{objectMode:this._outputType!=="nodebuffer"},nt)}},a.exports=dt},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,a,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var h=new ArrayBuffer(0);try{c.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var g=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,b=new g;b.append(h),c.blob=b.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!o("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(o,a,c){for(var h=o("./utils"),g=o("./support"),b=o("./nodejsUtils"),_=o("./stream/GenericWorker"),$=new Array(256),_e=0;_e<256;_e++)$[_e]=_e>=252?6:_e>=248?5:_e>=240?4:_e>=224?3:_e>=192?2:1;$[254]=$[254]=1;var et=function(nt){var tt,it,at,mt,ot,pt=nt.length,ht=0;for(mt=0;mt<pt;mt++)it=nt.charCodeAt(mt),(it&64512)===55296&&mt+1<pt&&(at=nt.charCodeAt(mt+1),(at&64512)===56320&&(it=65536+(it-55296<<10)+(at-56320),mt++)),ht+=it<128?1:it<2048?2:it<65536?3:4;for(g.uint8array?tt=new Uint8Array(ht):tt=new Array(ht),ot=0,mt=0;ot<ht;mt++)it=nt.charCodeAt(mt),(it&64512)===55296&&mt+1<pt&&(at=nt.charCodeAt(mt+1),(at&64512)===56320&&(it=65536+(it-55296<<10)+(at-56320),mt++)),it<128?tt[ot++]=it:it<2048?(tt[ot++]=192|it>>>6,tt[ot++]=128|it&63):it<65536?(tt[ot++]=224|it>>>12,tt[ot++]=128|it>>>6&63,tt[ot++]=128|it&63):(tt[ot++]=240|it>>>18,tt[ot++]=128|it>>>12&63,tt[ot++]=128|it>>>6&63,tt[ot++]=128|it&63);return tt},rt=function(nt,tt){var it;for(tt=tt||nt.length,tt>nt.length&&(tt=nt.length),it=tt-1;it>=0&&(nt[it]&192)===128;)it--;return it<0||it===0?tt:it+$[nt[it]]>tt?it:tt},st=function(nt){var tt,it,at,mt,ot=nt.length,pt=new Array(ot*2);for(it=0,tt=0;tt<ot;){if(at=nt[tt++],at<128){pt[it++]=at;continue}if(mt=$[at],mt>4){pt[it++]=65533,tt+=mt-1;continue}for(at&=mt===2?31:mt===3?15:7;mt>1&&tt<ot;)at=at<<6|nt[tt++]&63,mt--;if(mt>1){pt[it++]=65533;continue}at<65536?pt[it++]=at:(at-=65536,pt[it++]=55296|at>>10&1023,pt[it++]=56320|at&1023)}return pt.length!==it&&(pt.subarray?pt=pt.subarray(0,it):pt.length=it),h.applyFromCharCode(pt)};c.utf8encode=function(tt){return g.nodebuffer?b.newBufferFrom(tt,"utf-8"):et(tt)},c.utf8decode=function(tt){return g.nodebuffer?h.transformTo("nodebuffer",tt).toString("utf-8"):(tt=h.transformTo(g.uint8array?"uint8array":"array",tt),st(tt))};function lt(){_.call(this,"utf-8 decode"),this.leftOver=null}h.inherits(lt,_),lt.prototype.processChunk=function(nt){var tt=h.transformTo(g.uint8array?"uint8array":"array",nt.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var it=tt;tt=new Uint8Array(it.length+this.leftOver.length),tt.set(this.leftOver,0),tt.set(it,this.leftOver.length)}else tt=this.leftOver.concat(tt);this.leftOver=null}var at=rt(tt),mt=tt;at!==tt.length&&(g.uint8array?(mt=tt.subarray(0,at),this.leftOver=tt.subarray(at,tt.length)):(mt=tt.slice(0,at),this.leftOver=tt.slice(at,tt.length))),this.push({data:c.utf8decode(mt),meta:nt.meta})},lt.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=lt;function dt(){_.call(this,"utf-8 encode")}h.inherits(dt,_),dt.prototype.processChunk=function(nt){this.push({data:c.utf8encode(nt.data),meta:nt.meta})},c.Utf8EncodeWorker=dt},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,a,c){var h=o("./support"),g=o("./base64"),b=o("./nodejsUtils"),_=o("./external");o("setimmediate");function $(nt){var tt=null;return h.uint8array?tt=new Uint8Array(nt.length):tt=new Array(nt.length),et(nt,tt)}c.newBlob=function(nt,tt){c.checkSupport("blob");try{return new Blob([nt],{type:tt})}catch{try{var it=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,at=new it;return at.append(nt),at.getBlob(tt)}catch{throw new Error("Bug : can't construct the Blob.")}}};function _e(nt){return nt}function et(nt,tt){for(var it=0;it<nt.length;++it)tt[it]=nt.charCodeAt(it)&255;return tt}var rt={stringifyByChunk:function(nt,tt,it){var at=[],mt=0,ot=nt.length;if(ot<=it)return String.fromCharCode.apply(null,nt);for(;mt<ot;)tt==="array"||tt==="nodebuffer"?at.push(String.fromCharCode.apply(null,nt.slice(mt,Math.min(mt+it,ot)))):at.push(String.fromCharCode.apply(null,nt.subarray(mt,Math.min(mt+it,ot)))),mt+=it;return at.join("")},stringifyByChar:function(nt){for(var tt="",it=0;it<nt.length;it++)tt+=String.fromCharCode(nt[it]);return tt},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}}()}};function st(nt){var tt=65536,it=c.getTypeOf(nt),at=!0;if(it==="uint8array"?at=rt.applyCanBeUsed.uint8array:it==="nodebuffer"&&(at=rt.applyCanBeUsed.nodebuffer),at)for(;tt>1;)try{return rt.stringifyByChunk(nt,it,tt)}catch{tt=Math.floor(tt/2)}return rt.stringifyByChar(nt)}c.applyFromCharCode=st;function lt(nt,tt){for(var it=0;it<nt.length;it++)tt[it]=nt[it];return tt}var dt={};dt.string={string:_e,array:function(nt){return et(nt,new Array(nt.length))},arraybuffer:function(nt){return dt.string.uint8array(nt).buffer},uint8array:function(nt){return et(nt,new Uint8Array(nt.length))},nodebuffer:function(nt){return et(nt,b.allocBuffer(nt.length))}},dt.array={string:st,array:_e,arraybuffer:function(nt){return new Uint8Array(nt).buffer},uint8array:function(nt){return new Uint8Array(nt)},nodebuffer:function(nt){return b.newBufferFrom(nt)}},dt.arraybuffer={string:function(nt){return st(new Uint8Array(nt))},array:function(nt){return lt(new Uint8Array(nt),new Array(nt.byteLength))},arraybuffer:_e,uint8array:function(nt){return new Uint8Array(nt)},nodebuffer:function(nt){return b.newBufferFrom(new Uint8Array(nt))}},dt.uint8array={string:st,array:function(nt){return lt(nt,new Array(nt.length))},arraybuffer:function(nt){return nt.buffer},uint8array:_e,nodebuffer:function(nt){return b.newBufferFrom(nt)}},dt.nodebuffer={string:st,array:function(nt){return lt(nt,new Array(nt.length))},arraybuffer:function(nt){return dt.nodebuffer.uint8array(nt).buffer},uint8array:function(nt){return lt(nt,new Uint8Array(nt.length))},nodebuffer:_e},c.transformTo=function(nt,tt){if(tt||(tt=""),!nt)return tt;c.checkSupport(nt);var it=c.getTypeOf(tt),at=dt[it][nt](tt);return at},c.resolve=function(nt){for(var tt=nt.split("/"),it=[],at=0;at<tt.length;at++){var mt=tt[at];mt==="."||mt===""&&at!==0&&at!==tt.length-1||(mt===".."?it.pop():it.push(mt))}return it.join("/")},c.getTypeOf=function(nt){if(typeof nt=="string")return"string";if(Object.prototype.toString.call(nt)==="[object Array]")return"array";if(h.nodebuffer&&b.isBuffer(nt))return"nodebuffer";if(h.uint8array&&nt instanceof Uint8Array)return"uint8array";if(h.arraybuffer&&nt instanceof ArrayBuffer)return"arraybuffer"},c.checkSupport=function(nt){var tt=h[nt.toLowerCase()];if(!tt)throw new Error(nt+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(nt){var tt="",it,at;for(at=0;at<(nt||"").length;at++)it=nt.charCodeAt(at),tt+="\\x"+(it<16?"0":"")+it.toString(16).toUpperCase();return tt},c.delay=function(nt,tt,it){setImmediate(function(){nt.apply(it||null,tt||[])})},c.inherits=function(nt,tt){var it=function(){};it.prototype=tt.prototype,nt.prototype=new it},c.extend=function(){var nt={},tt,it;for(tt=0;tt<arguments.length;tt++)for(it in arguments[tt])Object.prototype.hasOwnProperty.call(arguments[tt],it)&&typeof nt[it]>"u"&&(nt[it]=arguments[tt][it]);return nt},c.prepareContent=function(nt,tt,it,at,mt){var ot=_.Promise.resolve(tt).then(function(pt){var ht=h.blob&&(pt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(pt))!==-1);return ht&&typeof FileReader<"u"?new _.Promise(function(gt,xt){var Tt=new FileReader;Tt.onload=function(wt){gt(wt.target.result)},Tt.onerror=function(wt){xt(wt.target.error)},Tt.readAsArrayBuffer(pt)}):pt});return ot.then(function(pt){var ht=c.getTypeOf(pt);return ht?(ht==="arraybuffer"?pt=c.transformTo("uint8array",pt):ht==="string"&&(mt?pt=g.decode(pt):it&&at!==!0&&(pt=$(pt))),pt):_.Promise.reject(new Error("Can't read the data of '"+nt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,a,c){var h=o("./reader/readerFor"),g=o("./utils"),b=o("./signature"),_=o("./zipEntry"),$=o("./support");function _e(et){this.files=[],this.loadOptions=et}_e.prototype={checkSignature:function(et){if(!this.reader.readAndCheckSignature(et)){this.reader.index-=4;var rt=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(rt)+", expected "+g.pretty(et)+")")}},isSignature:function(et,rt){var st=this.reader.index;this.reader.setIndex(et);var lt=this.reader.readString(4),dt=lt===rt;return this.reader.setIndex(st),dt},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var et=this.reader.readData(this.zipCommentLength),rt=$.uint8array?"uint8array":"array",st=g.transformTo(rt,et);this.zipComment=this.loadOptions.decodeFileName(st)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var et=this.zip64EndOfCentralSize-44,rt=0,st,lt,dt;rt<et;)st=this.reader.readInt(2),lt=this.reader.readInt(4),dt=this.reader.readData(lt),this.zip64ExtensibleData[st]={id:st,length:lt,value:dt}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var et,rt;for(et=0;et<this.files.length;et++)rt=this.files[et],this.reader.setIndex(rt.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),rt.readLocalPart(this.reader),rt.handleUTF8(),rt.processAttributes()},readCentralDir:function(){var et;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)et=new _({zip64:this.zip64},this.loadOptions),et.readCentralPart(this.reader),this.files.push(et);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var et=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(et<0){var rt=!this.isSignature(0,b.LOCAL_FILE_HEADER);throw rt?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(et);var st=et;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,et=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),et<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(et),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var lt=this.centralDirOffset+this.centralDirSize;this.zip64&&(lt+=20,lt+=12+this.zip64EndOfCentralSize);var dt=st-lt;if(dt>0)this.isSignature(st,b.CENTRAL_FILE_HEADER)||(this.reader.zero=dt);else if(dt<0)throw new Error("Corrupted zip: missing "+Math.abs(dt)+" bytes.")},prepareReader:function(et){this.reader=h(et)},load:function(et){this.prepareReader(et),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=_e},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,a,c){var h=o("./reader/readerFor"),g=o("./utils"),b=o("./compressedObject"),_=o("./crc32"),$=o("./utf8"),_e=o("./compressions"),et=o("./support"),rt=0,st=3,lt=function(nt){for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)&&_e[tt].magic===nt)return _e[tt];return null};function dt(nt,tt){this.options=nt,this.loadOptions=tt}dt.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(nt){var tt,it;if(nt.skip(22),this.fileNameLength=nt.readInt(2),it=nt.readInt(2),this.fileName=nt.readData(this.fileNameLength),nt.skip(it),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(tt=lt(this.compressionMethod),tt===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,tt,nt.readData(this.compressedSize))},readCentralPart:function(nt){this.versionMadeBy=nt.readInt(2),nt.skip(2),this.bitFlag=nt.readInt(2),this.compressionMethod=nt.readString(2),this.date=nt.readDate(),this.crc32=nt.readInt(4),this.compressedSize=nt.readInt(4),this.uncompressedSize=nt.readInt(4);var tt=nt.readInt(2);if(this.extraFieldsLength=nt.readInt(2),this.fileCommentLength=nt.readInt(2),this.diskNumberStart=nt.readInt(2),this.internalFileAttributes=nt.readInt(2),this.externalFileAttributes=nt.readInt(4),this.localHeaderOffset=nt.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");nt.skip(tt),this.readExtraFields(nt),this.parseZIP64ExtraField(nt),this.fileComment=nt.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var nt=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),nt===rt&&(this.dosPermissions=this.externalFileAttributes&63),nt===st&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var nt=h(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=nt.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=nt.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=nt.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=nt.readInt(4))}},readExtraFields:function(nt){var tt=nt.index+this.extraFieldsLength,it,at,mt;for(this.extraFields||(this.extraFields={});nt.index+4<tt;)it=nt.readInt(2),at=nt.readInt(2),mt=nt.readData(at),this.extraFields[it]={id:it,length:at,value:mt};nt.setIndex(tt)},handleUTF8:function(){var nt=et.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=$.utf8decode(this.fileName),this.fileCommentStr=$.utf8decode(this.fileComment);else{var tt=this.findExtraFieldUnicodePath();if(tt!==null)this.fileNameStr=tt;else{var it=g.transformTo(nt,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(it)}var at=this.findExtraFieldUnicodeComment();if(at!==null)this.fileCommentStr=at;else{var mt=g.transformTo(nt,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(mt)}}},findExtraFieldUnicodePath:function(){var nt=this.extraFields[28789];if(nt){var tt=h(nt.value);return tt.readInt(1)!==1||_(this.fileName)!==tt.readInt(4)?null:$.utf8decode(tt.readData(nt.length-5))}return null},findExtraFieldUnicodeComment:function(){var nt=this.extraFields[25461];if(nt){var tt=h(nt.value);return tt.readInt(1)!==1||_(this.fileComment)!==tt.readInt(4)?null:$.utf8decode(tt.readData(nt.length-5))}return null}},a.exports=dt},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,a,c){var h=o("./stream/StreamHelper"),g=o("./stream/DataWorker"),b=o("./utf8"),_=o("./compressedObject"),$=o("./stream/GenericWorker"),_e=function(lt,dt,nt){this.name=lt,this.dir=nt.dir,this.date=nt.date,this.comment=nt.comment,this.unixPermissions=nt.unixPermissions,this.dosPermissions=nt.dosPermissions,this._data=dt,this._dataBinary=nt.binary,this.options={compression:nt.compression,compressionOptions:nt.compressionOptions}};_e.prototype={internalStream:function(lt){var dt=null,nt="string";try{if(!lt)throw new Error("No output type specified.");nt=lt.toLowerCase();var tt=nt==="string"||nt==="text";(nt==="binarystring"||nt==="text")&&(nt="string"),dt=this._decompressWorker();var it=!this._dataBinary;it&&!tt&&(dt=dt.pipe(new b.Utf8EncodeWorker)),!it&&tt&&(dt=dt.pipe(new b.Utf8DecodeWorker))}catch(at){dt=new $("error"),dt.error(at)}return new h(dt,nt,"")},async:function(lt,dt){return this.internalStream(lt).accumulate(dt)},nodeStream:function(lt,dt){return this.internalStream(lt||"nodebuffer").toNodejsStream(dt)},_compressWorker:function(lt,dt){if(this._data instanceof _&&this._data.compression.magic===lt.magic)return this._data.getCompressedWorker();var nt=this._decompressWorker();return this._dataBinary||(nt=nt.pipe(new b.Utf8EncodeWorker)),_.createWorkerFrom(nt,lt,dt)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof $?this._data:new g(this._data)}};for(var et=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],rt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},st=0;st<et.length;st++)_e.prototype[et[st]]=rt;a.exports=_e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,a,c){(function(h){var g=h.MutationObserver||h.WebKitMutationObserver,b;if(g){var _=0,$=new g(lt),_e=h.document.createTextNode("");$.observe(_e,{characterData:!0}),b=function(){_e.data=_=++_%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var et=new h.MessageChannel;et.port1.onmessage=lt,b=function(){et.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?b=function(){var nt=h.document.createElement("script");nt.onreadystatechange=function(){lt(),nt.onreadystatechange=null,nt.parentNode.removeChild(nt),nt=null},h.document.documentElement.appendChild(nt)}:b=function(){setTimeout(lt,0)};var rt,st=[];function lt(){rt=!0;for(var nt,tt,it=st.length;it;){for(tt=st,st=[],nt=-1;++nt<it;)tt[nt]();it=st.length}rt=!1}a.exports=dt;function dt(nt){st.push(nt)===1&&!rt&&b()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,a,c){var h=o("immediate");function g(){}var b={},_=["REJECTED"],$=["FULFILLED"],_e=["PENDING"];a.exports=et;function et(ot){if(typeof ot!="function")throw new TypeError("resolver must be a function");this.state=_e,this.queue=[],this.outcome=void 0,ot!==g&&dt(this,ot)}et.prototype.finally=function(ot){if(typeof ot!="function")return this;var pt=this.constructor;return this.then(ht,gt);function ht(xt){function Tt(){return xt}return pt.resolve(ot()).then(Tt)}function gt(xt){function Tt(){throw xt}return pt.resolve(ot()).then(Tt)}},et.prototype.catch=function(ot){return this.then(null,ot)},et.prototype.then=function(ot,pt){if(typeof ot!="function"&&this.state===$||typeof pt!="function"&&this.state===_)return this;var ht=new this.constructor(g);if(this.state!==_e){var gt=this.state===$?ot:pt;st(ht,gt,this.outcome)}else this.queue.push(new rt(ht,ot,pt));return ht};function rt(ot,pt,ht){this.promise=ot,typeof pt=="function"&&(this.onFulfilled=pt,this.callFulfilled=this.otherCallFulfilled),typeof ht=="function"&&(this.onRejected=ht,this.callRejected=this.otherCallRejected)}rt.prototype.callFulfilled=function(ot){b.resolve(this.promise,ot)},rt.prototype.otherCallFulfilled=function(ot){st(this.promise,this.onFulfilled,ot)},rt.prototype.callRejected=function(ot){b.reject(this.promise,ot)},rt.prototype.otherCallRejected=function(ot){st(this.promise,this.onRejected,ot)};function st(ot,pt,ht){h(function(){var gt;try{gt=pt(ht)}catch(xt){return b.reject(ot,xt)}gt===ot?b.reject(ot,new TypeError("Cannot resolve promise with itself")):b.resolve(ot,gt)})}b.resolve=function(ot,pt){var ht=nt(lt,pt);if(ht.status==="error")return b.reject(ot,ht.value);var gt=ht.value;if(gt)dt(ot,gt);else{ot.state=$,ot.outcome=pt;for(var xt=-1,Tt=ot.queue.length;++xt<Tt;)ot.queue[xt].callFulfilled(pt)}return ot},b.reject=function(ot,pt){ot.state=_,ot.outcome=pt;for(var ht=-1,gt=ot.queue.length;++ht<gt;)ot.queue[ht].callRejected(pt);return ot};function lt(ot){var pt=ot&&ot.then;if(ot&&(typeof ot=="object"||typeof ot=="function")&&typeof pt=="function")return function(){pt.apply(ot,arguments)}}function dt(ot,pt){var ht=!1;function gt(kt){ht||(ht=!0,b.reject(ot,kt))}function xt(kt){ht||(ht=!0,b.resolve(ot,kt))}function Tt(){pt(xt,gt)}var wt=nt(Tt);wt.status==="error"&&gt(wt.value)}function nt(ot,pt){var ht={};try{ht.value=ot(pt),ht.status="success"}catch(gt){ht.status="error",ht.value=gt}return ht}et.resolve=tt;function tt(ot){return ot instanceof this?ot:b.resolve(new this(g),ot)}et.reject=it;function it(ot){var pt=new this(g);return b.reject(pt,ot)}et.all=at;function at(ot){var pt=this;if(Object.prototype.toString.call(ot)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ht=ot.length,gt=!1;if(!ht)return this.resolve([]);for(var xt=new Array(ht),Tt=0,wt=-1,kt=new this(g);++wt<ht;)Yt(ot[wt],wt);return kt;function Yt(fn,an){pt.resolve(fn).then(dn,function(on){gt||(gt=!0,b.reject(kt,on))});function dn(on){xt[an]=on,++Tt===ht&&!gt&&(gt=!0,b.resolve(kt,xt))}}}et.race=mt;function mt(ot){var pt=this;if(Object.prototype.toString.call(ot)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ht=ot.length,gt=!1;if(!ht)return this.resolve([]);for(var xt=-1,Tt=new this(g);++xt<ht;)wt(ot[xt]);return Tt;function wt(kt){pt.resolve(kt).then(function(Yt){gt||(gt=!0,b.resolve(Tt,Yt))},function(Yt){gt||(gt=!0,b.reject(Tt,Yt))})}}},{immediate:36}],38:[function(o,a,c){var h=o("./lib/utils/common").assign,g=o("./lib/deflate"),b=o("./lib/inflate"),_=o("./lib/zlib/constants"),$={};h($,g,b,_),a.exports=$},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,a,c){var h=o("./zlib/deflate"),g=o("./utils/common"),b=o("./utils/strings"),_=o("./zlib/messages"),$=o("./zlib/zstream"),_e=Object.prototype.toString,et=0,rt=4,st=0,lt=1,dt=2,nt=-1,tt=0,it=8;function at(ht){if(!(this instanceof at))return new at(ht);this.options=g.assign({level:nt,method:it,chunkSize:16384,windowBits:15,memLevel:8,strategy:tt,to:""},ht||{});var gt=this.options;gt.raw&&gt.windowBits>0?gt.windowBits=-gt.windowBits:gt.gzip&&gt.windowBits>0&&gt.windowBits<16&&(gt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $,this.strm.avail_out=0;var xt=h.deflateInit2(this.strm,gt.level,gt.method,gt.windowBits,gt.memLevel,gt.strategy);if(xt!==st)throw new Error(_[xt]);if(gt.header&&h.deflateSetHeader(this.strm,gt.header),gt.dictionary){var Tt;if(typeof gt.dictionary=="string"?Tt=b.string2buf(gt.dictionary):_e.call(gt.dictionary)==="[object ArrayBuffer]"?Tt=new Uint8Array(gt.dictionary):Tt=gt.dictionary,xt=h.deflateSetDictionary(this.strm,Tt),xt!==st)throw new Error(_[xt]);this._dict_set=!0}}at.prototype.push=function(ht,gt){var xt=this.strm,Tt=this.options.chunkSize,wt,kt;if(this.ended)return!1;kt=gt===~~gt?gt:gt===!0?rt:et,typeof ht=="string"?xt.input=b.string2buf(ht):_e.call(ht)==="[object ArrayBuffer]"?xt.input=new Uint8Array(ht):xt.input=ht,xt.next_in=0,xt.avail_in=xt.input.length;do{if(xt.avail_out===0&&(xt.output=new g.Buf8(Tt),xt.next_out=0,xt.avail_out=Tt),wt=h.deflate(xt,kt),wt!==lt&&wt!==st)return this.onEnd(wt),this.ended=!0,!1;(xt.avail_out===0||xt.avail_in===0&&(kt===rt||kt===dt))&&(this.options.to==="string"?this.onData(b.buf2binstring(g.shrinkBuf(xt.output,xt.next_out))):this.onData(g.shrinkBuf(xt.output,xt.next_out)))}while((xt.avail_in>0||xt.avail_out===0)&&wt!==lt);return kt===rt?(wt=h.deflateEnd(this.strm),this.onEnd(wt),this.ended=!0,wt===st):(kt===dt&&(this.onEnd(st),xt.avail_out=0),!0)},at.prototype.onData=function(ht){this.chunks.push(ht)},at.prototype.onEnd=function(ht){ht===st&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=ht,this.msg=this.strm.msg};function mt(ht,gt){var xt=new at(gt);if(xt.push(ht,!0),xt.err)throw xt.msg||_[xt.err];return xt.result}function ot(ht,gt){return gt=gt||{},gt.raw=!0,mt(ht,gt)}function pt(ht,gt){return gt=gt||{},gt.gzip=!0,mt(ht,gt)}c.Deflate=at,c.deflate=mt,c.deflateRaw=ot,c.gzip=pt},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,a,c){var h=o("./zlib/inflate"),g=o("./utils/common"),b=o("./utils/strings"),_=o("./zlib/constants"),$=o("./zlib/messages"),_e=o("./zlib/zstream"),et=o("./zlib/gzheader"),rt=Object.prototype.toString;function st(nt){if(!(this instanceof st))return new st(nt);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},nt||{});var tt=this.options;tt.raw&&tt.windowBits>=0&&tt.windowBits<16&&(tt.windowBits=-tt.windowBits,tt.windowBits===0&&(tt.windowBits=-15)),tt.windowBits>=0&&tt.windowBits<16&&!(nt&&nt.windowBits)&&(tt.windowBits+=32),tt.windowBits>15&&tt.windowBits<48&&(tt.windowBits&15||(tt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _e,this.strm.avail_out=0;var it=h.inflateInit2(this.strm,tt.windowBits);if(it!==_.Z_OK)throw new Error($[it]);this.header=new et,h.inflateGetHeader(this.strm,this.header)}st.prototype.push=function(nt,tt){var it=this.strm,at=this.options.chunkSize,mt=this.options.dictionary,ot,pt,ht,gt,xt,Tt,wt=!1;if(this.ended)return!1;pt=tt===~~tt?tt:tt===!0?_.Z_FINISH:_.Z_NO_FLUSH,typeof nt=="string"?it.input=b.binstring2buf(nt):rt.call(nt)==="[object ArrayBuffer]"?it.input=new Uint8Array(nt):it.input=nt,it.next_in=0,it.avail_in=it.input.length;do{if(it.avail_out===0&&(it.output=new g.Buf8(at),it.next_out=0,it.avail_out=at),ot=h.inflate(it,_.Z_NO_FLUSH),ot===_.Z_NEED_DICT&&mt&&(typeof mt=="string"?Tt=b.string2buf(mt):rt.call(mt)==="[object ArrayBuffer]"?Tt=new Uint8Array(mt):Tt=mt,ot=h.inflateSetDictionary(this.strm,Tt)),ot===_.Z_BUF_ERROR&&wt===!0&&(ot=_.Z_OK,wt=!1),ot!==_.Z_STREAM_END&&ot!==_.Z_OK)return this.onEnd(ot),this.ended=!0,!1;it.next_out&&(it.avail_out===0||ot===_.Z_STREAM_END||it.avail_in===0&&(pt===_.Z_FINISH||pt===_.Z_SYNC_FLUSH))&&(this.options.to==="string"?(ht=b.utf8border(it.output,it.next_out),gt=it.next_out-ht,xt=b.buf2string(it.output,ht),it.next_out=gt,it.avail_out=at-gt,gt&&g.arraySet(it.output,it.output,ht,gt,0),this.onData(xt)):this.onData(g.shrinkBuf(it.output,it.next_out))),it.avail_in===0&&it.avail_out===0&&(wt=!0)}while((it.avail_in>0||it.avail_out===0)&&ot!==_.Z_STREAM_END);return ot===_.Z_STREAM_END&&(pt=_.Z_FINISH),pt===_.Z_FINISH?(ot=h.inflateEnd(this.strm),this.onEnd(ot),this.ended=!0,ot===_.Z_OK):(pt===_.Z_SYNC_FLUSH&&(this.onEnd(_.Z_OK),it.avail_out=0),!0)},st.prototype.onData=function(nt){this.chunks.push(nt)},st.prototype.onEnd=function(nt){nt===_.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=nt,this.msg=this.strm.msg};function lt(nt,tt){var it=new st(tt);if(it.push(nt,!0),it.err)throw it.msg||$[it.err];return it.result}function dt(nt,tt){return tt=tt||{},tt.raw=!0,lt(nt,tt)}c.Inflate=st,c.inflate=lt,c.inflateRaw=dt,c.ungzip=lt},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,a,c){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(_){for(var $=Array.prototype.slice.call(arguments,1);$.length;){var _e=$.shift();if(_e){if(typeof _e!="object")throw new TypeError(_e+"must be non-object");for(var et in _e)_e.hasOwnProperty(et)&&(_[et]=_e[et])}}return _},c.shrinkBuf=function(_,$){return _.length===$?_:_.subarray?_.subarray(0,$):(_.length=$,_)};var g={arraySet:function(_,$,_e,et,rt){if($.subarray&&_.subarray){_.set($.subarray(_e,_e+et),rt);return}for(var st=0;st<et;st++)_[rt+st]=$[_e+st]},flattenChunks:function(_){var $,_e,et,rt,st,lt;for(et=0,$=0,_e=_.length;$<_e;$++)et+=_[$].length;for(lt=new Uint8Array(et),rt=0,$=0,_e=_.length;$<_e;$++)st=_[$],lt.set(st,rt),rt+=st.length;return lt}},b={arraySet:function(_,$,_e,et,rt){for(var st=0;st<et;st++)_[rt+st]=$[_e+st]},flattenChunks:function(_){return[].concat.apply([],_)}};c.setTyped=function(_){_?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,g)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,b))},c.setTyped(h)},{}],42:[function(o,a,c){var h=o("./common"),g=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var _=new h.Buf8(256),$=0;$<256;$++)_[$]=$>=252?6:$>=248?5:$>=240?4:$>=224?3:$>=192?2:1;_[254]=_[254]=1,c.string2buf=function(et){var rt,st,lt,dt,nt,tt=et.length,it=0;for(dt=0;dt<tt;dt++)st=et.charCodeAt(dt),(st&64512)===55296&&dt+1<tt&&(lt=et.charCodeAt(dt+1),(lt&64512)===56320&&(st=65536+(st-55296<<10)+(lt-56320),dt++)),it+=st<128?1:st<2048?2:st<65536?3:4;for(rt=new h.Buf8(it),nt=0,dt=0;nt<it;dt++)st=et.charCodeAt(dt),(st&64512)===55296&&dt+1<tt&&(lt=et.charCodeAt(dt+1),(lt&64512)===56320&&(st=65536+(st-55296<<10)+(lt-56320),dt++)),st<128?rt[nt++]=st:st<2048?(rt[nt++]=192|st>>>6,rt[nt++]=128|st&63):st<65536?(rt[nt++]=224|st>>>12,rt[nt++]=128|st>>>6&63,rt[nt++]=128|st&63):(rt[nt++]=240|st>>>18,rt[nt++]=128|st>>>12&63,rt[nt++]=128|st>>>6&63,rt[nt++]=128|st&63);return rt};function _e(et,rt){if(rt<65537&&(et.subarray&&b||!et.subarray&&g))return String.fromCharCode.apply(null,h.shrinkBuf(et,rt));for(var st="",lt=0;lt<rt;lt++)st+=String.fromCharCode(et[lt]);return st}c.buf2binstring=function(et){return _e(et,et.length)},c.binstring2buf=function(et){for(var rt=new h.Buf8(et.length),st=0,lt=rt.length;st<lt;st++)rt[st]=et.charCodeAt(st);return rt},c.buf2string=function(et,rt){var st,lt,dt,nt,tt=rt||et.length,it=new Array(tt*2);for(lt=0,st=0;st<tt;){if(dt=et[st++],dt<128){it[lt++]=dt;continue}if(nt=_[dt],nt>4){it[lt++]=65533,st+=nt-1;continue}for(dt&=nt===2?31:nt===3?15:7;nt>1&&st<tt;)dt=dt<<6|et[st++]&63,nt--;if(nt>1){it[lt++]=65533;continue}dt<65536?it[lt++]=dt:(dt-=65536,it[lt++]=55296|dt>>10&1023,it[lt++]=56320|dt&1023)}return _e(it,lt)},c.utf8border=function(et,rt){var st;for(rt=rt||et.length,rt>et.length&&(rt=et.length),st=rt-1;st>=0&&(et[st]&192)===128;)st--;return st<0||st===0?rt:st+_[et[st]]>rt?st:rt}},{"./common":41}],43:[function(o,a,c){function h(g,b,_,$){for(var _e=g&65535|0,et=g>>>16&65535|0,rt=0;_!==0;){rt=_>2e3?2e3:_,_-=rt;do _e=_e+b[$++]|0,et=et+_e|0;while(--rt);_e%=65521,et%=65521}return _e|et<<16|0}a.exports=h},{}],44:[function(o,a,c){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,a,c){function h(){for(var _,$=[],_e=0;_e<256;_e++){_=_e;for(var et=0;et<8;et++)_=_&1?3988292384^_>>>1:_>>>1;$[_e]=_}return $}var g=h();function b(_,$,_e,et){var rt=g,st=et+_e;_^=-1;for(var lt=et;lt<st;lt++)_=_>>>8^rt[(_^$[lt])&255];return _^-1}a.exports=b},{}],46:[function(o,a,c){var h=o("../utils/common"),g=o("./trees"),b=o("./adler32"),_=o("./crc32"),$=o("./messages"),_e=0,et=1,rt=3,st=4,lt=5,dt=0,nt=1,tt=-2,it=-3,at=-5,mt=-1,ot=1,pt=2,ht=3,gt=4,xt=0,Tt=2,wt=8,kt=9,Yt=15,fn=8,an=29,dn=256,on=dn+1+an,Jt=30,Rt=19,zt=2*on+1,nn=15,Nt=3,Et=258,St=Et+Nt+1,jt=32,en=42,sn=69,rn=73,vn=91,_n=103,In=113,Fn=666,$n=1,Un=2,Wn=3,Rn=4,xn=3;function tn(yt,bn){return yt.msg=$[bn],bn}function hn(yt){return(yt<<1)-(yt>4?9:0)}function yn(yt){for(var bn=yt.length;--bn>=0;)yt[bn]=0}function On(yt){var bn=yt.state,Mt=bn.pending;Mt>yt.avail_out&&(Mt=yt.avail_out),Mt!==0&&(h.arraySet(yt.output,bn.pending_buf,bn.pending_out,Mt,yt.next_out),yt.next_out+=Mt,bn.pending_out+=Mt,yt.total_out+=Mt,yt.avail_out-=Mt,bn.pending-=Mt,bn.pending===0&&(bn.pending_out=0))}function jn(yt,bn){g._tr_flush_block(yt,yt.block_start>=0?yt.block_start:-1,yt.strstart-yt.block_start,bn),yt.block_start=yt.strstart,On(yt.strm)}function zn(yt,bn){yt.pending_buf[yt.pending++]=bn}function Vn(yt,bn){yt.pending_buf[yt.pending++]=bn>>>8&255,yt.pending_buf[yt.pending++]=bn&255}function Tn(yt,bn,Mt,bt){var Lt=yt.avail_in;return Lt>bt&&(Lt=bt),Lt===0?0:(yt.avail_in-=Lt,h.arraySet(bn,yt.input,yt.next_in,Lt,Mt),yt.state.wrap===1?yt.adler=b(yt.adler,bn,Lt,Mt):yt.state.wrap===2&&(yt.adler=_(yt.adler,bn,Lt,Mt)),yt.next_in+=Lt,yt.total_in+=Lt,Lt)}function Kn(yt,bn){var Mt=yt.max_chain_length,bt=yt.strstart,Lt,un,Sn=yt.prev_length,Nn=yt.nice_match,Dn=yt.strstart>yt.w_size-St?yt.strstart-(yt.w_size-St):0,Qn=yt.window,rr=yt.w_mask,Yn=yt.prev,ir=yt.strstart+Et,Jn=Qn[bt+Sn-1],tr=Qn[bt+Sn];yt.prev_length>=yt.good_match&&(Mt>>=2),Nn>yt.lookahead&&(Nn=yt.lookahead);do if(Lt=bn,!(Qn[Lt+Sn]!==tr||Qn[Lt+Sn-1]!==Jn||Qn[Lt]!==Qn[bt]||Qn[++Lt]!==Qn[bt+1])){bt+=2,Lt++;do;while(Qn[++bt]===Qn[++Lt]&&Qn[++bt]===Qn[++Lt]&&Qn[++bt]===Qn[++Lt]&&Qn[++bt]===Qn[++Lt]&&Qn[++bt]===Qn[++Lt]&&Qn[++bt]===Qn[++Lt]&&Qn[++bt]===Qn[++Lt]&&Qn[++bt]===Qn[++Lt]&&bt<ir);if(un=Et-(ir-bt),bt=ir-Et,un>Sn){if(yt.match_start=bn,Sn=un,un>=Nn)break;Jn=Qn[bt+Sn-1],tr=Qn[bt+Sn]}}while((bn=Yn[bn&rr])>Dn&&--Mt!==0);return Sn<=yt.lookahead?Sn:yt.lookahead}function Xn(yt){var bn=yt.w_size,Mt,bt,Lt,un,Sn;do{if(un=yt.window_size-yt.lookahead-yt.strstart,yt.strstart>=bn+(bn-St)){h.arraySet(yt.window,yt.window,bn,bn,0),yt.match_start-=bn,yt.strstart-=bn,yt.block_start-=bn,bt=yt.hash_size,Mt=bt;do Lt=yt.head[--Mt],yt.head[Mt]=Lt>=bn?Lt-bn:0;while(--bt);bt=bn,Mt=bt;do Lt=yt.prev[--Mt],yt.prev[Mt]=Lt>=bn?Lt-bn:0;while(--bt);un+=bn}if(yt.strm.avail_in===0)break;if(bt=Tn(yt.strm,yt.window,yt.strstart+yt.lookahead,un),yt.lookahead+=bt,yt.lookahead+yt.insert>=Nt)for(Sn=yt.strstart-yt.insert,yt.ins_h=yt.window[Sn],yt.ins_h=(yt.ins_h<<yt.hash_shift^yt.window[Sn+1])&yt.hash_mask;yt.insert&&(yt.ins_h=(yt.ins_h<<yt.hash_shift^yt.window[Sn+Nt-1])&yt.hash_mask,yt.prev[Sn&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=Sn,Sn++,yt.insert--,!(yt.lookahead+yt.insert<Nt)););}while(yt.lookahead<St&&yt.strm.avail_in!==0)}function hr(yt,bn){var Mt=65535;for(Mt>yt.pending_buf_size-5&&(Mt=yt.pending_buf_size-5);;){if(yt.lookahead<=1){if(Xn(yt),yt.lookahead===0&&bn===_e)return $n;if(yt.lookahead===0)break}yt.strstart+=yt.lookahead,yt.lookahead=0;var bt=yt.block_start+Mt;if((yt.strstart===0||yt.strstart>=bt)&&(yt.lookahead=yt.strstart-bt,yt.strstart=bt,jn(yt,!1),yt.strm.avail_out===0)||yt.strstart-yt.block_start>=yt.w_size-St&&(jn(yt,!1),yt.strm.avail_out===0))return $n}return yt.insert=0,bn===st?(jn(yt,!0),yt.strm.avail_out===0?Wn:Rn):(yt.strstart>yt.block_start&&(jn(yt,!1),yt.strm.avail_out===0),$n)}function cr(yt,bn){for(var Mt,bt;;){if(yt.lookahead<St){if(Xn(yt),yt.lookahead<St&&bn===_e)return $n;if(yt.lookahead===0)break}if(Mt=0,yt.lookahead>=Nt&&(yt.ins_h=(yt.ins_h<<yt.hash_shift^yt.window[yt.strstart+Nt-1])&yt.hash_mask,Mt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart),Mt!==0&&yt.strstart-Mt<=yt.w_size-St&&(yt.match_length=Kn(yt,Mt)),yt.match_length>=Nt)if(bt=g._tr_tally(yt,yt.strstart-yt.match_start,yt.match_length-Nt),yt.lookahead-=yt.match_length,yt.match_length<=yt.max_lazy_match&&yt.lookahead>=Nt){yt.match_length--;do yt.strstart++,yt.ins_h=(yt.ins_h<<yt.hash_shift^yt.window[yt.strstart+Nt-1])&yt.hash_mask,Mt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart;while(--yt.match_length!==0);yt.strstart++}else yt.strstart+=yt.match_length,yt.match_length=0,yt.ins_h=yt.window[yt.strstart],yt.ins_h=(yt.ins_h<<yt.hash_shift^yt.window[yt.strstart+1])&yt.hash_mask;else bt=g._tr_tally(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++;if(bt&&(jn(yt,!1),yt.strm.avail_out===0))return $n}return yt.insert=yt.strstart<Nt-1?yt.strstart:Nt-1,bn===st?(jn(yt,!0),yt.strm.avail_out===0?Wn:Rn):yt.last_lit&&(jn(yt,!1),yt.strm.avail_out===0)?$n:Un}function fr(yt,bn){for(var Mt,bt,Lt;;){if(yt.lookahead<St){if(Xn(yt),yt.lookahead<St&&bn===_e)return $n;if(yt.lookahead===0)break}if(Mt=0,yt.lookahead>=Nt&&(yt.ins_h=(yt.ins_h<<yt.hash_shift^yt.window[yt.strstart+Nt-1])&yt.hash_mask,Mt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart),yt.prev_length=yt.match_length,yt.prev_match=yt.match_start,yt.match_length=Nt-1,Mt!==0&&yt.prev_length<yt.max_lazy_match&&yt.strstart-Mt<=yt.w_size-St&&(yt.match_length=Kn(yt,Mt),yt.match_length<=5&&(yt.strategy===ot||yt.match_length===Nt&&yt.strstart-yt.match_start>4096)&&(yt.match_length=Nt-1)),yt.prev_length>=Nt&&yt.match_length<=yt.prev_length){Lt=yt.strstart+yt.lookahead-Nt,bt=g._tr_tally(yt,yt.strstart-1-yt.prev_match,yt.prev_length-Nt),yt.lookahead-=yt.prev_length-1,yt.prev_length-=2;do++yt.strstart<=Lt&&(yt.ins_h=(yt.ins_h<<yt.hash_shift^yt.window[yt.strstart+Nt-1])&yt.hash_mask,Mt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart);while(--yt.prev_length!==0);if(yt.match_available=0,yt.match_length=Nt-1,yt.strstart++,bt&&(jn(yt,!1),yt.strm.avail_out===0))return $n}else if(yt.match_available){if(bt=g._tr_tally(yt,0,yt.window[yt.strstart-1]),bt&&jn(yt,!1),yt.strstart++,yt.lookahead--,yt.strm.avail_out===0)return $n}else yt.match_available=1,yt.strstart++,yt.lookahead--}return yt.match_available&&(bt=g._tr_tally(yt,0,yt.window[yt.strstart-1]),yt.match_available=0),yt.insert=yt.strstart<Nt-1?yt.strstart:Nt-1,bn===st?(jn(yt,!0),yt.strm.avail_out===0?Wn:Rn):yt.last_lit&&(jn(yt,!1),yt.strm.avail_out===0)?$n:Un}function nr(yt,bn){for(var Mt,bt,Lt,un,Sn=yt.window;;){if(yt.lookahead<=Et){if(Xn(yt),yt.lookahead<=Et&&bn===_e)return $n;if(yt.lookahead===0)break}if(yt.match_length=0,yt.lookahead>=Nt&&yt.strstart>0&&(Lt=yt.strstart-1,bt=Sn[Lt],bt===Sn[++Lt]&&bt===Sn[++Lt]&&bt===Sn[++Lt])){un=yt.strstart+Et;do;while(bt===Sn[++Lt]&&bt===Sn[++Lt]&&bt===Sn[++Lt]&&bt===Sn[++Lt]&&bt===Sn[++Lt]&&bt===Sn[++Lt]&&bt===Sn[++Lt]&&bt===Sn[++Lt]&&Lt<un);yt.match_length=Et-(un-Lt),yt.match_length>yt.lookahead&&(yt.match_length=yt.lookahead)}if(yt.match_length>=Nt?(Mt=g._tr_tally(yt,1,yt.match_length-Nt),yt.lookahead-=yt.match_length,yt.strstart+=yt.match_length,yt.match_length=0):(Mt=g._tr_tally(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++),Mt&&(jn(yt,!1),yt.strm.avail_out===0))return $n}return yt.insert=0,bn===st?(jn(yt,!0),yt.strm.avail_out===0?Wn:Rn):yt.last_lit&&(jn(yt,!1),yt.strm.avail_out===0)?$n:Un}function ar(yt,bn){for(var Mt;;){if(yt.lookahead===0&&(Xn(yt),yt.lookahead===0)){if(bn===_e)return $n;break}if(yt.match_length=0,Mt=g._tr_tally(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++,Mt&&(jn(yt,!1),yt.strm.avail_out===0))return $n}return yt.insert=0,bn===st?(jn(yt,!0),yt.strm.avail_out===0?Wn:Rn):yt.last_lit&&(jn(yt,!1),yt.strm.avail_out===0)?$n:Un}function dr(yt,bn,Mt,bt,Lt){this.good_length=yt,this.max_lazy=bn,this.nice_length=Mt,this.max_chain=bt,this.func=Lt}var gr;gr=[new dr(0,0,0,0,hr),new dr(4,4,8,4,cr),new dr(4,5,16,8,cr),new dr(4,6,32,32,cr),new dr(4,4,16,16,fr),new dr(8,16,32,32,fr),new dr(8,16,128,128,fr),new dr(8,32,128,256,fr),new dr(32,128,258,1024,fr),new dr(32,258,258,4096,fr)];function Hn(yt){yt.window_size=2*yt.w_size,yn(yt.head),yt.max_lazy_match=gr[yt.level].max_lazy,yt.good_match=gr[yt.level].good_length,yt.nice_match=gr[yt.level].nice_length,yt.max_chain_length=gr[yt.level].max_chain,yt.strstart=0,yt.block_start=0,yt.lookahead=0,yt.insert=0,yt.match_length=yt.prev_length=Nt-1,yt.match_available=0,yt.ins_h=0}function Pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(zt*2),this.dyn_dtree=new h.Buf16((2*Jt+1)*2),this.bl_tree=new h.Buf16((2*Rt+1)*2),yn(this.dyn_ltree),yn(this.dyn_dtree),yn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(nn+1),this.heap=new h.Buf16(2*on+1),yn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*on+1),yn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pn(yt){var bn;return!yt||!yt.state?tn(yt,tt):(yt.total_in=yt.total_out=0,yt.data_type=Tt,bn=yt.state,bn.pending=0,bn.pending_out=0,bn.wrap<0&&(bn.wrap=-bn.wrap),bn.status=bn.wrap?en:In,yt.adler=bn.wrap===2?0:1,bn.last_flush=_e,g._tr_init(bn),dt)}function An(yt){var bn=pn(yt);return bn===dt&&Hn(yt.state),bn}function Gn(yt,bn){return!yt||!yt.state||yt.state.wrap!==2?tt:(yt.state.gzhead=bn,dt)}function gn(yt,bn,Mt,bt,Lt,un){if(!yt)return tt;var Sn=1;if(bn===mt&&(bn=6),bt<0?(Sn=0,bt=-bt):bt>15&&(Sn=2,bt-=16),Lt<1||Lt>kt||Mt!==wt||bt<8||bt>15||bn<0||bn>9||un<0||un>gt)return tn(yt,tt);bt===8&&(bt=9);var Nn=new Pt;return yt.state=Nn,Nn.strm=yt,Nn.wrap=Sn,Nn.gzhead=null,Nn.w_bits=bt,Nn.w_size=1<<Nn.w_bits,Nn.w_mask=Nn.w_size-1,Nn.hash_bits=Lt+7,Nn.hash_size=1<<Nn.hash_bits,Nn.hash_mask=Nn.hash_size-1,Nn.hash_shift=~~((Nn.hash_bits+Nt-1)/Nt),Nn.window=new h.Buf8(Nn.w_size*2),Nn.head=new h.Buf16(Nn.hash_size),Nn.prev=new h.Buf16(Nn.w_size),Nn.lit_bufsize=1<<Lt+6,Nn.pending_buf_size=Nn.lit_bufsize*4,Nn.pending_buf=new h.Buf8(Nn.pending_buf_size),Nn.d_buf=1*Nn.lit_bufsize,Nn.l_buf=3*Nn.lit_bufsize,Nn.level=bn,Nn.strategy=un,Nn.method=Mt,An(yt)}function Bt(yt,bn){return gn(yt,bn,wt,Yt,fn,xt)}function At(yt,bn){var Mt,bt,Lt,un;if(!yt||!yt.state||bn>lt||bn<0)return yt?tn(yt,tt):tt;if(bt=yt.state,!yt.output||!yt.input&&yt.avail_in!==0||bt.status===Fn&&bn!==st)return tn(yt,yt.avail_out===0?at:tt);if(bt.strm=yt,Mt=bt.last_flush,bt.last_flush=bn,bt.status===en)if(bt.wrap===2)yt.adler=0,zn(bt,31),zn(bt,139),zn(bt,8),bt.gzhead?(zn(bt,(bt.gzhead.text?1:0)+(bt.gzhead.hcrc?2:0)+(bt.gzhead.extra?4:0)+(bt.gzhead.name?8:0)+(bt.gzhead.comment?16:0)),zn(bt,bt.gzhead.time&255),zn(bt,bt.gzhead.time>>8&255),zn(bt,bt.gzhead.time>>16&255),zn(bt,bt.gzhead.time>>24&255),zn(bt,bt.level===9?2:bt.strategy>=pt||bt.level<2?4:0),zn(bt,bt.gzhead.os&255),bt.gzhead.extra&&bt.gzhead.extra.length&&(zn(bt,bt.gzhead.extra.length&255),zn(bt,bt.gzhead.extra.length>>8&255)),bt.gzhead.hcrc&&(yt.adler=_(yt.adler,bt.pending_buf,bt.pending,0)),bt.gzindex=0,bt.status=sn):(zn(bt,0),zn(bt,0),zn(bt,0),zn(bt,0),zn(bt,0),zn(bt,bt.level===9?2:bt.strategy>=pt||bt.level<2?4:0),zn(bt,xn),bt.status=In);else{var Sn=wt+(bt.w_bits-8<<4)<<8,Nn=-1;bt.strategy>=pt||bt.level<2?Nn=0:bt.level<6?Nn=1:bt.level===6?Nn=2:Nn=3,Sn|=Nn<<6,bt.strstart!==0&&(Sn|=jt),Sn+=31-Sn%31,bt.status=In,Vn(bt,Sn),bt.strstart!==0&&(Vn(bt,yt.adler>>>16),Vn(bt,yt.adler&65535)),yt.adler=1}if(bt.status===sn)if(bt.gzhead.extra){for(Lt=bt.pending;bt.gzindex<(bt.gzhead.extra.length&65535)&&!(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>Lt&&(yt.adler=_(yt.adler,bt.pending_buf,bt.pending-Lt,Lt)),On(yt),Lt=bt.pending,bt.pending===bt.pending_buf_size));)zn(bt,bt.gzhead.extra[bt.gzindex]&255),bt.gzindex++;bt.gzhead.hcrc&&bt.pending>Lt&&(yt.adler=_(yt.adler,bt.pending_buf,bt.pending-Lt,Lt)),bt.gzindex===bt.gzhead.extra.length&&(bt.gzindex=0,bt.status=rn)}else bt.status=rn;if(bt.status===rn)if(bt.gzhead.name){Lt=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>Lt&&(yt.adler=_(yt.adler,bt.pending_buf,bt.pending-Lt,Lt)),On(yt),Lt=bt.pending,bt.pending===bt.pending_buf_size)){un=1;break}bt.gzindex<bt.gzhead.name.length?un=bt.gzhead.name.charCodeAt(bt.gzindex++)&255:un=0,zn(bt,un)}while(un!==0);bt.gzhead.hcrc&&bt.pending>Lt&&(yt.adler=_(yt.adler,bt.pending_buf,bt.pending-Lt,Lt)),un===0&&(bt.gzindex=0,bt.status=vn)}else bt.status=vn;if(bt.status===vn)if(bt.gzhead.comment){Lt=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>Lt&&(yt.adler=_(yt.adler,bt.pending_buf,bt.pending-Lt,Lt)),On(yt),Lt=bt.pending,bt.pending===bt.pending_buf_size)){un=1;break}bt.gzindex<bt.gzhead.comment.length?un=bt.gzhead.comment.charCodeAt(bt.gzindex++)&255:un=0,zn(bt,un)}while(un!==0);bt.gzhead.hcrc&&bt.pending>Lt&&(yt.adler=_(yt.adler,bt.pending_buf,bt.pending-Lt,Lt)),un===0&&(bt.status=_n)}else bt.status=_n;if(bt.status===_n&&(bt.gzhead.hcrc?(bt.pending+2>bt.pending_buf_size&&On(yt),bt.pending+2<=bt.pending_buf_size&&(zn(bt,yt.adler&255),zn(bt,yt.adler>>8&255),yt.adler=0,bt.status=In)):bt.status=In),bt.pending!==0){if(On(yt),yt.avail_out===0)return bt.last_flush=-1,dt}else if(yt.avail_in===0&&hn(bn)<=hn(Mt)&&bn!==st)return tn(yt,at);if(bt.status===Fn&&yt.avail_in!==0)return tn(yt,at);if(yt.avail_in!==0||bt.lookahead!==0||bn!==_e&&bt.status!==Fn){var Dn=bt.strategy===pt?ar(bt,bn):bt.strategy===ht?nr(bt,bn):gr[bt.level].func(bt,bn);if((Dn===Wn||Dn===Rn)&&(bt.status=Fn),Dn===$n||Dn===Wn)return yt.avail_out===0&&(bt.last_flush=-1),dt;if(Dn===Un&&(bn===et?g._tr_align(bt):bn!==lt&&(g._tr_stored_block(bt,0,0,!1),bn===rt&&(yn(bt.head),bt.lookahead===0&&(bt.strstart=0,bt.block_start=0,bt.insert=0))),On(yt),yt.avail_out===0))return bt.last_flush=-1,dt}return bn!==st?dt:bt.wrap<=0?nt:(bt.wrap===2?(zn(bt,yt.adler&255),zn(bt,yt.adler>>8&255),zn(bt,yt.adler>>16&255),zn(bt,yt.adler>>24&255),zn(bt,yt.total_in&255),zn(bt,yt.total_in>>8&255),zn(bt,yt.total_in>>16&255),zn(bt,yt.total_in>>24&255)):(Vn(bt,yt.adler>>>16),Vn(bt,yt.adler&65535)),On(yt),bt.wrap>0&&(bt.wrap=-bt.wrap),bt.pending!==0?dt:nt)}function Pn(yt){var bn;return!yt||!yt.state?tt:(bn=yt.state.status,bn!==en&&bn!==sn&&bn!==rn&&bn!==vn&&bn!==_n&&bn!==In&&bn!==Fn?tn(yt,tt):(yt.state=null,bn===In?tn(yt,it):dt))}function qn(yt,bn){var Mt=bn.length,bt,Lt,un,Sn,Nn,Dn,Qn,rr;if(!yt||!yt.state||(bt=yt.state,Sn=bt.wrap,Sn===2||Sn===1&&bt.status!==en||bt.lookahead))return tt;for(Sn===1&&(yt.adler=b(yt.adler,bn,Mt,0)),bt.wrap=0,Mt>=bt.w_size&&(Sn===0&&(yn(bt.head),bt.strstart=0,bt.block_start=0,bt.insert=0),rr=new h.Buf8(bt.w_size),h.arraySet(rr,bn,Mt-bt.w_size,bt.w_size,0),bn=rr,Mt=bt.w_size),Nn=yt.avail_in,Dn=yt.next_in,Qn=yt.input,yt.avail_in=Mt,yt.next_in=0,yt.input=bn,Xn(bt);bt.lookahead>=Nt;){Lt=bt.strstart,un=bt.lookahead-(Nt-1);do bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[Lt+Nt-1])&bt.hash_mask,bt.prev[Lt&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=Lt,Lt++;while(--un);bt.strstart=Lt,bt.lookahead=Nt-1,Xn(bt)}return bt.strstart+=bt.lookahead,bt.block_start=bt.strstart,bt.insert=bt.lookahead,bt.lookahead=0,bt.match_length=bt.prev_length=Nt-1,bt.match_available=0,yt.next_in=Dn,yt.input=Qn,yt.avail_in=Nn,bt.wrap=Sn,dt}c.deflateInit=Bt,c.deflateInit2=gn,c.deflateReset=An,c.deflateResetKeep=pn,c.deflateSetHeader=Gn,c.deflate=At,c.deflateEnd=Pn,c.deflateSetDictionary=qn,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,a,c){function h(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a.exports=h},{}],48:[function(o,a,c){var h=30,g=12;a.exports=function(_,$){var _e,et,rt,st,lt,dt,nt,tt,it,at,mt,ot,pt,ht,gt,xt,Tt,wt,kt,Yt,fn,an,dn,on,Jt;_e=_.state,et=_.next_in,on=_.input,rt=et+(_.avail_in-5),st=_.next_out,Jt=_.output,lt=st-($-_.avail_out),dt=st+(_.avail_out-257),nt=_e.dmax,tt=_e.wsize,it=_e.whave,at=_e.wnext,mt=_e.window,ot=_e.hold,pt=_e.bits,ht=_e.lencode,gt=_e.distcode,xt=(1<<_e.lenbits)-1,Tt=(1<<_e.distbits)-1;e:do{pt<15&&(ot+=on[et++]<<pt,pt+=8,ot+=on[et++]<<pt,pt+=8),wt=ht[ot&xt];t:for(;;){if(kt=wt>>>24,ot>>>=kt,pt-=kt,kt=wt>>>16&255,kt===0)Jt[st++]=wt&65535;else if(kt&16){Yt=wt&65535,kt&=15,kt&&(pt<kt&&(ot+=on[et++]<<pt,pt+=8),Yt+=ot&(1<<kt)-1,ot>>>=kt,pt-=kt),pt<15&&(ot+=on[et++]<<pt,pt+=8,ot+=on[et++]<<pt,pt+=8),wt=gt[ot&Tt];n:for(;;){if(kt=wt>>>24,ot>>>=kt,pt-=kt,kt=wt>>>16&255,kt&16){if(fn=wt&65535,kt&=15,pt<kt&&(ot+=on[et++]<<pt,pt+=8,pt<kt&&(ot+=on[et++]<<pt,pt+=8)),fn+=ot&(1<<kt)-1,fn>nt){_.msg="invalid distance too far back",_e.mode=h;break e}if(ot>>>=kt,pt-=kt,kt=st-lt,fn>kt){if(kt=fn-kt,kt>it&&_e.sane){_.msg="invalid distance too far back",_e.mode=h;break e}if(an=0,dn=mt,at===0){if(an+=tt-kt,kt<Yt){Yt-=kt;do Jt[st++]=mt[an++];while(--kt);an=st-fn,dn=Jt}}else if(at<kt){if(an+=tt+at-kt,kt-=at,kt<Yt){Yt-=kt;do Jt[st++]=mt[an++];while(--kt);if(an=0,at<Yt){kt=at,Yt-=kt;do Jt[st++]=mt[an++];while(--kt);an=st-fn,dn=Jt}}}else if(an+=at-kt,kt<Yt){Yt-=kt;do Jt[st++]=mt[an++];while(--kt);an=st-fn,dn=Jt}for(;Yt>2;)Jt[st++]=dn[an++],Jt[st++]=dn[an++],Jt[st++]=dn[an++],Yt-=3;Yt&&(Jt[st++]=dn[an++],Yt>1&&(Jt[st++]=dn[an++]))}else{an=st-fn;do Jt[st++]=Jt[an++],Jt[st++]=Jt[an++],Jt[st++]=Jt[an++],Yt-=3;while(Yt>2);Yt&&(Jt[st++]=Jt[an++],Yt>1&&(Jt[st++]=Jt[an++]))}}else if(kt&64){_.msg="invalid distance code",_e.mode=h;break e}else{wt=gt[(wt&65535)+(ot&(1<<kt)-1)];continue n}break}}else if(kt&64)if(kt&32){_e.mode=g;break e}else{_.msg="invalid literal/length code",_e.mode=h;break e}else{wt=ht[(wt&65535)+(ot&(1<<kt)-1)];continue t}break}}while(et<rt&&st<dt);Yt=pt>>3,et-=Yt,pt-=Yt<<3,ot&=(1<<pt)-1,_.next_in=et,_.next_out=st,_.avail_in=et<rt?5+(rt-et):5-(et-rt),_.avail_out=st<dt?257+(dt-st):257-(st-dt),_e.hold=ot,_e.bits=pt}},{}],49:[function(o,a,c){var h=o("../utils/common"),g=o("./adler32"),b=o("./crc32"),_=o("./inffast"),$=o("./inftrees"),_e=0,et=1,rt=2,st=4,lt=5,dt=6,nt=0,tt=1,it=2,at=-2,mt=-3,ot=-4,pt=-5,ht=8,gt=1,xt=2,Tt=3,wt=4,kt=5,Yt=6,fn=7,an=8,dn=9,on=10,Jt=11,Rt=12,zt=13,nn=14,Nt=15,Et=16,St=17,jt=18,en=19,sn=20,rn=21,vn=22,_n=23,In=24,Fn=25,$n=26,Un=27,Wn=28,Rn=29,xn=30,tn=31,hn=32,yn=852,On=592,jn=15,zn=jn;function Vn(gn){return(gn>>>24&255)+(gn>>>8&65280)+((gn&65280)<<8)+((gn&255)<<24)}function Tn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Kn(gn){var Bt;return!gn||!gn.state?at:(Bt=gn.state,gn.total_in=gn.total_out=Bt.total=0,gn.msg="",Bt.wrap&&(gn.adler=Bt.wrap&1),Bt.mode=gt,Bt.last=0,Bt.havedict=0,Bt.dmax=32768,Bt.head=null,Bt.hold=0,Bt.bits=0,Bt.lencode=Bt.lendyn=new h.Buf32(yn),Bt.distcode=Bt.distdyn=new h.Buf32(On),Bt.sane=1,Bt.back=-1,nt)}function Xn(gn){var Bt;return!gn||!gn.state?at:(Bt=gn.state,Bt.wsize=0,Bt.whave=0,Bt.wnext=0,Kn(gn))}function hr(gn,Bt){var At,Pn;return!gn||!gn.state||(Pn=gn.state,Bt<0?(At=0,Bt=-Bt):(At=(Bt>>4)+1,Bt<48&&(Bt&=15)),Bt&&(Bt<8||Bt>15))?at:(Pn.window!==null&&Pn.wbits!==Bt&&(Pn.window=null),Pn.wrap=At,Pn.wbits=Bt,Xn(gn))}function cr(gn,Bt){var At,Pn;return gn?(Pn=new Tn,gn.state=Pn,Pn.window=null,At=hr(gn,Bt),At!==nt&&(gn.state=null),At):at}function fr(gn){return cr(gn,zn)}var nr=!0,ar,dr;function gr(gn){if(nr){var Bt;for(ar=new h.Buf32(512),dr=new h.Buf32(32),Bt=0;Bt<144;)gn.lens[Bt++]=8;for(;Bt<256;)gn.lens[Bt++]=9;for(;Bt<280;)gn.lens[Bt++]=7;for(;Bt<288;)gn.lens[Bt++]=8;for($(et,gn.lens,0,288,ar,0,gn.work,{bits:9}),Bt=0;Bt<32;)gn.lens[Bt++]=5;$(rt,gn.lens,0,32,dr,0,gn.work,{bits:5}),nr=!1}gn.lencode=ar,gn.lenbits=9,gn.distcode=dr,gn.distbits=5}function Hn(gn,Bt,At,Pn){var qn,yt=gn.state;return yt.window===null&&(yt.wsize=1<<yt.wbits,yt.wnext=0,yt.whave=0,yt.window=new h.Buf8(yt.wsize)),Pn>=yt.wsize?(h.arraySet(yt.window,Bt,At-yt.wsize,yt.wsize,0),yt.wnext=0,yt.whave=yt.wsize):(qn=yt.wsize-yt.wnext,qn>Pn&&(qn=Pn),h.arraySet(yt.window,Bt,At-Pn,qn,yt.wnext),Pn-=qn,Pn?(h.arraySet(yt.window,Bt,At-Pn,Pn,0),yt.wnext=Pn,yt.whave=yt.wsize):(yt.wnext+=qn,yt.wnext===yt.wsize&&(yt.wnext=0),yt.whave<yt.wsize&&(yt.whave+=qn))),0}function Pt(gn,Bt){var At,Pn,qn,yt,bn,Mt,bt,Lt,un,Sn,Nn,Dn,Qn,rr,Yn=0,ir,Jn,tr,ur,mr,yr,vr,_r,br=new h.Buf8(4),Tr,Cr,Or=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!gn||!gn.state||!gn.output||!gn.input&&gn.avail_in!==0)return at;At=gn.state,At.mode===Rt&&(At.mode=zt),bn=gn.next_out,qn=gn.output,bt=gn.avail_out,yt=gn.next_in,Pn=gn.input,Mt=gn.avail_in,Lt=At.hold,un=At.bits,Sn=Mt,Nn=bt,_r=nt;e:for(;;)switch(At.mode){case gt:if(At.wrap===0){At.mode=zt;break}for(;un<16;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(At.wrap&2&&Lt===35615){At.check=0,br[0]=Lt&255,br[1]=Lt>>>8&255,At.check=b(At.check,br,2,0),Lt=0,un=0,At.mode=xt;break}if(At.flags=0,At.head&&(At.head.done=!1),!(At.wrap&1)||(((Lt&255)<<8)+(Lt>>8))%31){gn.msg="incorrect header check",At.mode=xn;break}if((Lt&15)!==ht){gn.msg="unknown compression method",At.mode=xn;break}if(Lt>>>=4,un-=4,vr=(Lt&15)+8,At.wbits===0)At.wbits=vr;else if(vr>At.wbits){gn.msg="invalid window size",At.mode=xn;break}At.dmax=1<<vr,gn.adler=At.check=1,At.mode=Lt&512?on:Rt,Lt=0,un=0;break;case xt:for(;un<16;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(At.flags=Lt,(At.flags&255)!==ht){gn.msg="unknown compression method",At.mode=xn;break}if(At.flags&57344){gn.msg="unknown header flags set",At.mode=xn;break}At.head&&(At.head.text=Lt>>8&1),At.flags&512&&(br[0]=Lt&255,br[1]=Lt>>>8&255,At.check=b(At.check,br,2,0)),Lt=0,un=0,At.mode=Tt;case Tt:for(;un<32;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}At.head&&(At.head.time=Lt),At.flags&512&&(br[0]=Lt&255,br[1]=Lt>>>8&255,br[2]=Lt>>>16&255,br[3]=Lt>>>24&255,At.check=b(At.check,br,4,0)),Lt=0,un=0,At.mode=wt;case wt:for(;un<16;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}At.head&&(At.head.xflags=Lt&255,At.head.os=Lt>>8),At.flags&512&&(br[0]=Lt&255,br[1]=Lt>>>8&255,At.check=b(At.check,br,2,0)),Lt=0,un=0,At.mode=kt;case kt:if(At.flags&1024){for(;un<16;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}At.length=Lt,At.head&&(At.head.extra_len=Lt),At.flags&512&&(br[0]=Lt&255,br[1]=Lt>>>8&255,At.check=b(At.check,br,2,0)),Lt=0,un=0}else At.head&&(At.head.extra=null);At.mode=Yt;case Yt:if(At.flags&1024&&(Dn=At.length,Dn>Mt&&(Dn=Mt),Dn&&(At.head&&(vr=At.head.extra_len-At.length,At.head.extra||(At.head.extra=new Array(At.head.extra_len)),h.arraySet(At.head.extra,Pn,yt,Dn,vr)),At.flags&512&&(At.check=b(At.check,Pn,Dn,yt)),Mt-=Dn,yt+=Dn,At.length-=Dn),At.length))break e;At.length=0,At.mode=fn;case fn:if(At.flags&2048){if(Mt===0)break e;Dn=0;do vr=Pn[yt+Dn++],At.head&&vr&&At.length<65536&&(At.head.name+=String.fromCharCode(vr));while(vr&&Dn<Mt);if(At.flags&512&&(At.check=b(At.check,Pn,Dn,yt)),Mt-=Dn,yt+=Dn,vr)break e}else At.head&&(At.head.name=null);At.length=0,At.mode=an;case an:if(At.flags&4096){if(Mt===0)break e;Dn=0;do vr=Pn[yt+Dn++],At.head&&vr&&At.length<65536&&(At.head.comment+=String.fromCharCode(vr));while(vr&&Dn<Mt);if(At.flags&512&&(At.check=b(At.check,Pn,Dn,yt)),Mt-=Dn,yt+=Dn,vr)break e}else At.head&&(At.head.comment=null);At.mode=dn;case dn:if(At.flags&512){for(;un<16;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(Lt!==(At.check&65535)){gn.msg="header crc mismatch",At.mode=xn;break}Lt=0,un=0}At.head&&(At.head.hcrc=At.flags>>9&1,At.head.done=!0),gn.adler=At.check=0,At.mode=Rt;break;case on:for(;un<32;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}gn.adler=At.check=Vn(Lt),Lt=0,un=0,At.mode=Jt;case Jt:if(At.havedict===0)return gn.next_out=bn,gn.avail_out=bt,gn.next_in=yt,gn.avail_in=Mt,At.hold=Lt,At.bits=un,it;gn.adler=At.check=1,At.mode=Rt;case Rt:if(Bt===lt||Bt===dt)break e;case zt:if(At.last){Lt>>>=un&7,un-=un&7,At.mode=Un;break}for(;un<3;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}switch(At.last=Lt&1,Lt>>>=1,un-=1,Lt&3){case 0:At.mode=nn;break;case 1:if(gr(At),At.mode=sn,Bt===dt){Lt>>>=2,un-=2;break e}break;case 2:At.mode=St;break;case 3:gn.msg="invalid block type",At.mode=xn}Lt>>>=2,un-=2;break;case nn:for(Lt>>>=un&7,un-=un&7;un<32;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if((Lt&65535)!==(Lt>>>16^65535)){gn.msg="invalid stored block lengths",At.mode=xn;break}if(At.length=Lt&65535,Lt=0,un=0,At.mode=Nt,Bt===dt)break e;case Nt:At.mode=Et;case Et:if(Dn=At.length,Dn){if(Dn>Mt&&(Dn=Mt),Dn>bt&&(Dn=bt),Dn===0)break e;h.arraySet(qn,Pn,yt,Dn,bn),Mt-=Dn,yt+=Dn,bt-=Dn,bn+=Dn,At.length-=Dn;break}At.mode=Rt;break;case St:for(;un<14;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(At.nlen=(Lt&31)+257,Lt>>>=5,un-=5,At.ndist=(Lt&31)+1,Lt>>>=5,un-=5,At.ncode=(Lt&15)+4,Lt>>>=4,un-=4,At.nlen>286||At.ndist>30){gn.msg="too many length or distance symbols",At.mode=xn;break}At.have=0,At.mode=jt;case jt:for(;At.have<At.ncode;){for(;un<3;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}At.lens[Or[At.have++]]=Lt&7,Lt>>>=3,un-=3}for(;At.have<19;)At.lens[Or[At.have++]]=0;if(At.lencode=At.lendyn,At.lenbits=7,Tr={bits:At.lenbits},_r=$(_e,At.lens,0,19,At.lencode,0,At.work,Tr),At.lenbits=Tr.bits,_r){gn.msg="invalid code lengths set",At.mode=xn;break}At.have=0,At.mode=en;case en:for(;At.have<At.nlen+At.ndist;){for(;Yn=At.lencode[Lt&(1<<At.lenbits)-1],ir=Yn>>>24,Jn=Yn>>>16&255,tr=Yn&65535,!(ir<=un);){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(tr<16)Lt>>>=ir,un-=ir,At.lens[At.have++]=tr;else{if(tr===16){for(Cr=ir+2;un<Cr;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(Lt>>>=ir,un-=ir,At.have===0){gn.msg="invalid bit length repeat",At.mode=xn;break}vr=At.lens[At.have-1],Dn=3+(Lt&3),Lt>>>=2,un-=2}else if(tr===17){for(Cr=ir+3;un<Cr;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}Lt>>>=ir,un-=ir,vr=0,Dn=3+(Lt&7),Lt>>>=3,un-=3}else{for(Cr=ir+7;un<Cr;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}Lt>>>=ir,un-=ir,vr=0,Dn=11+(Lt&127),Lt>>>=7,un-=7}if(At.have+Dn>At.nlen+At.ndist){gn.msg="invalid bit length repeat",At.mode=xn;break}for(;Dn--;)At.lens[At.have++]=vr}}if(At.mode===xn)break;if(At.lens[256]===0){gn.msg="invalid code -- missing end-of-block",At.mode=xn;break}if(At.lenbits=9,Tr={bits:At.lenbits},_r=$(et,At.lens,0,At.nlen,At.lencode,0,At.work,Tr),At.lenbits=Tr.bits,_r){gn.msg="invalid literal/lengths set",At.mode=xn;break}if(At.distbits=6,At.distcode=At.distdyn,Tr={bits:At.distbits},_r=$(rt,At.lens,At.nlen,At.ndist,At.distcode,0,At.work,Tr),At.distbits=Tr.bits,_r){gn.msg="invalid distances set",At.mode=xn;break}if(At.mode=sn,Bt===dt)break e;case sn:At.mode=rn;case rn:if(Mt>=6&&bt>=258){gn.next_out=bn,gn.avail_out=bt,gn.next_in=yt,gn.avail_in=Mt,At.hold=Lt,At.bits=un,_(gn,Nn),bn=gn.next_out,qn=gn.output,bt=gn.avail_out,yt=gn.next_in,Pn=gn.input,Mt=gn.avail_in,Lt=At.hold,un=At.bits,At.mode===Rt&&(At.back=-1);break}for(At.back=0;Yn=At.lencode[Lt&(1<<At.lenbits)-1],ir=Yn>>>24,Jn=Yn>>>16&255,tr=Yn&65535,!(ir<=un);){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(Jn&&!(Jn&240)){for(ur=ir,mr=Jn,yr=tr;Yn=At.lencode[yr+((Lt&(1<<ur+mr)-1)>>ur)],ir=Yn>>>24,Jn=Yn>>>16&255,tr=Yn&65535,!(ur+ir<=un);){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}Lt>>>=ur,un-=ur,At.back+=ur}if(Lt>>>=ir,un-=ir,At.back+=ir,At.length=tr,Jn===0){At.mode=$n;break}if(Jn&32){At.back=-1,At.mode=Rt;break}if(Jn&64){gn.msg="invalid literal/length code",At.mode=xn;break}At.extra=Jn&15,At.mode=vn;case vn:if(At.extra){for(Cr=At.extra;un<Cr;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}At.length+=Lt&(1<<At.extra)-1,Lt>>>=At.extra,un-=At.extra,At.back+=At.extra}At.was=At.length,At.mode=_n;case _n:for(;Yn=At.distcode[Lt&(1<<At.distbits)-1],ir=Yn>>>24,Jn=Yn>>>16&255,tr=Yn&65535,!(ir<=un);){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(!(Jn&240)){for(ur=ir,mr=Jn,yr=tr;Yn=At.distcode[yr+((Lt&(1<<ur+mr)-1)>>ur)],ir=Yn>>>24,Jn=Yn>>>16&255,tr=Yn&65535,!(ur+ir<=un);){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}Lt>>>=ur,un-=ur,At.back+=ur}if(Lt>>>=ir,un-=ir,At.back+=ir,Jn&64){gn.msg="invalid distance code",At.mode=xn;break}At.offset=tr,At.extra=Jn&15,At.mode=In;case In:if(At.extra){for(Cr=At.extra;un<Cr;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}At.offset+=Lt&(1<<At.extra)-1,Lt>>>=At.extra,un-=At.extra,At.back+=At.extra}if(At.offset>At.dmax){gn.msg="invalid distance too far back",At.mode=xn;break}At.mode=Fn;case Fn:if(bt===0)break e;if(Dn=Nn-bt,At.offset>Dn){if(Dn=At.offset-Dn,Dn>At.whave&&At.sane){gn.msg="invalid distance too far back",At.mode=xn;break}Dn>At.wnext?(Dn-=At.wnext,Qn=At.wsize-Dn):Qn=At.wnext-Dn,Dn>At.length&&(Dn=At.length),rr=At.window}else rr=qn,Qn=bn-At.offset,Dn=At.length;Dn>bt&&(Dn=bt),bt-=Dn,At.length-=Dn;do qn[bn++]=rr[Qn++];while(--Dn);At.length===0&&(At.mode=rn);break;case $n:if(bt===0)break e;qn[bn++]=At.length,bt--,At.mode=rn;break;case Un:if(At.wrap){for(;un<32;){if(Mt===0)break e;Mt--,Lt|=Pn[yt++]<<un,un+=8}if(Nn-=bt,gn.total_out+=Nn,At.total+=Nn,Nn&&(gn.adler=At.check=At.flags?b(At.check,qn,Nn,bn-Nn):g(At.check,qn,Nn,bn-Nn)),Nn=bt,(At.flags?Lt:Vn(Lt))!==At.check){gn.msg="incorrect data check",At.mode=xn;break}Lt=0,un=0}At.mode=Wn;case Wn:if(At.wrap&&At.flags){for(;un<32;){if(Mt===0)break e;Mt--,Lt+=Pn[yt++]<<un,un+=8}if(Lt!==(At.total&4294967295)){gn.msg="incorrect length check",At.mode=xn;break}Lt=0,un=0}At.mode=Rn;case Rn:_r=tt;break e;case xn:_r=mt;break e;case tn:return ot;case hn:default:return at}return gn.next_out=bn,gn.avail_out=bt,gn.next_in=yt,gn.avail_in=Mt,At.hold=Lt,At.bits=un,(At.wsize||Nn!==gn.avail_out&&At.mode<xn&&(At.mode<Un||Bt!==st))&&Hn(gn,gn.output,gn.next_out,Nn-gn.avail_out),Sn-=gn.avail_in,Nn-=gn.avail_out,gn.total_in+=Sn,gn.total_out+=Nn,At.total+=Nn,At.wrap&&Nn&&(gn.adler=At.check=At.flags?b(At.check,qn,Nn,gn.next_out-Nn):g(At.check,qn,Nn,gn.next_out-Nn)),gn.data_type=At.bits+(At.last?64:0)+(At.mode===Rt?128:0)+(At.mode===sn||At.mode===Nt?256:0),(Sn===0&&Nn===0||Bt===st)&&_r===nt&&(_r=pt),_r}function pn(gn){if(!gn||!gn.state)return at;var Bt=gn.state;return Bt.window&&(Bt.window=null),gn.state=null,nt}function An(gn,Bt){var At;return!gn||!gn.state||(At=gn.state,!(At.wrap&2))?at:(At.head=Bt,Bt.done=!1,nt)}function Gn(gn,Bt){var At=Bt.length,Pn,qn,yt;return!gn||!gn.state||(Pn=gn.state,Pn.wrap!==0&&Pn.mode!==Jt)?at:Pn.mode===Jt&&(qn=1,qn=g(qn,Bt,At,0),qn!==Pn.check)?mt:(yt=Hn(gn,Bt,At,At),yt?(Pn.mode=tn,ot):(Pn.havedict=1,nt))}c.inflateReset=Xn,c.inflateReset2=hr,c.inflateResetKeep=Kn,c.inflateInit=fr,c.inflateInit2=cr,c.inflate=Pt,c.inflateEnd=pn,c.inflateGetHeader=An,c.inflateSetDictionary=Gn,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,a,c){var h=o("../utils/common"),g=15,b=852,_=592,$=0,_e=1,et=2,rt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],st=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],lt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(tt,it,at,mt,ot,pt,ht,gt){var xt=gt.bits,Tt=0,wt=0,kt=0,Yt=0,fn=0,an=0,dn=0,on=0,Jt=0,Rt=0,zt,nn,Nt,Et,St,jt=null,en=0,sn,rn=new h.Buf16(g+1),vn=new h.Buf16(g+1),_n=null,In=0,Fn,$n,Un;for(Tt=0;Tt<=g;Tt++)rn[Tt]=0;for(wt=0;wt<mt;wt++)rn[it[at+wt]]++;for(fn=xt,Yt=g;Yt>=1&&rn[Yt]===0;Yt--);if(fn>Yt&&(fn=Yt),Yt===0)return ot[pt++]=1<<24|64<<16|0,ot[pt++]=1<<24|64<<16|0,gt.bits=1,0;for(kt=1;kt<Yt&&rn[kt]===0;kt++);for(fn<kt&&(fn=kt),on=1,Tt=1;Tt<=g;Tt++)if(on<<=1,on-=rn[Tt],on<0)return-1;if(on>0&&(tt===$||Yt!==1))return-1;for(vn[1]=0,Tt=1;Tt<g;Tt++)vn[Tt+1]=vn[Tt]+rn[Tt];for(wt=0;wt<mt;wt++)it[at+wt]!==0&&(ht[vn[it[at+wt]]++]=wt);if(tt===$?(jt=_n=ht,sn=19):tt===_e?(jt=rt,en-=257,_n=st,In-=257,sn=256):(jt=lt,_n=dt,sn=-1),Rt=0,wt=0,Tt=kt,St=pt,an=fn,dn=0,Nt=-1,Jt=1<<fn,Et=Jt-1,tt===_e&&Jt>b||tt===et&&Jt>_)return 1;for(;;){Fn=Tt-dn,ht[wt]<sn?($n=0,Un=ht[wt]):ht[wt]>sn?($n=_n[In+ht[wt]],Un=jt[en+ht[wt]]):($n=96,Un=0),zt=1<<Tt-dn,nn=1<<an,kt=nn;do nn-=zt,ot[St+(Rt>>dn)+nn]=Fn<<24|$n<<16|Un|0;while(nn!==0);for(zt=1<<Tt-1;Rt&zt;)zt>>=1;if(zt!==0?(Rt&=zt-1,Rt+=zt):Rt=0,wt++,--rn[Tt]===0){if(Tt===Yt)break;Tt=it[at+ht[wt]]}if(Tt>fn&&(Rt&Et)!==Nt){for(dn===0&&(dn=fn),St+=kt,an=Tt-dn,on=1<<an;an+dn<Yt&&(on-=rn[an+dn],!(on<=0));)an++,on<<=1;if(Jt+=1<<an,tt===_e&&Jt>b||tt===et&&Jt>_)return 1;Nt=Rt&Et,ot[Nt]=fn<<24|an<<16|St-pt|0}}return Rt!==0&&(ot[St+Rt]=Tt-dn<<24|64<<16|0),gt.bits=fn,0}},{"../utils/common":41}],51:[function(o,a,c){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,a,c){var h=o("../utils/common"),g=4,b=0,_=1,$=2;function _e(Pt){for(var pn=Pt.length;--pn>=0;)Pt[pn]=0}var et=0,rt=1,st=2,lt=3,dt=258,nt=29,tt=256,it=tt+1+nt,at=30,mt=19,ot=2*it+1,pt=15,ht=16,gt=7,xt=256,Tt=16,wt=17,kt=18,Yt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],fn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],an=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],dn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],on=512,Jt=new Array((it+2)*2);_e(Jt);var Rt=new Array(at*2);_e(Rt);var zt=new Array(on);_e(zt);var nn=new Array(dt-lt+1);_e(nn);var Nt=new Array(nt);_e(Nt);var Et=new Array(at);_e(Et);function St(Pt,pn,An,Gn,gn){this.static_tree=Pt,this.extra_bits=pn,this.extra_base=An,this.elems=Gn,this.max_length=gn,this.has_stree=Pt&&Pt.length}var jt,en,sn;function rn(Pt,pn){this.dyn_tree=Pt,this.max_code=0,this.stat_desc=pn}function vn(Pt){return Pt<256?zt[Pt]:zt[256+(Pt>>>7)]}function _n(Pt,pn){Pt.pending_buf[Pt.pending++]=pn&255,Pt.pending_buf[Pt.pending++]=pn>>>8&255}function In(Pt,pn,An){Pt.bi_valid>ht-An?(Pt.bi_buf|=pn<<Pt.bi_valid&65535,_n(Pt,Pt.bi_buf),Pt.bi_buf=pn>>ht-Pt.bi_valid,Pt.bi_valid+=An-ht):(Pt.bi_buf|=pn<<Pt.bi_valid&65535,Pt.bi_valid+=An)}function Fn(Pt,pn,An){In(Pt,An[pn*2],An[pn*2+1])}function $n(Pt,pn){var An=0;do An|=Pt&1,Pt>>>=1,An<<=1;while(--pn>0);return An>>>1}function Un(Pt){Pt.bi_valid===16?(_n(Pt,Pt.bi_buf),Pt.bi_buf=0,Pt.bi_valid=0):Pt.bi_valid>=8&&(Pt.pending_buf[Pt.pending++]=Pt.bi_buf&255,Pt.bi_buf>>=8,Pt.bi_valid-=8)}function Wn(Pt,pn){var An=pn.dyn_tree,Gn=pn.max_code,gn=pn.stat_desc.static_tree,Bt=pn.stat_desc.has_stree,At=pn.stat_desc.extra_bits,Pn=pn.stat_desc.extra_base,qn=pn.stat_desc.max_length,yt,bn,Mt,bt,Lt,un,Sn=0;for(bt=0;bt<=pt;bt++)Pt.bl_count[bt]=0;for(An[Pt.heap[Pt.heap_max]*2+1]=0,yt=Pt.heap_max+1;yt<ot;yt++)bn=Pt.heap[yt],bt=An[An[bn*2+1]*2+1]+1,bt>qn&&(bt=qn,Sn++),An[bn*2+1]=bt,!(bn>Gn)&&(Pt.bl_count[bt]++,Lt=0,bn>=Pn&&(Lt=At[bn-Pn]),un=An[bn*2],Pt.opt_len+=un*(bt+Lt),Bt&&(Pt.static_len+=un*(gn[bn*2+1]+Lt)));if(Sn!==0){do{for(bt=qn-1;Pt.bl_count[bt]===0;)bt--;Pt.bl_count[bt]--,Pt.bl_count[bt+1]+=2,Pt.bl_count[qn]--,Sn-=2}while(Sn>0);for(bt=qn;bt!==0;bt--)for(bn=Pt.bl_count[bt];bn!==0;)Mt=Pt.heap[--yt],!(Mt>Gn)&&(An[Mt*2+1]!==bt&&(Pt.opt_len+=(bt-An[Mt*2+1])*An[Mt*2],An[Mt*2+1]=bt),bn--)}}function Rn(Pt,pn,An){var Gn=new Array(pt+1),gn=0,Bt,At;for(Bt=1;Bt<=pt;Bt++)Gn[Bt]=gn=gn+An[Bt-1]<<1;for(At=0;At<=pn;At++){var Pn=Pt[At*2+1];Pn!==0&&(Pt[At*2]=$n(Gn[Pn]++,Pn))}}function xn(){var Pt,pn,An,Gn,gn,Bt=new Array(pt+1);for(An=0,Gn=0;Gn<nt-1;Gn++)for(Nt[Gn]=An,Pt=0;Pt<1<<Yt[Gn];Pt++)nn[An++]=Gn;for(nn[An-1]=Gn,gn=0,Gn=0;Gn<16;Gn++)for(Et[Gn]=gn,Pt=0;Pt<1<<fn[Gn];Pt++)zt[gn++]=Gn;for(gn>>=7;Gn<at;Gn++)for(Et[Gn]=gn<<7,Pt=0;Pt<1<<fn[Gn]-7;Pt++)zt[256+gn++]=Gn;for(pn=0;pn<=pt;pn++)Bt[pn]=0;for(Pt=0;Pt<=143;)Jt[Pt*2+1]=8,Pt++,Bt[8]++;for(;Pt<=255;)Jt[Pt*2+1]=9,Pt++,Bt[9]++;for(;Pt<=279;)Jt[Pt*2+1]=7,Pt++,Bt[7]++;for(;Pt<=287;)Jt[Pt*2+1]=8,Pt++,Bt[8]++;for(Rn(Jt,it+1,Bt),Pt=0;Pt<at;Pt++)Rt[Pt*2+1]=5,Rt[Pt*2]=$n(Pt,5);jt=new St(Jt,Yt,tt+1,it,pt),en=new St(Rt,fn,0,at,pt),sn=new St(new Array(0),an,0,mt,gt)}function tn(Pt){var pn;for(pn=0;pn<it;pn++)Pt.dyn_ltree[pn*2]=0;for(pn=0;pn<at;pn++)Pt.dyn_dtree[pn*2]=0;for(pn=0;pn<mt;pn++)Pt.bl_tree[pn*2]=0;Pt.dyn_ltree[xt*2]=1,Pt.opt_len=Pt.static_len=0,Pt.last_lit=Pt.matches=0}function hn(Pt){Pt.bi_valid>8?_n(Pt,Pt.bi_buf):Pt.bi_valid>0&&(Pt.pending_buf[Pt.pending++]=Pt.bi_buf),Pt.bi_buf=0,Pt.bi_valid=0}function yn(Pt,pn,An,Gn){hn(Pt),_n(Pt,An),_n(Pt,~An),h.arraySet(Pt.pending_buf,Pt.window,pn,An,Pt.pending),Pt.pending+=An}function On(Pt,pn,An,Gn){var gn=pn*2,Bt=An*2;return Pt[gn]<Pt[Bt]||Pt[gn]===Pt[Bt]&&Gn[pn]<=Gn[An]}function jn(Pt,pn,An){for(var Gn=Pt.heap[An],gn=An<<1;gn<=Pt.heap_len&&(gn<Pt.heap_len&&On(pn,Pt.heap[gn+1],Pt.heap[gn],Pt.depth)&&gn++,!On(pn,Gn,Pt.heap[gn],Pt.depth));)Pt.heap[An]=Pt.heap[gn],An=gn,gn<<=1;Pt.heap[An]=Gn}function zn(Pt,pn,An){var Gn,gn,Bt=0,At,Pn;if(Pt.last_lit!==0)do Gn=Pt.pending_buf[Pt.d_buf+Bt*2]<<8|Pt.pending_buf[Pt.d_buf+Bt*2+1],gn=Pt.pending_buf[Pt.l_buf+Bt],Bt++,Gn===0?Fn(Pt,gn,pn):(At=nn[gn],Fn(Pt,At+tt+1,pn),Pn=Yt[At],Pn!==0&&(gn-=Nt[At],In(Pt,gn,Pn)),Gn--,At=vn(Gn),Fn(Pt,At,An),Pn=fn[At],Pn!==0&&(Gn-=Et[At],In(Pt,Gn,Pn)));while(Bt<Pt.last_lit);Fn(Pt,xt,pn)}function Vn(Pt,pn){var An=pn.dyn_tree,Gn=pn.stat_desc.static_tree,gn=pn.stat_desc.has_stree,Bt=pn.stat_desc.elems,At,Pn,qn=-1,yt;for(Pt.heap_len=0,Pt.heap_max=ot,At=0;At<Bt;At++)An[At*2]!==0?(Pt.heap[++Pt.heap_len]=qn=At,Pt.depth[At]=0):An[At*2+1]=0;for(;Pt.heap_len<2;)yt=Pt.heap[++Pt.heap_len]=qn<2?++qn:0,An[yt*2]=1,Pt.depth[yt]=0,Pt.opt_len--,gn&&(Pt.static_len-=Gn[yt*2+1]);for(pn.max_code=qn,At=Pt.heap_len>>1;At>=1;At--)jn(Pt,An,At);yt=Bt;do At=Pt.heap[1],Pt.heap[1]=Pt.heap[Pt.heap_len--],jn(Pt,An,1),Pn=Pt.heap[1],Pt.heap[--Pt.heap_max]=At,Pt.heap[--Pt.heap_max]=Pn,An[yt*2]=An[At*2]+An[Pn*2],Pt.depth[yt]=(Pt.depth[At]>=Pt.depth[Pn]?Pt.depth[At]:Pt.depth[Pn])+1,An[At*2+1]=An[Pn*2+1]=yt,Pt.heap[1]=yt++,jn(Pt,An,1);while(Pt.heap_len>=2);Pt.heap[--Pt.heap_max]=Pt.heap[1],Wn(Pt,pn),Rn(An,qn,Pt.bl_count)}function Tn(Pt,pn,An){var Gn,gn=-1,Bt,At=pn[0*2+1],Pn=0,qn=7,yt=4;for(At===0&&(qn=138,yt=3),pn[(An+1)*2+1]=65535,Gn=0;Gn<=An;Gn++)Bt=At,At=pn[(Gn+1)*2+1],!(++Pn<qn&&Bt===At)&&(Pn<yt?Pt.bl_tree[Bt*2]+=Pn:Bt!==0?(Bt!==gn&&Pt.bl_tree[Bt*2]++,Pt.bl_tree[Tt*2]++):Pn<=10?Pt.bl_tree[wt*2]++:Pt.bl_tree[kt*2]++,Pn=0,gn=Bt,At===0?(qn=138,yt=3):Bt===At?(qn=6,yt=3):(qn=7,yt=4))}function Kn(Pt,pn,An){var Gn,gn=-1,Bt,At=pn[0*2+1],Pn=0,qn=7,yt=4;for(At===0&&(qn=138,yt=3),Gn=0;Gn<=An;Gn++)if(Bt=At,At=pn[(Gn+1)*2+1],!(++Pn<qn&&Bt===At)){if(Pn<yt)do Fn(Pt,Bt,Pt.bl_tree);while(--Pn!==0);else Bt!==0?(Bt!==gn&&(Fn(Pt,Bt,Pt.bl_tree),Pn--),Fn(Pt,Tt,Pt.bl_tree),In(Pt,Pn-3,2)):Pn<=10?(Fn(Pt,wt,Pt.bl_tree),In(Pt,Pn-3,3)):(Fn(Pt,kt,Pt.bl_tree),In(Pt,Pn-11,7));Pn=0,gn=Bt,At===0?(qn=138,yt=3):Bt===At?(qn=6,yt=3):(qn=7,yt=4)}}function Xn(Pt){var pn;for(Tn(Pt,Pt.dyn_ltree,Pt.l_desc.max_code),Tn(Pt,Pt.dyn_dtree,Pt.d_desc.max_code),Vn(Pt,Pt.bl_desc),pn=mt-1;pn>=3&&Pt.bl_tree[dn[pn]*2+1]===0;pn--);return Pt.opt_len+=3*(pn+1)+5+5+4,pn}function hr(Pt,pn,An,Gn){var gn;for(In(Pt,pn-257,5),In(Pt,An-1,5),In(Pt,Gn-4,4),gn=0;gn<Gn;gn++)In(Pt,Pt.bl_tree[dn[gn]*2+1],3);Kn(Pt,Pt.dyn_ltree,pn-1),Kn(Pt,Pt.dyn_dtree,An-1)}function cr(Pt){var pn=4093624447,An;for(An=0;An<=31;An++,pn>>>=1)if(pn&1&&Pt.dyn_ltree[An*2]!==0)return b;if(Pt.dyn_ltree[9*2]!==0||Pt.dyn_ltree[10*2]!==0||Pt.dyn_ltree[13*2]!==0)return _;for(An=32;An<tt;An++)if(Pt.dyn_ltree[An*2]!==0)return _;return b}var fr=!1;function nr(Pt){fr||(xn(),fr=!0),Pt.l_desc=new rn(Pt.dyn_ltree,jt),Pt.d_desc=new rn(Pt.dyn_dtree,en),Pt.bl_desc=new rn(Pt.bl_tree,sn),Pt.bi_buf=0,Pt.bi_valid=0,tn(Pt)}function ar(Pt,pn,An,Gn){In(Pt,(et<<1)+(Gn?1:0),3),yn(Pt,pn,An)}function dr(Pt){In(Pt,rt<<1,3),Fn(Pt,xt,Jt),Un(Pt)}function gr(Pt,pn,An,Gn){var gn,Bt,At=0;Pt.level>0?(Pt.strm.data_type===$&&(Pt.strm.data_type=cr(Pt)),Vn(Pt,Pt.l_desc),Vn(Pt,Pt.d_desc),At=Xn(Pt),gn=Pt.opt_len+3+7>>>3,Bt=Pt.static_len+3+7>>>3,Bt<=gn&&(gn=Bt)):gn=Bt=An+5,An+4<=gn&&pn!==-1?ar(Pt,pn,An,Gn):Pt.strategy===g||Bt===gn?(In(Pt,(rt<<1)+(Gn?1:0),3),zn(Pt,Jt,Rt)):(In(Pt,(st<<1)+(Gn?1:0),3),hr(Pt,Pt.l_desc.max_code+1,Pt.d_desc.max_code+1,At+1),zn(Pt,Pt.dyn_ltree,Pt.dyn_dtree)),tn(Pt),Gn&&hn(Pt)}function Hn(Pt,pn,An){return Pt.pending_buf[Pt.d_buf+Pt.last_lit*2]=pn>>>8&255,Pt.pending_buf[Pt.d_buf+Pt.last_lit*2+1]=pn&255,Pt.pending_buf[Pt.l_buf+Pt.last_lit]=An&255,Pt.last_lit++,pn===0?Pt.dyn_ltree[An*2]++:(Pt.matches++,pn--,Pt.dyn_ltree[(nn[An]+tt+1)*2]++,Pt.dyn_dtree[vn(pn)*2]++),Pt.last_lit===Pt.lit_bufsize-1}c._tr_init=nr,c._tr_stored_block=ar,c._tr_flush_block=gr,c._tr_tally=Hn,c._tr_align=dr},{"../utils/common":41}],53:[function(o,a,c){function h(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a.exports=h},{}],54:[function(o,a,c){(function(h){(function(g,b){if(g.setImmediate)return;var _=1,$={},_e=!1,et=g.document,rt;function st(gt){typeof gt!="function"&&(gt=new Function(""+gt));for(var xt=new Array(arguments.length-1),Tt=0;Tt<xt.length;Tt++)xt[Tt]=arguments[Tt+1];var wt={callback:gt,args:xt};return $[_]=wt,rt(_),_++}function lt(gt){delete $[gt]}function dt(gt){var xt=gt.callback,Tt=gt.args;switch(Tt.length){case 0:xt();break;case 1:xt(Tt[0]);break;case 2:xt(Tt[0],Tt[1]);break;case 3:xt(Tt[0],Tt[1],Tt[2]);break;default:xt.apply(b,Tt);break}}function nt(gt){if(_e)setTimeout(nt,0,gt);else{var xt=$[gt];if(xt){_e=!0;try{dt(xt)}finally{lt(gt),_e=!1}}}}function tt(){rt=function(gt){process.nextTick(function(){nt(gt)})}}function it(){if(g.postMessage&&!g.importScripts){var gt=!0,xt=g.onmessage;return g.onmessage=function(){gt=!1},g.postMessage("","*"),g.onmessage=xt,gt}}function at(){var gt="setImmediate$"+Math.random()+"$",xt=function(Tt){Tt.source===g&&typeof Tt.data=="string"&&Tt.data.indexOf(gt)===0&&nt(+Tt.data.slice(gt.length))};g.addEventListener?g.addEventListener("message",xt,!1):g.attachEvent("onmessage",xt),rt=function(Tt){g.postMessage(gt+Tt,"*")}}function mt(){var gt=new MessageChannel;gt.port1.onmessage=function(xt){var Tt=xt.data;nt(Tt)},rt=function(xt){gt.port2.postMessage(xt)}}function ot(){var gt=et.documentElement;rt=function(xt){var Tt=et.createElement("script");Tt.onreadystatechange=function(){nt(xt),Tt.onreadystatechange=null,gt.removeChild(Tt),Tt=null},gt.appendChild(Tt)}}function pt(){rt=function(gt){setTimeout(nt,0,gt)}}var ht=Object.getPrototypeOf&&Object.getPrototypeOf(g);ht=ht&&ht.setTimeout?ht:g,{}.toString.call(g.process)==="[object process]"?tt():it()?at():g.MessageChannel?mt():et&&"onreadystatechange"in et.createElement("script")?ot():pt(),ht.setImmediate=st,ht.clearImmediate=lt})(typeof self>"u"?typeof h>"u"?this:h:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip);var jszipExports=jszip.exports;const JSZip=getDefaultExportFromCjs(jszipExports);class Archive{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new JSZip}catch{throw new Error("JSZip lib not loaded")}}open(i,o){return this.zip.loadAsync(i,{base64:o})}openUrl(i,o){return request(i,"binary").then((function(a){return this.zip.loadAsync(a,{base64:o})}).bind(this))}request(i,o){var a=new defer,c,h=new Path(i);return o||(o=h.extension),o=="blob"?c=this.getBlob(i):c=this.getText(i),c?c.then((function(g){let b=this.handleResponse(g,o);a.resolve(b)}).bind(this)):a.reject({message:"File not found in the epub: "+i,stack:new Error().stack}),a.promise}handleResponse(i,o){var a;return o=="json"?a=JSON.parse(i):isXml(o)?a=parse(i,"text/xml"):o=="xhtml"?a=parse(i,"application/xhtml+xml"):o=="html"||o=="htm"?a=parse(i,"text/html"):a=i,a}getBlob(i,o){var a=window.decodeURIComponent(i.substr(1)),c=this.zip.file(a);if(c)return o=o||mime.lookup(c.name),c.async("uint8array").then(function(h){return new Blob([h],{type:o})})}getText(i,o){var a=window.decodeURIComponent(i.substr(1)),c=this.zip.file(a);if(c)return c.async("string").then(function(h){return h})}getBase64(i,o){var a=window.decodeURIComponent(i.substr(1)),c=this.zip.file(a);if(c)return o=o||mime.lookup(c.name),c.async("base64").then(function(h){return"data:"+o+";base64,"+h})}createUrl(i,o){var a=new defer,c=window.URL||window.webkitURL||window.mozURL,h,g,b=o&&o.base64;return i in this.urlCache?(a.resolve(this.urlCache[i]),a.promise):(b?(g=this.getBase64(i),g&&g.then((function(_){this.urlCache[i]=_,a.resolve(_)}).bind(this))):(g=this.getBlob(i),g&&g.then((function(_){h=c.createObjectURL(_),this.urlCache[i]=h,a.resolve(h)}).bind(this))),g||a.reject({message:"File not found in the epub: "+i,stack:new Error().stack}),a.promise)}revokeUrl(i){var o=window.URL||window.webkitURL||window.mozURL,a=this.urlCache[i];a&&o.revokeObjectURL(a)}destroy(){var i=window.URL||window.webkitURL||window.mozURL;for(let o in this.urlCache)i.revokeObjectURL(o);this.zip=void 0,this.urlCache={}}}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(s,i){(function(o){s.exports=o()})(function(){return function o(a,c,h){function g($,_e){if(!c[$]){if(!a[$]){var et=typeof commonjsRequire=="function"&&commonjsRequire;if(!_e&&et)return et($,!0);if(b)return b($,!0);var rt=new Error("Cannot find module '"+$+"'");throw rt.code="MODULE_NOT_FOUND",rt}var st=c[$]={exports:{}};a[$][0].call(st.exports,function(lt){var dt=a[$][1][lt];return g(dt||lt)},st,st.exports,o,a,c,h)}return c[$].exports}for(var b=typeof commonjsRequire=="function"&&commonjsRequire,_=0;_<h.length;_++)g(h[_]);return g}({1:[function(o,a,c){(function(h){var g=h.MutationObserver||h.WebKitMutationObserver,b;if(g){var _=0,$=new g(lt),_e=h.document.createTextNode("");$.observe(_e,{characterData:!0}),b=function(){_e.data=_=++_%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var et=new h.MessageChannel;et.port1.onmessage=lt,b=function(){et.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?b=function(){var nt=h.document.createElement("script");nt.onreadystatechange=function(){lt(),nt.onreadystatechange=null,nt.parentNode.removeChild(nt),nt=null},h.document.documentElement.appendChild(nt)}:b=function(){setTimeout(lt,0)};var rt,st=[];function lt(){rt=!0;for(var nt,tt,it=st.length;it;){for(tt=st,st=[],nt=-1;++nt<it;)tt[nt]();it=st.length}rt=!1}a.exports=dt;function dt(nt){st.push(nt)===1&&!rt&&b()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(o,a,c){var h=o(1);function g(){}var b={},_=["REJECTED"],$=["FULFILLED"],_e=["PENDING"];a.exports=et;function et(ot){if(typeof ot!="function")throw new TypeError("resolver must be a function");this.state=_e,this.queue=[],this.outcome=void 0,ot!==g&&dt(this,ot)}et.prototype.catch=function(ot){return this.then(null,ot)},et.prototype.then=function(ot,pt){if(typeof ot!="function"&&this.state===$||typeof pt!="function"&&this.state===_)return this;var ht=new this.constructor(g);if(this.state!==_e){var gt=this.state===$?ot:pt;st(ht,gt,this.outcome)}else this.queue.push(new rt(ht,ot,pt));return ht};function rt(ot,pt,ht){this.promise=ot,typeof pt=="function"&&(this.onFulfilled=pt,this.callFulfilled=this.otherCallFulfilled),typeof ht=="function"&&(this.onRejected=ht,this.callRejected=this.otherCallRejected)}rt.prototype.callFulfilled=function(ot){b.resolve(this.promise,ot)},rt.prototype.otherCallFulfilled=function(ot){st(this.promise,this.onFulfilled,ot)},rt.prototype.callRejected=function(ot){b.reject(this.promise,ot)},rt.prototype.otherCallRejected=function(ot){st(this.promise,this.onRejected,ot)};function st(ot,pt,ht){h(function(){var gt;try{gt=pt(ht)}catch(xt){return b.reject(ot,xt)}gt===ot?b.reject(ot,new TypeError("Cannot resolve promise with itself")):b.resolve(ot,gt)})}b.resolve=function(ot,pt){var ht=nt(lt,pt);if(ht.status==="error")return b.reject(ot,ht.value);var gt=ht.value;if(gt)dt(ot,gt);else{ot.state=$,ot.outcome=pt;for(var xt=-1,Tt=ot.queue.length;++xt<Tt;)ot.queue[xt].callFulfilled(pt)}return ot},b.reject=function(ot,pt){ot.state=_,ot.outcome=pt;for(var ht=-1,gt=ot.queue.length;++ht<gt;)ot.queue[ht].callRejected(pt);return ot};function lt(ot){var pt=ot&&ot.then;if(ot&&(typeof ot=="object"||typeof ot=="function")&&typeof pt=="function")return function(){pt.apply(ot,arguments)}}function dt(ot,pt){var ht=!1;function gt(kt){ht||(ht=!0,b.reject(ot,kt))}function xt(kt){ht||(ht=!0,b.resolve(ot,kt))}function Tt(){pt(xt,gt)}var wt=nt(Tt);wt.status==="error"&&gt(wt.value)}function nt(ot,pt){var ht={};try{ht.value=ot(pt),ht.status="success"}catch(gt){ht.status="error",ht.value=gt}return ht}et.resolve=tt;function tt(ot){return ot instanceof this?ot:b.resolve(new this(g),ot)}et.reject=it;function it(ot){var pt=new this(g);return b.reject(pt,ot)}et.all=at;function at(ot){var pt=this;if(Object.prototype.toString.call(ot)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ht=ot.length,gt=!1;if(!ht)return this.resolve([]);for(var xt=new Array(ht),Tt=0,wt=-1,kt=new this(g);++wt<ht;)Yt(ot[wt],wt);return kt;function Yt(fn,an){pt.resolve(fn).then(dn,function(on){gt||(gt=!0,b.reject(kt,on))});function dn(on){xt[an]=on,++Tt===ht&&!gt&&(gt=!0,b.resolve(kt,xt))}}}et.race=mt;function mt(ot){var pt=this;if(Object.prototype.toString.call(ot)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ht=ot.length,gt=!1;if(!ht)return this.resolve([]);for(var xt=-1,Tt=new this(g);++xt<ht;)wt(ot[xt]);return Tt;function wt(kt){pt.resolve(kt).then(function(Yt){gt||(gt=!0,b.resolve(Tt,Yt))},function(Yt){gt||(gt=!0,b.reject(Tt,Yt))})}}},{1:1}],3:[function(o,a,c){(function(h){typeof h.Promise!="function"&&(h.Promise=o(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(o,a,c){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ln){return typeof ln}:function(ln){return ln&&typeof Symbol=="function"&&ln.constructor===Symbol&&ln!==Symbol.prototype?"symbol":typeof ln};function g(ln,kn){if(!(ln instanceof kn))throw new TypeError("Cannot call a class as a function")}function b(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var _=b();function $(){try{if(!_||!_.open)return!1;var ln=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),kn=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ln||kn)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function _e(ln,kn){ln=ln||[],kn=kn||{};try{return new Blob(ln,kn)}catch(Ln){if(Ln.name!=="TypeError")throw Ln;for(var mn=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Mn=new mn,Bn=0;Bn<ln.length;Bn+=1)Mn.append(ln[Bn]);return Mn.getBlob(kn.type)}}typeof Promise>"u"&&o(3);var et=Promise;function rt(ln,kn){kn&&ln.then(function(mn){kn(null,mn)},function(mn){kn(mn)})}function st(ln,kn,mn){typeof kn=="function"&&ln.then(kn),typeof mn=="function"&&ln.catch(mn)}function lt(ln){return typeof ln!="string"&&(console.warn(ln+" used as a key, but it is not a string."),ln=String(ln)),ln}function dt(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var nt="local-forage-detect-blob-support",tt=void 0,it={},at=Object.prototype.toString,mt="readonly",ot="readwrite";function pt(ln){for(var kn=ln.length,mn=new ArrayBuffer(kn),Mn=new Uint8Array(mn),Bn=0;Bn<kn;Bn++)Mn[Bn]=ln.charCodeAt(Bn);return mn}function ht(ln){return new et(function(kn){var mn=ln.transaction(nt,ot),Mn=_e([""]);mn.objectStore(nt).put(Mn,"key"),mn.onabort=function(Bn){Bn.preventDefault(),Bn.stopPropagation(),kn(!1)},mn.oncomplete=function(){var Bn=navigator.userAgent.match(/Chrome\/(\d+)/),Ln=navigator.userAgent.match(/Edge\//);kn(Ln||!Bn||parseInt(Bn[1],10)>=43)}}).catch(function(){return!1})}function gt(ln){return typeof tt=="boolean"?et.resolve(tt):ht(ln).then(function(kn){return tt=kn,tt})}function xt(ln){var kn=it[ln.name],mn={};mn.promise=new et(function(Mn,Bn){mn.resolve=Mn,mn.reject=Bn}),kn.deferredOperations.push(mn),kn.dbReady?kn.dbReady=kn.dbReady.then(function(){return mn.promise}):kn.dbReady=mn.promise}function Tt(ln){var kn=it[ln.name],mn=kn.deferredOperations.pop();if(mn)return mn.resolve(),mn.promise}function wt(ln,kn){var mn=it[ln.name],Mn=mn.deferredOperations.pop();if(Mn)return Mn.reject(kn),Mn.promise}function kt(ln,kn){return new et(function(mn,Mn){if(it[ln.name]=it[ln.name]||Nt(),ln.db)if(kn)xt(ln),ln.db.close();else return mn(ln.db);var Bn=[ln.name];kn&&Bn.push(ln.version);var Ln=_.open.apply(_,Bn);kn&&(Ln.onupgradeneeded=function(Zn){var er=Ln.result;try{er.createObjectStore(ln.storeName),Zn.oldVersion<=1&&er.createObjectStore(nt)}catch(sr){if(sr.name==="ConstraintError")console.warn('The database "'+ln.name+'" has been upgraded from version '+Zn.oldVersion+" to version "+Zn.newVersion+', but the storage "'+ln.storeName+'" already exists.');else throw sr}}),Ln.onerror=function(Zn){Zn.preventDefault(),Mn(Ln.error)},Ln.onsuccess=function(){var Zn=Ln.result;Zn.onversionchange=function(er){er.target.close()},mn(Zn),Tt(ln)}})}function Yt(ln){return kt(ln,!1)}function fn(ln){return kt(ln,!0)}function an(ln,kn){if(!ln.db)return!0;var mn=!ln.db.objectStoreNames.contains(ln.storeName),Mn=ln.version<ln.db.version,Bn=ln.version>ln.db.version;if(Mn&&(ln.version!==kn&&console.warn('The database "'+ln.name+`" can't be downgraded from version `+ln.db.version+" to version "+ln.version+"."),ln.version=ln.db.version),Bn||mn){if(mn){var Ln=ln.db.version+1;Ln>ln.version&&(ln.version=Ln)}return!0}return!1}function dn(ln){return new et(function(kn,mn){var Mn=new FileReader;Mn.onerror=mn,Mn.onloadend=function(Bn){var Ln=btoa(Bn.target.result||"");kn({__local_forage_encoded_blob:!0,data:Ln,type:ln.type})},Mn.readAsBinaryString(ln)})}function on(ln){var kn=pt(atob(ln.data));return _e([kn],{type:ln.type})}function Jt(ln){return ln&&ln.__local_forage_encoded_blob}function Rt(ln){var kn=this,mn=kn._initReady().then(function(){var Mn=it[kn._dbInfo.name];if(Mn&&Mn.dbReady)return Mn.dbReady});return st(mn,ln,ln),mn}function zt(ln){xt(ln);for(var kn=it[ln.name],mn=kn.forages,Mn=0;Mn<mn.length;Mn++){var Bn=mn[Mn];Bn._dbInfo.db&&(Bn._dbInfo.db.close(),Bn._dbInfo.db=null)}return ln.db=null,Yt(ln).then(function(Ln){return ln.db=Ln,an(ln)?fn(ln):Ln}).then(function(Ln){ln.db=kn.db=Ln;for(var Zn=0;Zn<mn.length;Zn++)mn[Zn]._dbInfo.db=Ln}).catch(function(Ln){throw wt(ln,Ln),Ln})}function nn(ln,kn,mn,Mn){Mn===void 0&&(Mn=1);try{var Bn=ln.db.transaction(ln.storeName,kn);mn(null,Bn)}catch(Ln){if(Mn>0&&(!ln.db||Ln.name==="InvalidStateError"||Ln.name==="NotFoundError"))return et.resolve().then(function(){if(!ln.db||Ln.name==="NotFoundError"&&!ln.db.objectStoreNames.contains(ln.storeName)&&ln.version<=ln.db.version)return ln.db&&(ln.version=ln.db.version+1),fn(ln)}).then(function(){return zt(ln).then(function(){nn(ln,kn,mn,Mn-1)})}).catch(mn);mn(Ln)}}function Nt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Et(ln){var kn=this,mn={db:null};if(ln)for(var Mn in ln)mn[Mn]=ln[Mn];var Bn=it[mn.name];Bn||(Bn=Nt(),it[mn.name]=Bn),Bn.forages.push(kn),kn._initReady||(kn._initReady=kn.ready,kn.ready=Rt);var Ln=[];function Zn(){return et.resolve()}for(var er=0;er<Bn.forages.length;er++){var sr=Bn.forages[er];sr!==kn&&Ln.push(sr._initReady().catch(Zn))}var or=Bn.forages.slice(0);return et.all(Ln).then(function(){return mn.db=Bn.db,Yt(mn)}).then(function(lr){return mn.db=lr,an(mn,kn._defaultConfig.version)?fn(mn):lr}).then(function(lr){mn.db=Bn.db=lr,kn._dbInfo=mn;for(var pr=0;pr<or.length;pr++){var Er=or[pr];Er!==kn&&(Er._dbInfo.db=mn.db,Er._dbInfo.version=mn.version)}})}function St(ln,kn){var mn=this;ln=lt(ln);var Mn=new et(function(Bn,Ln){mn.ready().then(function(){nn(mn._dbInfo,mt,function(Zn,er){if(Zn)return Ln(Zn);try{var sr=er.objectStore(mn._dbInfo.storeName),or=sr.get(ln);or.onsuccess=function(){var lr=or.result;lr===void 0&&(lr=null),Jt(lr)&&(lr=on(lr)),Bn(lr)},or.onerror=function(){Ln(or.error)}}catch(lr){Ln(lr)}})}).catch(Ln)});return rt(Mn,kn),Mn}function jt(ln,kn){var mn=this,Mn=new et(function(Bn,Ln){mn.ready().then(function(){nn(mn._dbInfo,mt,function(Zn,er){if(Zn)return Ln(Zn);try{var sr=er.objectStore(mn._dbInfo.storeName),or=sr.openCursor(),lr=1;or.onsuccess=function(){var pr=or.result;if(pr){var Er=pr.value;Jt(Er)&&(Er=on(Er));var xr=ln(Er,pr.key,lr++);xr!==void 0?Bn(xr):pr.continue()}else Bn()},or.onerror=function(){Ln(or.error)}}catch(pr){Ln(pr)}})}).catch(Ln)});return rt(Mn,kn),Mn}function en(ln,kn,mn){var Mn=this;ln=lt(ln);var Bn=new et(function(Ln,Zn){var er;Mn.ready().then(function(){return er=Mn._dbInfo,at.call(kn)==="[object Blob]"?gt(er.db).then(function(sr){return sr?kn:dn(kn)}):kn}).then(function(sr){nn(Mn._dbInfo,ot,function(or,lr){if(or)return Zn(or);try{var pr=lr.objectStore(Mn._dbInfo.storeName);sr===null&&(sr=void 0);var Er=pr.put(sr,ln);lr.oncomplete=function(){sr===void 0&&(sr=null),Ln(sr)},lr.onabort=lr.onerror=function(){var xr=Er.error?Er.error:Er.transaction.error;Zn(xr)}}catch(xr){Zn(xr)}})}).catch(Zn)});return rt(Bn,mn),Bn}function sn(ln,kn){var mn=this;ln=lt(ln);var Mn=new et(function(Bn,Ln){mn.ready().then(function(){nn(mn._dbInfo,ot,function(Zn,er){if(Zn)return Ln(Zn);try{var sr=er.objectStore(mn._dbInfo.storeName),or=sr.delete(ln);er.oncomplete=function(){Bn()},er.onerror=function(){Ln(or.error)},er.onabort=function(){var lr=or.error?or.error:or.transaction.error;Ln(lr)}}catch(lr){Ln(lr)}})}).catch(Ln)});return rt(Mn,kn),Mn}function rn(ln){var kn=this,mn=new et(function(Mn,Bn){kn.ready().then(function(){nn(kn._dbInfo,ot,function(Ln,Zn){if(Ln)return Bn(Ln);try{var er=Zn.objectStore(kn._dbInfo.storeName),sr=er.clear();Zn.oncomplete=function(){Mn()},Zn.onabort=Zn.onerror=function(){var or=sr.error?sr.error:sr.transaction.error;Bn(or)}}catch(or){Bn(or)}})}).catch(Bn)});return rt(mn,ln),mn}function vn(ln){var kn=this,mn=new et(function(Mn,Bn){kn.ready().then(function(){nn(kn._dbInfo,mt,function(Ln,Zn){if(Ln)return Bn(Ln);try{var er=Zn.objectStore(kn._dbInfo.storeName),sr=er.count();sr.onsuccess=function(){Mn(sr.result)},sr.onerror=function(){Bn(sr.error)}}catch(or){Bn(or)}})}).catch(Bn)});return rt(mn,ln),mn}function _n(ln,kn){var mn=this,Mn=new et(function(Bn,Ln){if(ln<0){Bn(null);return}mn.ready().then(function(){nn(mn._dbInfo,mt,function(Zn,er){if(Zn)return Ln(Zn);try{var sr=er.objectStore(mn._dbInfo.storeName),or=!1,lr=sr.openKeyCursor();lr.onsuccess=function(){var pr=lr.result;if(!pr){Bn(null);return}ln===0||or?Bn(pr.key):(or=!0,pr.advance(ln))},lr.onerror=function(){Ln(lr.error)}}catch(pr){Ln(pr)}})}).catch(Ln)});return rt(Mn,kn),Mn}function In(ln){var kn=this,mn=new et(function(Mn,Bn){kn.ready().then(function(){nn(kn._dbInfo,mt,function(Ln,Zn){if(Ln)return Bn(Ln);try{var er=Zn.objectStore(kn._dbInfo.storeName),sr=er.openKeyCursor(),or=[];sr.onsuccess=function(){var lr=sr.result;if(!lr){Mn(or);return}or.push(lr.key),lr.continue()},sr.onerror=function(){Bn(sr.error)}}catch(lr){Bn(lr)}})}).catch(Bn)});return rt(mn,ln),mn}function Fn(ln,kn){kn=dt.apply(this,arguments);var mn=this.config();ln=typeof ln!="function"&&ln||{},ln.name||(ln.name=ln.name||mn.name,ln.storeName=ln.storeName||mn.storeName);var Mn=this,Bn;if(!ln.name)Bn=et.reject("Invalid arguments");else{var Ln=ln.name===mn.name&&Mn._dbInfo.db,Zn=Ln?et.resolve(Mn._dbInfo.db):Yt(ln).then(function(er){var sr=it[ln.name],or=sr.forages;sr.db=er;for(var lr=0;lr<or.length;lr++)or[lr]._dbInfo.db=er;return er});ln.storeName?Bn=Zn.then(function(er){if(er.objectStoreNames.contains(ln.storeName)){var sr=er.version+1;xt(ln);var or=it[ln.name],lr=or.forages;er.close();for(var pr=0;pr<lr.length;pr++){var Er=lr[pr];Er._dbInfo.db=null,Er._dbInfo.version=sr}var xr=new et(function(wr,Rr){var kr=_.open(ln.name,sr);kr.onerror=function(Dr){var vs=kr.result;vs.close(),Rr(Dr)},kr.onupgradeneeded=function(){var Dr=kr.result;Dr.deleteObjectStore(ln.storeName)},kr.onsuccess=function(){var Dr=kr.result;Dr.close(),wr(Dr)}});return xr.then(function(wr){or.db=wr;for(var Rr=0;Rr<lr.length;Rr++){var kr=lr[Rr];kr._dbInfo.db=wr,Tt(kr._dbInfo)}}).catch(function(wr){throw(wt(ln,wr)||et.resolve()).catch(function(){}),wr})}}):Bn=Zn.then(function(er){xt(ln);var sr=it[ln.name],or=sr.forages;er.close();for(var lr=0;lr<or.length;lr++){var pr=or[lr];pr._dbInfo.db=null}var Er=new et(function(xr,wr){var Rr=_.deleteDatabase(ln.name);Rr.onerror=function(){var kr=Rr.result;kr&&kr.close(),wr(Rr.error)},Rr.onblocked=function(){console.warn('dropInstance blocked for database "'+ln.name+'" until all open connections are closed')},Rr.onsuccess=function(){var kr=Rr.result;kr&&kr.close(),xr(kr)}});return Er.then(function(xr){sr.db=xr;for(var wr=0;wr<or.length;wr++){var Rr=or[wr];Tt(Rr._dbInfo)}}).catch(function(xr){throw(wt(ln,xr)||et.resolve()).catch(function(){}),xr})})}return rt(Bn,kn),Bn}var $n={_driver:"asyncStorage",_initStorage:Et,_support:$(),iterate:jt,getItem:St,setItem:en,removeItem:sn,clear:rn,length:vn,key:_n,keys:In,dropInstance:Fn};function Un(){return typeof openDatabase=="function"}var Wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rn="~~local_forage_type~",xn=/^~~local_forage_type~([^~]+)~/,tn="__lfsc__:",hn=tn.length,yn="arbf",On="blob",jn="si08",zn="ui08",Vn="uic8",Tn="si16",Kn="si32",Xn="ur16",hr="ui32",cr="fl32",fr="fl64",nr=hn+yn.length,ar=Object.prototype.toString;function dr(ln){var kn=ln.length*.75,mn=ln.length,Mn,Bn=0,Ln,Zn,er,sr;ln[ln.length-1]==="="&&(kn--,ln[ln.length-2]==="="&&kn--);var or=new ArrayBuffer(kn),lr=new Uint8Array(or);for(Mn=0;Mn<mn;Mn+=4)Ln=Wn.indexOf(ln[Mn]),Zn=Wn.indexOf(ln[Mn+1]),er=Wn.indexOf(ln[Mn+2]),sr=Wn.indexOf(ln[Mn+3]),lr[Bn++]=Ln<<2|Zn>>4,lr[Bn++]=(Zn&15)<<4|er>>2,lr[Bn++]=(er&3)<<6|sr&63;return or}function gr(ln){var kn=new Uint8Array(ln),mn="",Mn;for(Mn=0;Mn<kn.length;Mn+=3)mn+=Wn[kn[Mn]>>2],mn+=Wn[(kn[Mn]&3)<<4|kn[Mn+1]>>4],mn+=Wn[(kn[Mn+1]&15)<<2|kn[Mn+2]>>6],mn+=Wn[kn[Mn+2]&63];return kn.length%3===2?mn=mn.substring(0,mn.length-1)+"=":kn.length%3===1&&(mn=mn.substring(0,mn.length-2)+"=="),mn}function Hn(ln,kn){var mn="";if(ln&&(mn=ar.call(ln)),ln&&(mn==="[object ArrayBuffer]"||ln.buffer&&ar.call(ln.buffer)==="[object ArrayBuffer]")){var Mn,Bn=tn;ln instanceof ArrayBuffer?(Mn=ln,Bn+=yn):(Mn=ln.buffer,mn==="[object Int8Array]"?Bn+=jn:mn==="[object Uint8Array]"?Bn+=zn:mn==="[object Uint8ClampedArray]"?Bn+=Vn:mn==="[object Int16Array]"?Bn+=Tn:mn==="[object Uint16Array]"?Bn+=Xn:mn==="[object Int32Array]"?Bn+=Kn:mn==="[object Uint32Array]"?Bn+=hr:mn==="[object Float32Array]"?Bn+=cr:mn==="[object Float64Array]"?Bn+=fr:kn(new Error("Failed to get type for BinaryArray"))),kn(Bn+gr(Mn))}else if(mn==="[object Blob]"){var Ln=new FileReader;Ln.onload=function(){var Zn=Rn+ln.type+"~"+gr(this.result);kn(tn+On+Zn)},Ln.readAsArrayBuffer(ln)}else try{kn(JSON.stringify(ln))}catch(Zn){console.error("Couldn't convert value into a JSON string: ",ln),kn(null,Zn)}}function Pt(ln){if(ln.substring(0,hn)!==tn)return JSON.parse(ln);var kn=ln.substring(nr),mn=ln.substring(hn,nr),Mn;if(mn===On&&xn.test(kn)){var Bn=kn.match(xn);Mn=Bn[1],kn=kn.substring(Bn[0].length)}var Ln=dr(kn);switch(mn){case yn:return Ln;case On:return _e([Ln],{type:Mn});case jn:return new Int8Array(Ln);case zn:return new Uint8Array(Ln);case Vn:return new Uint8ClampedArray(Ln);case Tn:return new Int16Array(Ln);case Xn:return new Uint16Array(Ln);case Kn:return new Int32Array(Ln);case hr:return new Uint32Array(Ln);case cr:return new Float32Array(Ln);case fr:return new Float64Array(Ln);default:throw new Error("Unkown type: "+mn)}}var pn={serialize:Hn,deserialize:Pt,stringToBuffer:dr,bufferToString:gr};function An(ln,kn,mn,Mn){ln.executeSql("CREATE TABLE IF NOT EXISTS "+kn.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],mn,Mn)}function Gn(ln){var kn=this,mn={db:null};if(ln)for(var Mn in ln)mn[Mn]=typeof ln[Mn]!="string"?ln[Mn].toString():ln[Mn];var Bn=new et(function(Ln,Zn){try{mn.db=openDatabase(mn.name,String(mn.version),mn.description,mn.size)}catch(er){return Zn(er)}mn.db.transaction(function(er){An(er,mn,function(){kn._dbInfo=mn,Ln()},function(sr,or){Zn(or)})},Zn)});return mn.serializer=pn,Bn}function gn(ln,kn,mn,Mn,Bn,Ln){ln.executeSql(mn,Mn,Bn,function(Zn,er){er.code===er.SYNTAX_ERR?Zn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[kn.storeName],function(sr,or){or.rows.length?Ln(sr,er):An(sr,kn,function(){sr.executeSql(mn,Mn,Bn,Ln)},Ln)},Ln):Ln(Zn,er)},Ln)}function Bt(ln,kn){var mn=this;ln=lt(ln);var Mn=new et(function(Bn,Ln){mn.ready().then(function(){var Zn=mn._dbInfo;Zn.db.transaction(function(er){gn(er,Zn,"SELECT * FROM "+Zn.storeName+" WHERE key = ? LIMIT 1",[ln],function(sr,or){var lr=or.rows.length?or.rows.item(0).value:null;lr&&(lr=Zn.serializer.deserialize(lr)),Bn(lr)},function(sr,or){Ln(or)})})}).catch(Ln)});return rt(Mn,kn),Mn}function At(ln,kn){var mn=this,Mn=new et(function(Bn,Ln){mn.ready().then(function(){var Zn=mn._dbInfo;Zn.db.transaction(function(er){gn(er,Zn,"SELECT * FROM "+Zn.storeName,[],function(sr,or){for(var lr=or.rows,pr=lr.length,Er=0;Er<pr;Er++){var xr=lr.item(Er),wr=xr.value;if(wr&&(wr=Zn.serializer.deserialize(wr)),wr=ln(wr,xr.key,Er+1),wr!==void 0){Bn(wr);return}}Bn()},function(sr,or){Ln(or)})})}).catch(Ln)});return rt(Mn,kn),Mn}function Pn(ln,kn,mn,Mn){var Bn=this;ln=lt(ln);var Ln=new et(function(Zn,er){Bn.ready().then(function(){kn===void 0&&(kn=null);var sr=kn,or=Bn._dbInfo;or.serializer.serialize(kn,function(lr,pr){pr?er(pr):or.db.transaction(function(Er){gn(Er,or,"INSERT OR REPLACE INTO "+or.storeName+" (key, value) VALUES (?, ?)",[ln,lr],function(){Zn(sr)},function(xr,wr){er(wr)})},function(Er){if(Er.code===Er.QUOTA_ERR){if(Mn>0){Zn(Pn.apply(Bn,[ln,sr,mn,Mn-1]));return}er(Er)}})})}).catch(er)});return rt(Ln,mn),Ln}function qn(ln,kn,mn){return Pn.apply(this,[ln,kn,mn,1])}function yt(ln,kn){var mn=this;ln=lt(ln);var Mn=new et(function(Bn,Ln){mn.ready().then(function(){var Zn=mn._dbInfo;Zn.db.transaction(function(er){gn(er,Zn,"DELETE FROM "+Zn.storeName+" WHERE key = ?",[ln],function(){Bn()},function(sr,or){Ln(or)})})}).catch(Ln)});return rt(Mn,kn),Mn}function bn(ln){var kn=this,mn=new et(function(Mn,Bn){kn.ready().then(function(){var Ln=kn._dbInfo;Ln.db.transaction(function(Zn){gn(Zn,Ln,"DELETE FROM "+Ln.storeName,[],function(){Mn()},function(er,sr){Bn(sr)})})}).catch(Bn)});return rt(mn,ln),mn}function Mt(ln){var kn=this,mn=new et(function(Mn,Bn){kn.ready().then(function(){var Ln=kn._dbInfo;Ln.db.transaction(function(Zn){gn(Zn,Ln,"SELECT COUNT(key) as c FROM "+Ln.storeName,[],function(er,sr){var or=sr.rows.item(0).c;Mn(or)},function(er,sr){Bn(sr)})})}).catch(Bn)});return rt(mn,ln),mn}function bt(ln,kn){var mn=this,Mn=new et(function(Bn,Ln){mn.ready().then(function(){var Zn=mn._dbInfo;Zn.db.transaction(function(er){gn(er,Zn,"SELECT key FROM "+Zn.storeName+" WHERE id = ? LIMIT 1",[ln+1],function(sr,or){var lr=or.rows.length?or.rows.item(0).key:null;Bn(lr)},function(sr,or){Ln(or)})})}).catch(Ln)});return rt(Mn,kn),Mn}function Lt(ln){var kn=this,mn=new et(function(Mn,Bn){kn.ready().then(function(){var Ln=kn._dbInfo;Ln.db.transaction(function(Zn){gn(Zn,Ln,"SELECT key FROM "+Ln.storeName,[],function(er,sr){for(var or=[],lr=0;lr<sr.rows.length;lr++)or.push(sr.rows.item(lr).key);Mn(or)},function(er,sr){Bn(sr)})})}).catch(Bn)});return rt(mn,ln),mn}function un(ln){return new et(function(kn,mn){ln.transaction(function(Mn){Mn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Bn,Ln){for(var Zn=[],er=0;er<Ln.rows.length;er++)Zn.push(Ln.rows.item(er).name);kn({db:ln,storeNames:Zn})},function(Bn,Ln){mn(Ln)})},function(Mn){mn(Mn)})})}function Sn(ln,kn){kn=dt.apply(this,arguments);var mn=this.config();ln=typeof ln!="function"&&ln||{},ln.name||(ln.name=ln.name||mn.name,ln.storeName=ln.storeName||mn.storeName);var Mn=this,Bn;return ln.name?Bn=new et(function(Ln){var Zn;ln.name===mn.name?Zn=Mn._dbInfo.db:Zn=openDatabase(ln.name,"","",0),ln.storeName?Ln({db:Zn,storeNames:[ln.storeName]}):Ln(un(Zn))}).then(function(Ln){return new et(function(Zn,er){Ln.db.transaction(function(sr){function or(xr){return new et(function(wr,Rr){sr.executeSql("DROP TABLE IF EXISTS "+xr,[],function(){wr()},function(kr,Dr){Rr(Dr)})})}for(var lr=[],pr=0,Er=Ln.storeNames.length;pr<Er;pr++)lr.push(or(Ln.storeNames[pr]));et.all(lr).then(function(){Zn()}).catch(function(xr){er(xr)})},function(sr){er(sr)})})}):Bn=et.reject("Invalid arguments"),rt(Bn,kn),Bn}var Nn={_driver:"webSQLStorage",_initStorage:Gn,_support:Un(),iterate:At,getItem:Bt,setItem:qn,removeItem:yt,clear:bn,length:Mt,key:bt,keys:Lt,dropInstance:Sn};function Dn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qn(ln,kn){var mn=ln.name+"/";return ln.storeName!==kn.storeName&&(mn+=ln.storeName+"/"),mn}function rr(){var ln="_localforage_support_test";try{return localStorage.setItem(ln,!0),localStorage.removeItem(ln),!1}catch{return!0}}function Yn(){return!rr()||localStorage.length>0}function ir(ln){var kn=this,mn={};if(ln)for(var Mn in ln)mn[Mn]=ln[Mn];return mn.keyPrefix=Qn(ln,kn._defaultConfig),Yn()?(kn._dbInfo=mn,mn.serializer=pn,et.resolve()):et.reject()}function Jn(ln){var kn=this,mn=kn.ready().then(function(){for(var Mn=kn._dbInfo.keyPrefix,Bn=localStorage.length-1;Bn>=0;Bn--){var Ln=localStorage.key(Bn);Ln.indexOf(Mn)===0&&localStorage.removeItem(Ln)}});return rt(mn,ln),mn}function tr(ln,kn){var mn=this;ln=lt(ln);var Mn=mn.ready().then(function(){var Bn=mn._dbInfo,Ln=localStorage.getItem(Bn.keyPrefix+ln);return Ln&&(Ln=Bn.serializer.deserialize(Ln)),Ln});return rt(Mn,kn),Mn}function ur(ln,kn){var mn=this,Mn=mn.ready().then(function(){for(var Bn=mn._dbInfo,Ln=Bn.keyPrefix,Zn=Ln.length,er=localStorage.length,sr=1,or=0;or<er;or++){var lr=localStorage.key(or);if(lr.indexOf(Ln)===0){var pr=localStorage.getItem(lr);if(pr&&(pr=Bn.serializer.deserialize(pr)),pr=ln(pr,lr.substring(Zn),sr++),pr!==void 0)return pr}}});return rt(Mn,kn),Mn}function mr(ln,kn){var mn=this,Mn=mn.ready().then(function(){var Bn=mn._dbInfo,Ln;try{Ln=localStorage.key(ln)}catch{Ln=null}return Ln&&(Ln=Ln.substring(Bn.keyPrefix.length)),Ln});return rt(Mn,kn),Mn}function yr(ln){var kn=this,mn=kn.ready().then(function(){for(var Mn=kn._dbInfo,Bn=localStorage.length,Ln=[],Zn=0;Zn<Bn;Zn++){var er=localStorage.key(Zn);er.indexOf(Mn.keyPrefix)===0&&Ln.push(er.substring(Mn.keyPrefix.length))}return Ln});return rt(mn,ln),mn}function vr(ln){var kn=this,mn=kn.keys().then(function(Mn){return Mn.length});return rt(mn,ln),mn}function _r(ln,kn){var mn=this;ln=lt(ln);var Mn=mn.ready().then(function(){var Bn=mn._dbInfo;localStorage.removeItem(Bn.keyPrefix+ln)});return rt(Mn,kn),Mn}function br(ln,kn,mn){var Mn=this;ln=lt(ln);var Bn=Mn.ready().then(function(){kn===void 0&&(kn=null);var Ln=kn;return new et(function(Zn,er){var sr=Mn._dbInfo;sr.serializer.serialize(kn,function(or,lr){if(lr)er(lr);else try{localStorage.setItem(sr.keyPrefix+ln,or),Zn(Ln)}catch(pr){(pr.name==="QuotaExceededError"||pr.name==="NS_ERROR_DOM_QUOTA_REACHED")&&er(pr),er(pr)}})})});return rt(Bn,mn),Bn}function Tr(ln,kn){if(kn=dt.apply(this,arguments),ln=typeof ln!="function"&&ln||{},!ln.name){var mn=this.config();ln.name=ln.name||mn.name,ln.storeName=ln.storeName||mn.storeName}var Mn=this,Bn;return ln.name?Bn=new et(function(Ln){ln.storeName?Ln(Qn(ln,Mn._defaultConfig)):Ln(ln.name+"/")}).then(function(Ln){for(var Zn=localStorage.length-1;Zn>=0;Zn--){var er=localStorage.key(Zn);er.indexOf(Ln)===0&&localStorage.removeItem(er)}}):Bn=et.reject("Invalid arguments"),rt(Bn,kn),Bn}var Cr={_driver:"localStorageWrapper",_initStorage:ir,_support:Dn(),iterate:ur,getItem:tr,setItem:br,removeItem:_r,clear:Jn,length:vr,key:mr,keys:yr,dropInstance:Tr},Or=function(kn,mn){return kn===mn||typeof kn=="number"&&typeof mn=="number"&&isNaN(kn)&&isNaN(mn)},Cs=function(kn,mn){for(var Mn=kn.length,Bn=0;Bn<Mn;){if(Or(kn[Bn],mn))return!0;Bn++}return!1},Po=Array.isArray||function(ln){return Object.prototype.toString.call(ln)==="[object Array]"},gs={},No={},es={INDEXEDDB:$n,WEBSQL:Nn,LOCALSTORAGE:Cr},Ml=[es.INDEXEDDB._driver,es.WEBSQL._driver,es.LOCALSTORAGE._driver],ks=["dropInstance"],Ws=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ks),Fl={description:"",driver:Ml.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function $l(ln,kn){ln[kn]=function(){var mn=arguments;return ln.ready().then(function(){return ln[kn].apply(ln,mn)})}}function Vs(){for(var ln=1;ln<arguments.length;ln++){var kn=arguments[ln];if(kn)for(var mn in kn)kn.hasOwnProperty(mn)&&(Po(kn[mn])?arguments[0][mn]=kn[mn].slice():arguments[0][mn]=kn[mn])}return arguments[0]}var zl=function(){function ln(kn){g(this,ln);for(var mn in es)if(es.hasOwnProperty(mn)){var Mn=es[mn],Bn=Mn._driver;this[mn]=Bn,gs[Bn]||this.defineDriver(Mn)}this._defaultConfig=Vs({},Fl),this._config=Vs({},this._defaultConfig,kn),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ln.prototype.config=function(mn){if((typeof mn>"u"?"undefined":h(mn))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Mn in mn){if(Mn==="storeName"&&(mn[Mn]=mn[Mn].replace(/\W/g,"_")),Mn==="version"&&typeof mn[Mn]!="number")return new Error("Database version must be a number.");this._config[Mn]=mn[Mn]}return"driver"in mn&&mn.driver?this.setDriver(this._config.driver):!0}else return typeof mn=="string"?this._config[mn]:this._config},ln.prototype.defineDriver=function(mn,Mn,Bn){var Ln=new et(function(Zn,er){try{var sr=mn._driver,or=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!mn._driver){er(or);return}for(var lr=Ws.concat("_initStorage"),pr=0,Er=lr.length;pr<Er;pr++){var xr=lr[pr],wr=!Cs(ks,xr);if((wr||mn[xr])&&typeof mn[xr]!="function"){er(or);return}}var Rr=function(){for(var vs=function(Wl){return function(){var Vl=new Error("Method "+Wl+" is not implemented by the current driver"),Oo=et.reject(Vl);return rt(Oo,arguments[arguments.length-1]),Oo}},Hs=0,Ul=ks.length;Hs<Ul;Hs++){var Gs=ks[Hs];mn[Gs]||(mn[Gs]=vs(Gs))}};Rr();var kr=function(vs){gs[sr]&&console.info("Redefining LocalForage driver: "+sr),gs[sr]=mn,No[sr]=vs,Zn()};"_support"in mn?mn._support&&typeof mn._support=="function"?mn._support().then(kr,er):kr(!!mn._support):kr(!0)}catch(Dr){er(Dr)}});return st(Ln,Mn,Bn),Ln},ln.prototype.driver=function(){return this._driver||null},ln.prototype.getDriver=function(mn,Mn,Bn){var Ln=gs[mn]?et.resolve(gs[mn]):et.reject(new Error("Driver not found."));return st(Ln,Mn,Bn),Ln},ln.prototype.getSerializer=function(mn){var Mn=et.resolve(pn);return st(Mn,mn),Mn},ln.prototype.ready=function(mn){var Mn=this,Bn=Mn._driverSet.then(function(){return Mn._ready===null&&(Mn._ready=Mn._initDriver()),Mn._ready});return st(Bn,mn,mn),Bn},ln.prototype.setDriver=function(mn,Mn,Bn){var Ln=this;Po(mn)||(mn=[mn]);var Zn=this._getSupportedDrivers(mn);function er(){Ln._config.driver=Ln.driver()}function sr(pr){return Ln._extend(pr),er(),Ln._ready=Ln._initStorage(Ln._config),Ln._ready}function or(pr){return function(){var Er=0;function xr(){for(;Er<pr.length;){var wr=pr[Er];return Er++,Ln._dbInfo=null,Ln._ready=null,Ln.getDriver(wr).then(sr).catch(xr)}er();var Rr=new Error("No available storage method found.");return Ln._driverSet=et.reject(Rr),Ln._driverSet}return xr()}}var lr=this._driverSet!==null?this._driverSet.catch(function(){return et.resolve()}):et.resolve();return this._driverSet=lr.then(function(){var pr=Zn[0];return Ln._dbInfo=null,Ln._ready=null,Ln.getDriver(pr).then(function(Er){Ln._driver=Er._driver,er(),Ln._wrapLibraryMethodsWithReady(),Ln._initDriver=or(Zn)})}).catch(function(){er();var pr=new Error("No available storage method found.");return Ln._driverSet=et.reject(pr),Ln._driverSet}),st(this._driverSet,Mn,Bn),this._driverSet},ln.prototype.supports=function(mn){return!!No[mn]},ln.prototype._extend=function(mn){Vs(this,mn)},ln.prototype._getSupportedDrivers=function(mn){for(var Mn=[],Bn=0,Ln=mn.length;Bn<Ln;Bn++){var Zn=mn[Bn];this.supports(Zn)&&Mn.push(Zn)}return Mn},ln.prototype._wrapLibraryMethodsWithReady=function(){for(var mn=0,Mn=Ws.length;mn<Mn;mn++)$l(this,Ws[mn])},ln.prototype.createInstance=function(mn){return new ln(mn)},ln}(),Bl=new zl;a.exports=Bl},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs(localforageExports);class Store{constructor(i,o,a){this.urlCache={},this.storage=void 0,this.name=i,this.requester=o||request,this.resolver=a,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let i;typeof localforage>"u"&&(i=localforage),this.storage=i.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(i){let o=navigator.onLine;this.online=o,o?this.emit("online",this):this.emit("offline",this)}add(i,o){let a=i.resources.map(c=>{let{href:h}=c,g=this.resolver(h),b=window.encodeURIComponent(g);return this.storage.getItem(b).then(_=>!_||o?this.requester(g,"binary").then($=>this.storage.setItem(b,$)):_)});return Promise.all(a)}put(i,o,a){let c=window.encodeURIComponent(i);return this.storage.getItem(c).then(h=>h||this.requester(i,"binary",o,a).then(g=>this.storage.setItem(c,g)))}request(i,o,a,c){return this.online?this.requester(i,o,a,c).then(h=>(this.put(i),h)):this.retrieve(i,o)}retrieve(i,o){new defer;var a,c=new Path(i);return o||(o=c.extension),o=="blob"?a=this.getBlob(i):a=this.getText(i),a.then(h=>{var g=new defer,b;return h?(b=this.handleResponse(h,o),g.resolve(b)):g.reject({message:"File not found in storage: "+i,stack:new Error().stack}),g.promise})}handleResponse(i,o){var a;return o=="json"?a=JSON.parse(i):isXml(o)?a=parse(i,"text/xml"):o=="xhtml"?a=parse(i,"application/xhtml+xml"):o=="html"||o=="htm"?a=parse(i,"text/html"):a=i,a}getBlob(i,o){let a=window.encodeURIComponent(i);return this.storage.getItem(a).then(function(c){if(c)return o=o||mime.lookup(i),new Blob([c],{type:o})})}getText(i,o){let a=window.encodeURIComponent(i);return o=o||mime.lookup(i),this.storage.getItem(a).then(function(c){var h=new defer,g=new FileReader,b;if(c)return b=new Blob([c],{type:o}),g.addEventListener("loadend",()=>{h.resolve(g.result)}),g.readAsText(b,o),h.promise})}getBase64(i,o){let a=window.encodeURIComponent(i);return o=o||mime.lookup(i),this.storage.getItem(a).then(c=>{var h=new defer,g=new FileReader,b;if(c)return b=new Blob([c],{type:o}),g.addEventListener("loadend",()=>{h.resolve(g.result)}),g.readAsDataURL(b,o),h.promise})}createUrl(i,o){var a=new defer,c=window.URL||window.webkitURL||window.mozURL,h,g,b=o&&o.base64;return i in this.urlCache?(a.resolve(this.urlCache[i]),a.promise):(b?(g=this.getBase64(i),g&&g.then((function(_){this.urlCache[i]=_,a.resolve(_)}).bind(this))):(g=this.getBlob(i),g&&g.then((function(_){h=c.createObjectURL(_),this.urlCache[i]=h,a.resolve(h)}).bind(this))),g||a.reject({message:"File not found in storage: "+i,stack:new Error().stack}),a.promise)}revokeUrl(i){var o=window.URL||window.webkitURL||window.mozURL,a=this.urlCache[i];a&&o.revokeObjectURL(a)}destroy(){var i=window.URL||window.webkitURL||window.mozURL;for(let o in this.urlCache)i.revokeObjectURL(o);this.urlCache={},this.removeListeners()}}EventEmitter(Store.prototype);class DisplayOptions{constructor(i){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",i&&this.parse(i)}parse(i){if(!i)return this;const o=qs(i,"display_options");return o?(qsa(o,"option").forEach(c=>{let h="";switch(c.childNodes.length&&(h=c.childNodes[0].nodeValue),c.attributes.name.value){case"interactive":this.interactive=h;break;case"fixed-layout":this.fixedLayout=h;break;case"open-to-spread":this.openToSpread=h;break;case"orientation-lock":this.orientationLock=h;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const CONTAINER_PATH="META-INF/container.xml",IBOOKS_DISPLAY_OPTIONS_PATH="META-INF/com.apple.ibooks.display-options.xml",INPUT_TYPE={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Book{constructor(i,o){typeof o>"u"&&typeof i!="string"&&!(i instanceof Blob)&&!(i instanceof ArrayBuffer)&&(o=i,i=void 0),this.settings=extend(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),extend(this.settings,o),this.opening=new defer,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new defer,spine:new defer,metadata:new defer,cover:new defer,navigation:new defer,pageList:new defer,resources:new defer,displayOptions:new defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||request,this.spine=new Spine,this.locations=new Locations(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),i&&this.open(i,this.settings.openAs).catch(a=>{var c=new Error("Cannot load book at "+i);this.emit(EVENTS.BOOK.OPEN_FAILED,c)})}open(i,o){var a,c=o||this.determineType(i);return c===INPUT_TYPE.BINARY?(this.archived=!0,this.url=new Url("/",""),a=this.openEpub(i)):c===INPUT_TYPE.BASE64?(this.archived=!0,this.url=new Url("/",""),a=this.openEpub(i,c)):c===INPUT_TYPE.EPUB?(this.archived=!0,this.url=new Url("/",""),a=this.request(i,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):c==INPUT_TYPE.OPF?(this.url=new Url(i),a=this.openPackaging(this.url.Path.toString())):c==INPUT_TYPE.MANIFEST?(this.url=new Url(i),a=this.openManifest(this.url.Path.toString())):(this.url=new Url(i),a=this.openContainer(CONTAINER_PATH).then(this.openPackaging.bind(this))),a}openEpub(i,o){return this.unarchive(i,o||this.settings.encoding).then(()=>this.openContainer(CONTAINER_PATH)).then(a=>this.openPackaging(a))}openContainer(i){return this.load(i).then(o=>(this.container=new Container(o),this.resolve(this.container.packagePath)))}openPackaging(i){return this.path=new Path(i),this.load(i).then(o=>(this.packaging=new Packaging(o),this.unpack(this.packaging)))}openManifest(i){return this.path=new Path(i),this.load(i).then(o=>(this.packaging=new Packaging,this.packaging.load(o),this.unpack(this.packaging)))}load(i){var o=this.resolve(i);return this.archived?this.archive.request(o):this.request(o,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(i,o){if(i){var a=i,c=i.indexOf("://")>-1;return c?i:(this.path&&(a=this.path.resolve(i)),o!=!1&&this.url&&(a=this.url.resolve(a)),a)}}canonical(i){var o=i;return i?(this.settings.canonical?o=this.settings.canonical(i):o=this.resolve(i,!0),o):""}determineType(i){var o,a,c;if(this.settings.encoding==="base64")return INPUT_TYPE.BASE64;if(typeof i!="string")return INPUT_TYPE.BINARY;if(o=new Url(i),a=o.path(),c=a.extension,c&&(c=c.replace(/\?.*$/,"")),!c)return INPUT_TYPE.DIRECTORY;if(c==="epub")return INPUT_TYPE.EPUB;if(c==="opf")return INPUT_TYPE.OPF;if(c==="json")return INPUT_TYPE.MANIFEST}unpack(i){this.package=i,this.packaging.metadata.layout===""?this.load(this.url.resolve(IBOOKS_DISPLAY_OPTIONS_PATH)).then(o=>{this.displayOptions=new DisplayOptions(o),this.loading.displayOptions.resolve(this.displayOptions)}).catch(o=>{this.displayOptions=new DisplayOptions,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new DisplayOptions,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Resources(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(o=>{console.error(o)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(i){let o=i.navPath||i.ncxPath,a=i.toc;return a?new Promise((c,h)=>{this.navigation=new Navigation(a),i.pageList&&(this.pageList=new PageList(i.pageList)),c(this.navigation)}):o?this.load(o,"xml").then(c=>(this.navigation=new Navigation(c),this.pageList=new PageList(c),this.navigation)):new Promise((c,h)=>{this.navigation=new Navigation,this.pageList=new PageList,c(this.navigation)})}section(i){return this.spine.get(i)}renderTo(i,o){return this.rendition=new Rendition(this,o),this.rendition.attachTo(i),this.rendition}setRequestCredentials(i){this.settings.requestCredentials=i}setRequestHeaders(i){this.settings.requestHeaders=i}unarchive(i,o){return this.archive=new Archive,this.archive.open(i,o)}store(i){let o=this.settings.replacements&&this.settings.replacements!=="none",a=this.url,c=this.settings.requestMethod||request.bind(this);return this.storage=new Store(i,c,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let h=(g,b)=>{b.output=this.resources.substitute(g,b.url)};this.resources.settings.replacements=o||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Url("/",""),this.spine.hooks.serialize.register(h)}),this.storage.on("online",()=>{this.url=a,this.spine.hooks.serialize.deregister(h)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((i,o)=>{o.output=this.resources.substitute(i,o.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(i){var o=new EpubCFI(i),a=this.spine.get(o.spinePos),c=this.load.bind(this);return a?a.load(c).then(function(h){var g=o.toRange(a.document);return g}):new Promise((h,g)=>{g("CFI could not be found")})}key(i){var o=i||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${EPUBJS_VERSION}:${o}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}EventEmitter(Book.prototype);typeof global<"u"&&(global.EPUBJS_VERSION=EPUBJS_VERSION);const FileUploader=({onTextExtracted:s})=>{const[i,o]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{const _=await __vitePreload(()=>import("./pdf.worker.entry-DHlNKx66.js").then($=>$.p),[]);pdfExports.GlobalWorkerOptions.workerSrc=_})()},[]);const a=async b=>{try{const _=await b.arrayBuffer(),$=await pdfExports.getDocument({data:_}).promise;let _e="";for(let et=1;et<=$.numPages;et++){const lt=(await(await $.getPage(et)).getTextContent()).items.map(dt=>dt.str).join(" ");_e+=lt+" "}return _e}catch(_){return console.error("Error extracting PDF text:",_),toast({title:"Error processing PDF",description:"Could not extract text from the PDF file.",variant:"destructive"}),""}},c=async b=>{var _,$;try{const _e=await b.arrayBuffer(),et=new Book;await et.open(_e);let rt="";const st=et.spine;if(st){const lt=st.items||[];for(const dt of lt)try{if(dt&&dt.href){const nt=await et.load(dt.href);if(typeof nt=="string")rt+=nt+" ";else if(nt){let tt="";typeof nt.textContent=="string"?tt=nt.textContent:typeof((_=nt.body)==null?void 0:_.textContent)=="string"?tt=nt.body.textContent:typeof(($=nt.documentElement)==null?void 0:$.textContent)=="string"&&(tt=nt.documentElement.textContent),rt+=tt+" "}}}catch(nt){console.error("Error processing EPUB section:",nt)}}return rt}catch(_e){return console.error("Error extracting EPUB text:",_e),toast({title:"Error processing EPUB",description:"Could not extract text from the EPUB file.",variant:"destructive"}),""}},h=async b=>{try{const{data:_}=await src.recognize(b,"eng",{logger:$=>{$.status}});return _.text||""}catch(_){return console.error("Error extracting image text:",_),toast({title:"Error processing image",description:"Could not extract text from the image file.",variant:"destructive"}),""}},g=async b=>{var et;const _=(et=b.target.files)==null?void 0:et[0];if(!_)return;o(!0);let $="",_e="";try{if(_.type==="application/pdf")_e="pdf",toast({title:"Processing PDF",description:"Extracting text from PDF..."}),$=await a(_);else if(_.type==="application/epub+zip"||_.name.endsWith(".epub"))_e="epub",toast({title:"Processing EPUB",description:"Extracting text from EPUB..."}),$=await c(_);else if(_.type.startsWith("image/"))_e="image",toast({title:"Processing Image",description:"Performing OCR on image..."}),$=await h(_);else if(_.type==="text/plain"){_e="text";const rt=new FileReader;$=await new Promise(st=>{rt.onload=lt=>{var dt;st(((dt=lt.target)==null?void 0:dt.result)||"")},rt.readAsText(_)})}else{toast({title:"Unsupported file format",description:"Please upload a PDF, EPUB, image, or text file.",variant:"destructive"}),o(!1);return}$?(s($,_e),toast({title:"File processed successfully",description:`${_.name} has been loaded.`})):toast({title:"Empty content",description:"No text could be extracted from the file.",variant:"destructive"})}catch(rt){console.error("Error processing file:",rt),toast({title:"Error processing file",description:"An error occurred while processing the file.",variant:"destructive"})}finally{o(!1)}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"file",className:"mb-2 block",children:"Upload File (PDF, EPUB, Image, or Text)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx(Input,{id:"file",type:"file",accept:".pdf,.epub,.txt,image/*",onChange:g,className:"cursor-pointer",disabled:i}),i&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),jsxRuntimeExports.jsx("span",{children:"Processing..."})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{size:14})," PDF"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Book$1,{size:14})," EPUB"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Image$1,{size:14})," Image"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(FileText,{size:14})," Text"]})]})]})},TextProcessor=({text:s,setText:i,onTextProcessed:o})=>{const a=h=>{const g=h.trim().replace(/\s+/g," ").split(" ").filter(b=>b.length>0);o(g)},c=h=>{const g=h.target.value;i(g),a(g)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label,{htmlFor:"text",className:"mb-2 block",children:"Or Enter/Edit Text"}),jsxRuntimeExports.jsx("textarea",{id:"text",value:s,onChange:c,className:"w-full min-h-[150px] p-3 border rounded-md",placeholder:"Paste or type your text here..."})]})};function clamp(s,[i,o]){return Math.min(o,Math.max(i,s))}var DirectionContext=reactExports.createContext(void 0);function useDirection(s){const i=reactExports.useContext(DirectionContext);return s||i||"ltr"}function usePrevious(s){const i=reactExports.useRef({value:s,previous:s});return reactExports.useMemo(()=>(i.current.value!==s&&(i.current.previous=i.current.value,i.current.value=s),i.current.previous),[s])}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection,useCollection,createCollectionScope]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope$1(SLIDER_NAME,[createCollectionScope]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((s,i)=>{const{name:o,min:a=0,max:c=100,step:h=1,orientation:g="horizontal",disabled:b=!1,minStepsBetweenThumbs:_=0,defaultValue:$=[a],value:_e,onValueChange:et=()=>{},onValueCommit:rt=()=>{},inverted:st=!1,form:lt,...dt}=s,nt=reactExports.useRef(new Set),tt=reactExports.useRef(0),at=g==="horizontal"?SliderHorizontal:SliderVertical,[mt=[],ot]=useControllableState({prop:_e,defaultProp:$,onChange:wt=>{var Yt;(Yt=[...nt.current][tt.current])==null||Yt.focus(),et(wt)}}),pt=reactExports.useRef(mt);function ht(wt){const kt=getClosestValueIndex(mt,wt);Tt(wt,kt)}function gt(wt){Tt(wt,tt.current)}function xt(){const wt=pt.current[tt.current];mt[tt.current]!==wt&&rt(mt)}function Tt(wt,kt,{commit:Yt}={commit:!1}){const fn=getDecimalCount(h),an=roundValue(Math.round((wt-a)/h)*h+a,fn),dn=clamp(an,[a,c]);ot((on=[])=>{const Jt=getNextSortedValues(on,dn,kt);if(hasMinStepsBetweenValues(Jt,_*h)){tt.current=Jt.indexOf(dn);const Rt=String(Jt)!==String(on);return Rt&&Yt&&rt(Jt),Rt?Jt:on}else return on})}return jsxRuntimeExports.jsx(SliderProvider,{scope:s.__scopeSlider,name:o,disabled:b,min:a,max:c,valueIndexToChangeRef:tt,thumbs:nt.current,values:mt,orientation:g,form:lt,children:jsxRuntimeExports.jsx(Collection.Provider,{scope:s.__scopeSlider,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:s.__scopeSlider,children:jsxRuntimeExports.jsx(at,{"aria-disabled":b,"data-disabled":b?"":void 0,...dt,ref:i,onPointerDown:composeEventHandlers(dt.onPointerDown,()=>{b||(pt.current=mt)}),min:a,max:c,inverted:st,onSlideStart:b?void 0:ht,onSlideMove:b?void 0:gt,onSlideEnd:b?void 0:xt,onHomeKeyDown:()=>!b&&Tt(a,0,{commit:!0}),onEndKeyDown:()=>!b&&Tt(c,mt.length-1,{commit:!0}),onStepKeyDown:({event:wt,direction:kt})=>{if(!b){const an=PAGE_KEYS.includes(wt.key)||wt.shiftKey&&ARROW_KEYS.includes(wt.key)?10:1,dn=tt.current,on=mt[dn],Jt=h*an*kt;Tt(on+Jt,dn,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((s,i)=>{const{min:o,max:a,dir:c,inverted:h,onSlideStart:g,onSlideMove:b,onSlideEnd:_,onStepKeyDown:$,..._e}=s,[et,rt]=reactExports.useState(null),st=useComposedRefs(i,at=>rt(at)),lt=reactExports.useRef(),dt=useDirection(c),nt=dt==="ltr",tt=nt&&!h||!nt&&h;function it(at){const mt=lt.current||et.getBoundingClientRect(),ot=[0,mt.width],ht=linearScale(ot,tt?[o,a]:[a,o]);return lt.current=mt,ht(at-mt.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:s.__scopeSlider,startEdge:tt?"left":"right",endEdge:tt?"right":"left",direction:tt?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:dt,"data-orientation":"horizontal",..._e,ref:st,style:{..._e.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:at=>{const mt=it(at.clientX);g==null||g(mt)},onSlideMove:at=>{const mt=it(at.clientX);b==null||b(mt)},onSlideEnd:()=>{lt.current=void 0,_==null||_()},onStepKeyDown:at=>{const ot=BACK_KEYS[tt?"from-left":"from-right"].includes(at.key);$==null||$({event:at,direction:ot?-1:1})}})})}),SliderVertical=reactExports.forwardRef((s,i)=>{const{min:o,max:a,inverted:c,onSlideStart:h,onSlideMove:g,onSlideEnd:b,onStepKeyDown:_,...$}=s,_e=reactExports.useRef(null),et=useComposedRefs(i,_e),rt=reactExports.useRef(),st=!c;function lt(dt){const nt=rt.current||_e.current.getBoundingClientRect(),tt=[0,nt.height],at=linearScale(tt,st?[a,o]:[o,a]);return rt.current=nt,at(dt-nt.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:s.__scopeSlider,startEdge:st?"bottom":"top",endEdge:st?"top":"bottom",size:"height",direction:st?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...$,ref:et,style:{...$.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:dt=>{const nt=lt(dt.clientY);h==null||h(nt)},onSlideMove:dt=>{const nt=lt(dt.clientY);g==null||g(nt)},onSlideEnd:()=>{rt.current=void 0,b==null||b()},onStepKeyDown:dt=>{const tt=BACK_KEYS[st?"from-bottom":"from-top"].includes(dt.key);_==null||_({event:dt,direction:tt?-1:1})}})})}),SliderImpl=reactExports.forwardRef((s,i)=>{const{__scopeSlider:o,onSlideStart:a,onSlideMove:c,onSlideEnd:h,onHomeKeyDown:g,onEndKeyDown:b,onStepKeyDown:_,...$}=s,_e=useSliderContext(SLIDER_NAME,o);return jsxRuntimeExports.jsx(Primitive.span,{...$,ref:i,onKeyDown:composeEventHandlers(s.onKeyDown,et=>{et.key==="Home"?(g(et),et.preventDefault()):et.key==="End"?(b(et),et.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(et.key)&&(_(et),et.preventDefault())}),onPointerDown:composeEventHandlers(s.onPointerDown,et=>{const rt=et.target;rt.setPointerCapture(et.pointerId),et.preventDefault(),_e.thumbs.has(rt)?rt.focus():a(et)}),onPointerMove:composeEventHandlers(s.onPointerMove,et=>{et.target.hasPointerCapture(et.pointerId)&&c(et)}),onPointerUp:composeEventHandlers(s.onPointerUp,et=>{const rt=et.target;rt.hasPointerCapture(et.pointerId)&&(rt.releasePointerCapture(et.pointerId),h(et))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((s,i)=>{const{__scopeSlider:o,...a}=s,c=useSliderContext(TRACK_NAME,o);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation,...a,ref:i})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((s,i)=>{const{__scopeSlider:o,...a}=s,c=useSliderContext(RANGE_NAME,o),h=useSliderOrientationContext(RANGE_NAME,o),g=reactExports.useRef(null),b=useComposedRefs(i,g),_=c.values.length,$=c.values.map(rt=>convertValueToPercentage(rt,c.min,c.max)),_e=_>1?Math.min(...$):0,et=100-Math.max(...$);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,...a,ref:b,style:{...s.style,[h.startEdge]:_e+"%",[h.endEdge]:et+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME="SliderThumb",SliderThumb=reactExports.forwardRef((s,i)=>{const o=useCollection(s.__scopeSlider),[a,c]=reactExports.useState(null),h=useComposedRefs(i,b=>c(b)),g=reactExports.useMemo(()=>a?o().findIndex(b=>b.ref.current===a):-1,[o,a]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...s,ref:h,index:g})}),SliderThumbImpl=reactExports.forwardRef((s,i)=>{const{__scopeSlider:o,index:a,name:c,...h}=s,g=useSliderContext(THUMB_NAME,o),b=useSliderOrientationContext(THUMB_NAME,o),[_,$]=reactExports.useState(null),_e=useComposedRefs(i,it=>$(it)),et=_?g.form||!!_.closest("form"):!0,rt=useSize(_),st=g.values[a],lt=st===void 0?0:convertValueToPercentage(st,g.min,g.max),dt=getLabel(a,g.values.length),nt=rt==null?void 0:rt[b.size],tt=nt?getThumbInBoundsOffset(nt,lt,b.direction):0;return reactExports.useEffect(()=>{if(_)return g.thumbs.add(_),()=>{g.thumbs.delete(_)}},[_,g.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[b.startEdge]:`calc(${lt}% + ${tt}px)`},children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:s.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":s["aria-label"]||dt,"aria-valuemin":g.min,"aria-valuenow":st,"aria-valuemax":g.max,"aria-orientation":g.orientation,"data-orientation":g.orientation,"data-disabled":g.disabled?"":void 0,tabIndex:g.disabled?void 0:0,...h,ref:_e,style:st===void 0?{display:"none"}:s.style,onFocus:composeEventHandlers(s.onFocus,()=>{g.valueIndexToChangeRef.current=a})})}),et&&jsxRuntimeExports.jsx(BubbleInput,{name:c??(g.name?g.name+(g.values.length>1?"[]":""):void 0),form:g.form,value:st},a)]})});SliderThumb.displayName=THUMB_NAME;var BubbleInput=s=>{const{value:i,...o}=s,a=reactExports.useRef(null),c=usePrevious(i);return reactExports.useEffect(()=>{const h=a.current,g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"value").set;if(c!==i&&_){const $=new Event("input",{bubbles:!0});_.call(h,i),h.dispatchEvent($)}},[c,i]),jsxRuntimeExports.jsx("input",{style:{display:"none"},...o,ref:a,defaultValue:i})};function getNextSortedValues(s=[],i,o){const a=[...s];return a[o]=i,a.sort((c,h)=>c-h)}function convertValueToPercentage(s,i,o){const h=100/(o-i)*(s-i);return clamp(h,[0,100])}function getLabel(s,i){return i>2?`Value ${s+1} of ${i}`:i===2?["Minimum","Maximum"][s]:void 0}function getClosestValueIndex(s,i){if(s.length===1)return 0;const o=s.map(c=>Math.abs(c-i)),a=Math.min(...o);return o.indexOf(a)}function getThumbInBoundsOffset(s,i,o){const a=s/2,h=linearScale([0,50],[0,a]);return(a-h(i)*o)*o}function getStepsBetweenValues(s){return s.slice(0,-1).map((i,o)=>s[o+1]-i)}function hasMinStepsBetweenValues(s,i){if(i>0){const o=getStepsBetweenValues(s);return Math.min(...o)>=i}return!0}function linearScale(s,i){return o=>{if(s[0]===s[1]||i[0]===i[1])return i[0];const a=(i[1]-i[0])/(s[1]-s[0]);return i[0]+a*(o-s[0])}}function getDecimalCount(s){return(String(s).split(".")[1]||"").length}function roundValue(s,i){const o=Math.pow(10,i);return Math.round(s*o)/o}var Root=Slider$1,Track=SliderTrack,Range$1=SliderRange,Thumb=SliderThumb;const Slider=reactExports.forwardRef(({className:s,...i},o)=>jsxRuntimeExports.jsxs(Root,{ref:o,className:cn("relative flex w-full touch-none select-none items-center",s),...i,children:[jsxRuntimeExports.jsx(Track,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:jsxRuntimeExports.jsx(Range$1,{className:"absolute h-full bg-primary"})}),jsxRuntimeExports.jsx(Thumb,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Slider.displayName=Root.displayName;const SpeedControls=({wpm:s,onWpmChange:i})=>{const o=a=>{i(a[0])};return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-2",children:[jsxRuntimeExports.jsx(Label,{htmlFor:"wpm",children:"Reading Speed (WPM)"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[s," WPM"]})]}),jsxRuntimeExports.jsx(Slider,{id:"wpm",value:[s],min:100,max:1e3,step:10,onValueChange:o})]})})},ReaderDisplay=({words:s,currentWordIndex:i,progress:o,isPlaying:a,onTogglePlayPause:c,onReset:h})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-32 flex items-center justify-center mb-4 text-5xl font-bold",children:s.length>0?s[i]:"Ready"}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-6",children:jsxRuntimeExports.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all",style:{width:`${o}%`}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:c,variant:a?"outline":"default",size:"lg",disabled:s.length===0,children:[a?jsxRuntimeExports.jsx(Pause,{className:"mr-2 h-4 w-4"}):jsxRuntimeExports.jsx(Play,{className:"mr-2 h-4 w-4"}),a?"Pause":"Start"]}),jsxRuntimeExports.jsxs(Button,{onClick:h,variant:"outline",size:"lg",disabled:s.length===0||i===0,children:[jsxRuntimeExports.jsx(RotateCcw,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]}),ReadingStats=({words:s,currentWordIndex:i,wpm:o})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Reading Stats"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-2 rounded-md bg-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Words"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-medium",children:s.length})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-2 rounded-md bg-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Current Position"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-medium",children:[s.length>0?i+1:0,"/",s.length]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-2 rounded-md bg-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Time Remaining"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-medium",children:[s.length>0?Math.ceil((s.length-i-1)/o):0," min"]})]})]})]}),SpeedReader=()=>{const[s,i]=reactExports.useState(""),[o,a]=reactExports.useState([]),[c,h]=reactExports.useState(0),[g,b]=reactExports.useState(300),[_,$]=reactExports.useState(!1),[_e,et]=reactExports.useState(0),[rt,st]=reactExports.useState(null),lt=reactExports.useRef(null),dt=(mt,ot)=>{i(mt),st(ot);const pt=mt.trim().replace(/\s+/g," ").split(" ").filter(ht=>ht.length>0);a(pt),h(0),et(0)},nt=mt=>{a(mt),h(0),et(0)},tt=mt=>{b(mt)},it=()=>{$(!_)},at=()=>{$(!1),h(0),et(0)};return reactExports.useEffect(()=>{if(_&&o.length>0){lt.current&&clearInterval(lt.current);const mt=Math.floor(6e4/g);return lt.current=setInterval(()=>{h(ot=>ot>=o.length-1?($(!1),ot):ot+1)},mt),()=>{lt.current&&clearInterval(lt.current)}}},[_,g,o.length]),reactExports.useEffect(()=>{o.length>0&&et(c/(o.length-1)*100)},[c,o.length]),jsxRuntimeExports.jsxs("div",{className:"container mx-auto py-8 px-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Speed Reader"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"1. Upload or Enter Text"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(FileUploader,{onTextExtracted:dt}),jsxRuntimeExports.jsx(TextProcessor,{text:s,setText:i,onTextProcessed:nt})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"2. Set Reading Speed"}),jsxRuntimeExports.jsx(SpeedControls,{wpm:g,onWpmChange:tt})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"3. Speed Read"}),jsxRuntimeExports.jsx(ReaderDisplay,{words:o,currentWordIndex:c,progress:_e,isPlaying:_,onTogglePlayPause:it,onReset:at})]})]}),jsxRuntimeExports.jsx("div",{className:"rounded-lg border p-4 mb-8",children:jsxRuntimeExports.jsx(ReadingStats,{words:o,currentWordIndex:c,wpm:g})})]})},NotFound=()=>{const s=useLocation();return reactExports.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),jsxRuntimeExports.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},queryClient=new QueryClient,App=()=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster$1,{}),jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"/speed-reader",element:jsxRuntimeExports.jsx(SpeedReader,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})})]})});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
